webpackJsonp([1],{"/o5o":function(t,e,a){"use strict";var s={name:"Modal",props:{FTAarray:Array,UsedFTAarray:Array,GotTarget:Boolean,targetTask:Object,infoType:String},data:function(){return{displayFTA:!0,hours:null,estimatedHours:null}},mounted:function(){},methods:{updateParentFTE:function(t){this.$emit("updateFTE",t.target.value)},switchType:function(t){"fte"==t?this.hours=40*this.targetTask.task_usedFTE:this.targetTask.task_usedFTE=(this.hours/40).toFixed(2),"TBD"==this.targetTask.task_FTE?this.estimatedHours="TBD":this.estimatedHours=40*this.targetTask.task_FTE},AddInfo:function(t){if("save"==t){if(null==this.targetTask.task_usedFTE||""==this.targetTask.task_usedFTE){if("both"!=this.infoType||"TBD"==this.targetTask.task_FTE)return M.toast({html:"Please set used FTE"}),!1;this.targetTask.task_usedFTE=this.targetTask.task_FTE}this.$emit("AddInfo")}M.Modal.getInstance($("#modal1")).close()}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal",attrs:{id:"modal1"}},[t.GotTarget?a("div",{staticClass:"modal-content"},[a("h4",[t._v("Required info")]),t._v(" "),"UsedOnly"==t.infoType?a("div",[a("p",[t._v("Please update the used FTE")]),t._v(" "),t.displayFTA?a("span",{staticClass:"FTEcont"},[a("select",{staticStyle:{display:"inline",width:"70px"},domProps:{value:t.targetTask.task_usedFTE},on:{change:function(e){t.updateParentFTE(e)}}},t._l(t.UsedFTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("FTE")])]):a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hours=e.target.multiple?a:a[0]},function(e){t.switchType("hours")}]}},t._l(t.UsedFTAarray,function(e){return a("option",{key:e.id,domProps:{value:40*e}},[t._v(t._s(40*e))])})),t._v(" "),a("span",[t._v("Hours")])])]):t._e(),t._v(" "),"both"==t.infoType?a("div",[t._m(0),t._v(" "),a("div",{staticClass:"row"},[t._v("\n        Estimated :\n        "),t.displayFTA?a("span",[t._v("\n        "+t._s(t.targetTask.task_FTE)+" FTE\n        ")]):a("span",[t._v("\n        "+t._s(t.estimatedHours)+" hours\n        ")])]),t._v(" "),a("div",{staticClass:"row"},[t._v("\n        Used:         \n        "),t.displayFTA?a("span",{staticClass:"FTEcont"},[a("select",{staticStyle:{display:"inline",width:"70px"},domProps:{value:t.targetTask.task_usedFTE},on:{change:function(e){t.updateParentFTE(e)}}},t._l(t.UsedFTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("FTE")])]):a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hours=e.target.multiple?a:a[0]},function(e){t.switchType("hours")}]}},t._l(t.UsedFTAarray,function(e){return a("option",{key:e.id,domProps:{value:40*e}},[t._v(t._s(40*e))])})),t._v(" "),a("span",[t._v("Hours")])])])]):t._e(),t._v(" "),a("div",{staticClass:"switch"},[a("label",[t._v("\n        Hours\n        "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayFTA,expression:"displayFTA"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayFTA)?t._i(t.displayFTA,null)>-1:t.displayFTA},on:{change:[function(e){var a=t.displayFTA,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.displayFTA=a.concat([null])):r>-1&&(t.displayFTA=a.slice(0,r).concat(a.slice(r+1)))}else t.displayFTA=i},function(e){t.switchType("fte")}]}}),t._v(" "),a("span",{staticClass:"lever"}),t._v("\n        FTE\n      ")])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn black",attrs:{type:"button"},on:{click:function(e){t.AddInfo("close")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.AddInfo("save")}}},[t._v("Save")])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("p",[e("i",[this._v("Please update the used FTE")])]),this._v(" "),e("blockquote",[this._v("If left blank will set the estimated value")])])}]},r=a("VU/8")(s,i,!1,null,null,null);e.a=r.exports},"2ZyV":function(t,e,a){"use strict";var s=a("GkZ1"),i=[],r=[],n=[],l=[],o=[],c={};s.a.ref("/LISTS/").once("value",function(t){c=t.val()}).then(function(t){c.Statuses.List.split("#").forEach(function(t){i.push(t)}),c.FTE.List.split("#").forEach(function(t){r.push(t),n.push(t)}),n[0]="0.00",c.Environments.List.split("#").forEach(function(t){l.push(t)})}),s.a.ref("/USERS/").orderByChild("isOwner").equalTo(!0).once("value",function(t){var e=t.val();for(var a in e)o.push({Label:e[a].Label,UID:a});o=o.sort(function(t,e){return t.Label<e.Label?-1:t.Label>e.Label?1:0})}),e.a={statusesList:i,FTEList:r,usedFTEArrList:n,innoProjCat:[],OwnersList:o}},"4Ql2":function(t,e){},"64js":function(t,e){},"6scv":function(t,e){},GkZ1:function(t,e,a){"use strict";var s=a("Sazm"),i=a.n(s).a.initializeApp({apiKey:"AIzaSyCsDSReKfWhvJzGO1Jh5z3B3rDUkX76vIY",authDomain:"mytasks-bb203.firebaseapp.com",databaseURL:"https://mytasks-bb203.firebaseio.com",projectId:"mytasks-bb203",storageBucket:"mytasks-bb203.appspot.com",messagingSenderId:"225424257486",timestampsInSnapshots:!0});e.a=i.database()},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("Sazm"),r=a.n(i),n=a("GkZ1"),l={name:"navbar",props:{isManager:Boolean,isLoggedIn:Boolean},data:function(){return{currentUser:""}},created:function(){r.a.auth().currentUser&&(this.currentUser=r.a.auth().currentUser.email)},mounted:function(){$(".tooltipped").tooltip(),$(".dropdown-trigger").dropdown(),/trident/.test(navigator.userAgent.toLowerCase())&&($("body").html("<center>The application was designed for Google Chrome</center>"),alert("== Please use Chrome to open this page =="))},methods:{logout:function(){var t=this;r.a.auth().signOut().then(function(){t.$router.go({path:t.$router.path})})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",[a("div",{staticClass:"nav-wrapper grey darken-3 row"},[t.isLoggedIn?a("span",{staticClass:"brand-logo left hide-on-small-only",staticStyle:{"margin-left":"20px"}},[a("i",{staticClass:"large material-icons tooltipped",staticStyle:{"padding-top":"4px",color:"#8bbf8b",cursor:"help"},attrs:{"data-position":"bottom","data-tooltip":t.currentUser}},[t._v("account_circle")]),t._v(" "),t.isLoggedIn?a("a",[a("button",{staticClass:"btn-flat white-text",on:{click:t.logout}},[t._v("Logout")])]):t._e(),t._v(" "),a("a",{staticClass:"material-icons blue-text text-lighten-3",attrs:{href:"http://kb.ipsosinteractive.com/Compentence_Stuff/%5BCompetence_Internal%5D_Meinetasks_App",target:"_blank"}},[t._v("help_outline")])]):t._e(),t._v(" "),t._m(0),t._v(" "),a("ul",{staticClass:"hide-on-small-only right"},[t.isLoggedIn?a("li",[a("router-link",{staticClass:"link",attrs:{to:"/"}},[t._v("My Dashboard")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{staticClass:"link",attrs:{to:"/backlog"}},[t._v("Backlog")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{staticClass:"link",attrs:{to:"/view/users"}},[t._v("View Users ")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{staticClass:"link",attrs:{to:"/view/projcat"}},[t._v("View Projects ")])],1):t._e(),t._v(" "),t.isLoggedIn&&t.isManager?a("li",[a("router-link",{staticClass:"link",attrs:{to:"/admn"}},[t._v("Admin")])],1):t._e(),t._v(" "),t.isLoggedIn?t._e():a("li",[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])])]),t._v(" "),a("ul",{staticClass:"dropdown-content",attrs:{id:"dropdown1"}},[t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/"}},[t._v("My Dashboard")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/backlog"}},[t._v("Backlog")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/users"}},[t._v("View Users ")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/projcat"}},[t._v("View Projects ")])],1):t._e(),t._v(" "),t.isLoggedIn?t._e():a("li",[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"dropdown-trigger right col s12 hide-on-med-and-up\t",attrs:{href:"#!","data-target":"dropdown1"}},[this._v("Select View"),e("i",{staticClass:"material-icons right"},[this._v("arrow_drop_down")])])}]};var c={name:"App",components:{Navbar:a("VU/8")(l,o,!1,function(t){a("VBJJ")},null,null).exports},data:function(){return{isLoggedIn:!1,isManager:!1,userEmail:"",LogedUser:null,hasDone:!1,viewDone:null,tasksDashboard:[],tasksAllview:[],tasksMyActive:[],logData:[],chartData:[]}},mounted:function(){if(r.a.auth().currentUser){this.isLoggedIn=!0;var t=this,e=r.a.auth().currentUser.uid;n.a.ref("/USERS/").orderByKey().equalTo(e).once("value",function(a){(a.val()[e].isManager||"ciprian.ciresaru@ipsos.com"==r.a.auth().currentUser.email)&&(t.isManager=!0)})}},methods:{SetGraphic:function(){this.chartData=[];var t=0,e=0,a=0,s=0;this.tasksDashboard.forEach(function(i){i.task_inProgress&&t++,i.task_notStarted&&a++,i.task_onHold&&e++,i.task_completed&&s++}),this.chartData.push(["Not started",a]),this.chartData.push(["In progress",t]),this.chartData.push(["On hold",e]),this.chartData.push(["Completed",s])}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Navbar",{attrs:{isManager:t.isManager,isLoggedIn:t.isLoggedIn}}),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("router-view",{attrs:{tasksDashboard:t.tasksDashboard,tasksMyActive:t.tasksMyActive,chartData:t.chartData,isLoggedIn:t.isLoggedIn,isManager:t.isManager}})],1)],1)},staticRenderFns:[]},u=a("VU/8")(c,d,!1,null,null,null).exports,_=a("/ocq"),v=a("mvHQ"),p=a.n(v),m=a("2ZyV"),h=a("/o5o"),k=a("PJh5"),f={name:"dashboard",props:{isLoggedIn:Boolean},components:{modal:h.a},data:function(){return{FTAarray:m.a.FTEList,UsedFTAarray:m.a.usedFTEArrList,nStatusesList:m.a.statusesList,nSelectedStatus:"In progress",ShowFTE:"estimated",showDetails:!1,showProject:!0,showNewProj:!1,showNewProjCat:!1,detail_link:"",detail_title:"",task_attachement:[],SelectedProjCat:null,displayFTA:!0,targetTask:null,Header:[{txt:"Task name",m:"m2",sby:"task_name",hasSort:!0},{txt:"Description",m:"m3",sby:"task_description",hasSort:!0},{txt:"Project",m:"m1 truncate",sby:"task_project",hasSort:!0},{txt:"Attachment",m:"m1 truncate",sby:"",hasSort:!1},{txt:"Status",m:"m1 truncate",sby:"task_status",hasSort:!0},{txt:"Deadline",m:"m1 truncate",sby:"task_deadline",hasSort:!0},{txt:"FTE",m:"m1 truncate",sby:"task_FTE",hasSort:!0},{txt:"Quick actions",m:"m2 truncate",sby:"",hasSort:!1}],HSorted:"Deadline",SortBy:"task_deadline",tasks_Active:[],tasks_Archived:[],hasDone:!1,viewDone:null,GotTarget:!1,hours:null,ShowCompleted:!1,ShowArchived:!1,gotActive:!1,gotArchived:!1,logData:[]}},created:function(){this.GetFireTask(!0)},mounted:function(){$(".modal").modal()},computed:{viewActive:function(){return this.tasks_Active.filter(function(t){return["In progress","On hold","Not started"].indexOf(t.task_status)>-1}).sort(this.sortMNG)},viewCompleted:function(){return this.tasks_Active.filter(function(t){return-1==["In progress","On hold","Not started"].indexOf(t.task_status)}).sort(this.sortMNG)}},updated:function(){$(".tooltipped").tooltip()},methods:{AddInfo:function(){var t={};t.tStatus=this.targetTask.newStatus,t.tFTEused=this.targetTask.task_usedFTE,"Completed"==this.targetTask.newStatus&&(t.tClosedDate=k().format("YYYY-MM-DD")),n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/"+this.targetTask.id+"/").update(t)},updateFTEs:function(t){this.targetTask.task_usedFTE=t},EditTask:function(t){this.targetTask=JSON.parse(p()(t)),this.targetTask.hours=4*this.targetTask.task_FTE,this.targetTask.UsedHours=4*this.targetTask.task_usedFTE,this.targetTask.task_description=this.targetTask.task_description.replace(/<br\/>/g,"\n"),this.getCreatorLabel(this.targetTask.task_creatorUID),M.Modal.getInstance($("#modal2")).open()},cancelUpdate:function(){M.Modal.getInstance($("#modal2")).close(),this.targetTask={}},updateTask:function(){return new Date($("#DeadLine").val())<new Date($("#StartDate").val())?(M.toast({html:"Start date should be sooner than Deadline"}),$("#StartDate,#DeadLine").css("border","solid red 1px"),!1):"used"==this.ShowFTE&&null==this.targetTask.task_usedFTE?(M.toast({html:"Used FTE should not be null"}),$(".FTEcont select").css("border","solid red 1px"),!1):void n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/"+this.targetTask.id+"/").update({tName:this.targetTask.task_name,tDescription:this.targetTask.task_description,tStart:this.targetTask.task_start,tDeadline:this.targetTask.task_deadline,tFTE:this.targetTask.task_FTE,tFTEused:this.targetTask.task_usedFTE?this.targetTask.task_usedFTE:"",tAttach:this.targetTask.task_attachement,tStatus:this.targetTask.task_status,ModifiedBy:r.a.auth().currentUser.uid,ModifiedDate:k().format("YYYY-MM-DD HH:MM"),t_isActive:"No"==this.targetTask.task_isActive}).then(function(t){console.log("task update done"),M.Modal.getInstance($("#modal2")).close()}).catch(function(t){console.error("Error writing document: ",t)})},getCreatorLabel:function(t){var e=this;n.a.ref("/USERS/").orderByKey().equalTo(t).once("value",function(a){e.targetTask.task_createdBy=a.val()[t].Label})},AddHyperlink:function(){if(""!=this.detail_link){var t=this.detail_title?this.detail_title:"Click here";-1==this.detail_link.indexOf("http")&&(this.detail_link="https://"+this.detail_link),this.targetTask.task_attachement.push("<a href='"+this.detail_link+"' target='_blank'>"+t+"</a>"),this.detail_link="",this.detail_title=""}else M.toast({html:"URL field should not be empty"})},RemoveHyperlink:function(t){var e=this.targetTask.task_attachement.indexOf(t);this.targetTask.task_attachement.splice(e,1)},updateUsedFTE:function(t){"fte"==t?this.targetTask.UsedHours=40*this.targetTask.task_usedFTE:this.targetTask.task_usedFTE=(this.targetTask.UsedHours/40).toFixed(2)},updateFTE:function(t){"fte"==t?this.targetTask.hours=40*this.targetTask.task_FTE:this.targetTask.task_FTE=(this.targetTask.hours/40).toFixed(2)},GetFireTask:function(t){var e=r.a.auth().currentUser.uid,a=this;n.a.ref("/USERS/"+e+"/TASKS/").orderByChild("t_isActive").equalTo(t).on("value",function(e){t?a.tasks_Active=[]:a.tasks_Archived=[];var s=e.val();for(var i in s){var r={id:i,task_name:s[i].tName,task_description:s[i].tDescription.replace(/\n/g,"<br/>"),task_projectCategory:s[i].tProjCateg,task_project:s[i].tProject,task_attachement:s[i].tAttach?s[i].tAttach:[],task_start:s[i].tStart,task_deadline:s[i].tDeadline,task_FTE:s[i].tFTE?s[i].tFTE:"none",task_usedFTE:s[i].tFTEused?s[i].tFTEused:null,task_status:s[i].tStatus,task_isActive:s[i].t_isActive?"No":"Yes",task_creatorUID:s[i].CreatedBy,t_isPrivate:"Personal"==s[i].tProjCateg};t?a.tasks_Active.push(r):a.tasks_Archived.push(r)}t?a.gotActive=!0:a.gotArchived=!0})},StatusUpdateFTE:function(t,e){this.targetTask.task_status=t;var a=this.ShowFTE;this.ShowFTE="Canceled"==t||"Completed"==t||"On hold"==t?"used":"estimated",a!=this.ShowFTE&&e&&setTimeout(function(){$(".FTEcont").effect("pulsate",{times:3},3e3)},500)},sortMNG:function(t,e){return t[this.SortBy]<e[this.SortBy]?-1:t[this.SortBy]>e[this.SortBy]?1:0},HeaderClick:function(t){t.hasSort&&(this.HSorted=t.txt,this.SortBy=t.sby)},GetArchived:function(){this.gotArchived||this.GetFireTask(!1)},CloseTask:function(t){n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/"+t.id+"/").update({t_isActive:!1}).then(function(t){$(".material-tooltip").removeAttr("style"),console.log("update done")})},DeleteTask:function(t){window.confirm("The task: \n*** "+t.task_name+" ***\nwill be permanently deleted, are you sure?")&&n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/"+t.id+"/").remove().then(function(t){$(".material-tooltip").removeAttr("style")})},CompleteTask:function(t){"Personal"!=t.task_projectCategory?(this.targetTask=t,this.hours=40*this.targetTask.task_usedFTE,this.GotTarget=!0,this.targetTask.newStatus="Completed",M.Modal.getInstance($("#modal1")).open()):(this.targetTask=t,this.targetTask.newStatus="Completed",this.AddInfo())},StartStop:function(t){this.targetTask=t,this.hours=40*this.targetTask.task_usedFTE,this.GotTarget=!0,this.targetTask.newStatus="In progress"==t.task_status?"On hold":"In progress","In progress"!=this.targetTask.newStatus?M.Modal.getInstance($("#modal1")).open():n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/"+t.id+"/").update({tStatus:this.targetTask.newStatus})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px 50px"},attrs:{id:"dashboard"}},[a("div",{staticClass:"row hide-on-small-only myHeader"},t._l(t.Header,function(e){return a("h6",{key:e.txt,staticClass:"col s12 left",class:[e.m,{sorted:e.txt==t.HSorted},{clickable:e.hasSort}],on:{click:function(a){t.HeaderClick(e)}}},[t._v(t._s(e.txt))])})),t._v(" "),t._l(t.viewActive,function(e){return a("div",{key:e.id,staticClass:"row tblRow",class:e.task_status.replace(" ","")},[a("div",{staticClass:"col m2 s12 clickable NameEdit",on:{click:function(a){t.EditTask(e)}}},[a("span",[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_project))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_deadline))]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_FTE))]),t._v(" "),t.isLoggedIn?a("div",{staticClass:"col m2"},[e.t_isPrivate?a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Delete</span>"}},[a("i",{staticClass:"material-icons right DelIcn",on:{click:function(a){t.DeleteTask(e)}}},[t._v("delete_forever")])]):t._e(),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>"}},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Complete</span>"}},[a("i",{staticClass:"fas",class:e.task_completed?"fa-clipboard-check":"fa-check",on:{click:function(a){t.CompleteTask(e)}}})]),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Start/Stop</span>"}},[a("i",{staticClass:"far",class:"In progress"==e.task_status?"fa-stop-circle":"fa-play-circle",on:{click:function(a){t.StartStop(e)}}})])]):t._e()])}),t._v(" "),a("hr"),t._v(" "),a("div",{staticStyle:{margin:"5px"}},[a("a",{staticClass:"waves-effect waves-light btn-floating lighten-2",class:t.ShowCompleted?"grey":"green",on:{click:function(e){t.ShowCompleted=!t.ShowCompleted}}},[t.ShowCompleted?a("i",{staticClass:"material-icons left"},[t._v("visibility_off")]):a("i",{staticClass:"material-icons left"},[t._v("visibility")])]),t._v(" "),t.ShowCompleted?a("span",[t._v("Hide closed")]):a("span",[t._v("Show closed")])]),t._v(" "),t.ShowCompleted?a("div",{attrs:{id:"CompletedContainer"}},t._l(t.viewCompleted,function(e){return a("div",{key:e.id,staticClass:"row",class:e.task_status.replace(" ","")},[a("div",{staticClass:"col m2 s12"},[a("span",[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_project))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_deadline))]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_FTE))]),t._v(" "),t.isLoggedIn?a("div",{staticClass:"col m2"},[e.t_isPrivate?a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Delete</span>"}},[a("i",{staticClass:"material-icons right DelIcn",on:{click:function(a){t.DeleteTask(e)}}},[t._v("delete_forever")])]):t._e(),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Archive</span>"}},[a("i",{staticClass:"fas fa-eye-slash",on:{click:function(a){t.CloseTask(e)}}})]),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>"}},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1)]):t._e()])})):t._e(),t._v(" "),a("div",{staticStyle:{margin:"5px"}},[a("a",{staticClass:"waves-effect waves-light btn-floating lighten-2",class:t.ShowArchived?"grey":"green",on:{click:function(e){t.ShowArchived=!t.ShowArchived,t.GetArchived()}}},[t.ShowArchived?a("i",{staticClass:"material-icons left"},[t._v("visibility_off")]):a("i",{staticClass:"material-icons left"},[t._v("visibility")])]),t._v(" "),t.ShowArchived?a("span",[t._v("Hide archived")]):a("span",[t._v("Show archived")])]),t._v(" "),t.ShowArchived?a("div",{attrs:{id:"ArchivedContainer"}},t._l(t.tasks_Archived,function(e){return a("div",{key:e.id,staticClass:"row",class:e.task_status.replace(" ","")},[a("div",{staticClass:"col m2 s12"},[a("span",[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_project))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_deadline))]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_FTE))]),t._v(" "),t.isLoggedIn?a("div",{staticClass:"col iconContainer"},[e.t_isPrivate?a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Delete</span>"}},[a("i",{staticClass:"material-icons right DelIcn",on:{click:function(a){t.DeleteTask(e)}}},[t._v("delete_forever")])]):t._e(),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>"}},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1)]):t._e()])})):t._e(),t._v(" "),a("div",{staticClass:"modal",attrs:{id:"modal2"}},[a("div",{staticClass:"modal-content"},[a("h3",[t._v("Edit task")]),t._v(" "),t.targetTask?a("div",{staticClass:"row MyContainer"},[a("form",{staticClass:"col s12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.targetTask.task_name,expression:"targetTask.task_name"}],attrs:{placeholder:"Task name",type:"text",required:""},domProps:{value:t.targetTask.task_name},on:{input:function(e){e.target.composing||t.$set(t.targetTask,"task_name",e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Name:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Details:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.targetTask.task_description,expression:"targetTask.task_description"}],attrs:{id:"textarea1",placeholder:"Task details"},domProps:{value:t.targetTask.task_description},on:{input:function(e){e.target.composing||t.$set(t.targetTask,"task_description",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.targetTask.task_start,expression:"targetTask.task_start"}],attrs:{id:"StartDate",type:"date",placeholder:"start date"},domProps:{value:t.targetTask.task_start},on:{input:function(e){e.target.composing||t.$set(t.targetTask,"task_start",e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Start date:")])]),t._v(" "),a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.targetTask.task_deadline,expression:"targetTask.task_deadline"}],attrs:{id:"DeadLine",type:"date",placeholder:"Task deadline"},domProps:{value:t.targetTask.task_deadline},on:{input:function(e){e.target.composing||t.$set(t.targetTask,"task_deadline",e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Deadline:")])]),t._v(" "),"Personal"!=t.targetTask.task_projectCategory?a("div",{attrs:{id:"FTAcontainer"}},["estimated"==t.ShowFTE?a("span",[t.displayFTA?a("span",{staticClass:"FTEcont"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.targetTask.task_FTE,expression:"targetTask.task_FTE"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.targetTask,"task_FTE",e.target.multiple?a:a[0])},function(e){t.updateFTE("fte")}]}},t._l(t.FTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("Estimated FTE")])]):a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.targetTask.hours,expression:"targetTask.hours"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.targetTask,"hours",e.target.multiple?a:a[0])},function(e){t.updateFTE("hours")}]}},t._l(t.FTAarray.filter(function(t){return"TBD"!=t}),function(e){return a("option",{key:e.id,domProps:{value:40*e}},[t._v(t._s(40*e))])})),t._v(" "),a("span",[t._v("Hours")])])]):t._e(),t._v(" "),"used"==t.ShowFTE?a("span",{staticClass:"FTEcont"},[t.displayFTA?a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.targetTask.task_usedFTE,expression:"targetTask.task_usedFTE"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.targetTask,"task_usedFTE",e.target.multiple?a:a[0])},function(e){t.updateUsedFTE("fte")}]}},t._l(t.UsedFTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("Used FTE")])]):a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.targetTask.UsedHours,expression:"targetTask.UsedHours"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.targetTask,"UsedHours",e.target.multiple?a:a[0])},function(e){t.updateUsedFTE("hours")}]}},t._l(t.UsedFTAarray.filter(function(t){return"TBD"!=t}),function(e){return a("option",{key:e.id,domProps:{value:40*e}},[t._v(t._s(40*e))])})),t._v(" "),a("span",[t._v("Used Hours")])])]):t._e(),t._v(" "),a("div",{staticClass:"switch"},[a("label",[t._v("\n                  Hours\n                  "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayFTA,expression:"displayFTA"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayFTA)?t._i(t.displayFTA,null)>-1:t.displayFTA},on:{change:function(e){var a=t.displayFTA,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.displayFTA=a.concat([null])):r>-1&&(t.displayFTA=a.slice(0,r).concat(a.slice(r+1)))}else t.displayFTA=i}}}),t._v(" "),a("span",{staticClass:"lever"}),t._v("\n                  FTE\n                ")])])]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Status:")]),t._v(" "),a("div",{staticClass:"input-field"},t._l(t.nStatusesList.filter(function(t){return"Not allocated"!=t}),function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.targetTask.task_status==e},on:{click:function(a){t.StatusUpdateFTE(e,!0)}}},[t._v(t._s(e))])}))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.targetTask.task_isActive,expression:"targetTask.task_isActive"}],staticStyle:{display:"block",width:"70px","margin-top":"10px"},attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.targetTask,"task_isActive",e.target.multiple?a:a[0])}}},[a("option",[t._v("Yes")]),t._v(" "),a("option",[t._v("No")])]),t._v(" "),a("label",{staticClass:"active"},[t._v("Is archived:")]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Attachment:")]),t._v(" "),t._l(t.targetTask.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}}),t._v(" "),a("i",{staticClass:"fas fa-minus-square red-text",staticStyle:{cursor:"pointer"},on:{click:function(a){t.RemoveHyperlink(e)}}})])}),t._v(" "),a("div",{staticClass:"helperfield row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"input-field col m4"},[a("label",{staticClass:"col",attrs:{for:"linkDetails"}},[t._v("File URL path:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_link,expression:"detail_link"}],attrs:{id:"linkDetails",type:"text"},domProps:{value:t.detail_link},on:{input:function(e){e.target.composing||(t.detail_link=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col m2 input-field"},[a("label",{staticClass:"col",attrs:{for:"linkhyper"}},[t._v("Link caption:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_title,expression:"detail_title"}],attrs:{id:"linkhyper",type:"text"},domProps:{value:t.detail_title},on:{input:function(e){e.target.composing||(t.detail_title=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small col cyan darken-2",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.AddHyperlink()}}},[a("i",{staticClass:"material-icons"},[t._v("public")]),t._v("\n                  Add attachment hyperlink\n                ")])])],2)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12 info"},[a("span",[t._v("\n                Task category :\n                "),a("b",[t._v(t._s(t.targetTask.task_project))]),t._v(" >\n                "),a("b",[t._v(t._s(t.targetTask.task_projectCategory))])]),t._v(" "),a("br"),t._v(" "),a("span",[t._v("\n                Task created by :\n                "),a("b",[t._v(t._s(t.targetTask.task_createdBy))])])])])])]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn black",attrs:{type:"button"},on:{click:function(e){t.cancelUpdate()}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.updateTask()}}},[t._v("Save")])])]),t._v(" "),a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large blue",attrs:{to:"/AddNew"}},[a("i",{staticClass:"fa fa-plus-square"})])],1),t._v(" "),a("modal",{attrs:{FTAarray:t.FTAarray,UsedFTAarray:t.UsedFTAarray,GotTarget:t.GotTarget,targetTask:t.targetTask,infoType:"UsedOnly"},on:{updateFTE:function(e){t.updateFTEs(e)},AddInfo:function(e){t.AddInfo(e)}}})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info"},[this._v("\n                By setting this to\n                "),e("b",[this._v("Yes")]),this._v(" the task will be moved to archived category\n              ")])}]};var S=a("VU/8")(f,g,!1,function(t){a("qnlp")},"data-v-7f4ab9f2",null).exports,y={name:"backlog",props:{isLoggedIn:Boolean,isManager:Boolean},data:function(){return{Header:[{txt:"Task name",m:"m2",sby:"task_name",hasSort:!0},{txt:"Description",m:"m3",sby:"task_description",hasSort:!0},{txt:"Attachment",m:"m1 truncate",sby:"",hasSort:!1},{txt:"Project",m:"m1 truncate",sby:"task_project",hasSort:!0},{txt:"Priority",m:"m1 truncate",sby:"task_PriorNum",hasSort:!0},{txt:"Deadline",m:"m1 truncate",sby:"task_deadline",hasSort:!0},{txt:"FTE",m:"m1 truncate",sby:"task_FTE",hasSort:!0},{txt:"Volunteers",m:"m1 truncate",sby:"task_vol",hasSort:!0}],HSorted:"Priority",tasksBackLog:[],hasDone:!1,viewDone:null,currUserName:null,SortBy:"task_PriorNum"}},mounted:function(){var t=this,e=this;n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/Label/").once("value",function(e){t.currUserName=e.val()}),n.a.ref("/USERS/backlog/TASKS/").orderByChild("t_isActive").equalTo(!0).on("value",function(a){e.tasksBackLog=[];var s=a.val();for(var i in s)if("Not allocated"==s[i].tStatus){var r={id:i,task_name:s[i].tName,task_description:s[i].tDescription.replace(/\n/g,"<br/>"),task_projectCategory:s[i].tProjCateg,task_project:s[i].tProject,task_attachement:s[i].tAttach?s[i].tAttach:[],task_deadline:s[i].tDeadline,task_FTE:s[i].tFTE?s[i].tFTE:"none",task_priority:s[i].tPriority?s[i].tPriority:"",task_usedFTE:s[i].tFTEused?s[i].tFTEused:null,task_status:s[i].tStatus,task_vol:s[i].tVol?s[i].tVol:[],task_owner:s[i].tOwner.UID,task_isActive:s[i].t_isActive};r.task_iVol=r.task_vol.indexOf(t.currUserName)>-1,r.task_PriorNum=["High","Normal","Low"].indexOf(r.task_priority),e.tasksBackLog.push(r)}e.tasksBackLog.sort(e.sortMNG)})},updated:function(){$(".tooltipped").tooltip()},methods:{VolMe:function(t){if(t.task_iVol){var e=t.task_vol.indexOf(this.currUserName);-1!=e&&(t.task_vol.splice(e,1),t.task_iVol=!1)}else t.task_vol.push(this.currUserName),t.task_iVol=!0;n.a.ref("/USERS/backlog/TASKS/"+t.id).update({tVol:t.task_vol}).then(function(t){M.toast({html:"Task was updated"})})},HeaderClick:function(t){t.hasSort&&(this.DoSort(t.sby),this.HSorted=t.txt)},DoSort:function(t){this.SortBy=t,this.tasksBackLog.sort(this.sortMNG)},sortMNG:function(t,e){return t[this.SortBy]<e[this.SortBy]?-1:t[this.SortBy]>e[this.SortBy]?1:0},CloseTask:function(t){n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/"+t.id+"/").update({t_isActive:!1}).then(function(t){$(".material-tooltip").removeAttr("style"),console.log("update done")})},DeleteTask:function(t){window.confirm("The task: \n*** "+t.task_name+" ***\nwill be permanently deleted, are you sure?")&&n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/"+t.id+"/").remove().then(function(t){$(".material-tooltip").removeAttr("style")})}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px 50px"},attrs:{id:"dashboard"}},[a("div",{staticClass:"row hide-on-small-only myHeader blue-grey lighten-4"},[t._l(t.Header,function(e){return a("h6",{key:e.txt,staticClass:"col s12",class:[e.m,{sorted:e.txt==t.HSorted},{clickable:e.hasSort}],on:{click:function(a){t.HeaderClick(e)}}},[t._v("\n        "+t._s(e.txt)+"\n    ")])}),t._v(" "),t._m(0)],2),t._v(" "),t._l(t.tasksBackLog,function(e){return a("div",{key:e.id,staticClass:"row",class:e.task_priority},[a("div",{staticClass:"col m2 s12"},[a("span",[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_project))])]),t._v(" "),a("div",{staticClass:"col m1 s12 "},[a("span",{staticClass:"chip valign-wrapper",class:"ch_"+e.task_priority},[t._v(t._s(e.task_priority))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_deadline))]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_FTE))]),t._v(" "),a("div",{staticClass:"col m1 s12"},[0!=e.task_vol.length?a("span",t._l(e.task_vol,function(e){return a("span",{key:e,staticClass:"chip truncate"},[t._v(t._s(e))])})):t._e()]),t._v(" "),t.isLoggedIn?a("div",{staticClass:"col m1 iconContainer"},[t.isManager?a("div",[a("router-link",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>",to:{name:"edit-task_mng",params:{task_id:e.id},query:{uid:e.task_owner,mnext:"backlog"}}}},[a("i",{staticClass:"fas fa-edit"})])],1):t._e(),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Add me</span>"}},[e.task_iVol?t._e():a("i",{staticClass:"blue-text material-icons",on:{click:function(a){t.VolMe(e)}}},[t._v("person_add")])]),t._v(" "),e.task_iVol?a("i",{staticClass:"red-text fas fa-user-minus",on:{click:function(a){t.VolMe(e)}}}):t._e()]):t._e()])}),t._v(" "),t.isManager?a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large red",attrs:{to:{name:"new-task",query:{mnext:"backlog"}}}},[a("i",{staticClass:"fa fa-plus"})])],1):t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"col m1 iconContainer"},[e("span",{staticClass:"truncate"},[this._v("Quick actions")])])}]};var T=a("VU/8")(y,C,!1,function(t){a("6scv")},"data-v-19d9ec40",null).exports,w=a("O2iK"),b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px 25px"},attrs:{id:"dashboard"}},[a("div",{staticClass:"row z-depth-2 filterContainer brown lighten-4"},[a("div",{staticClass:"col m6 s12 "},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"right","data-tooltip":"Click for multiple selections"}},[t._v("\n            Filter by status :")]),t._v(" "),a("div",{attrs:{id:"listStat"}},t._l(t.StatusesList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedStatus.indexOf(e)>-1},on:{click:function(a){t.MultiStatus(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])}))]),t._v(" "),a("div",{staticClass:"col m6 s12 right",staticStyle:{"text-align":"right"}},[a("span",[t._v("\n                Filter by creator: \n            ")]),t._v(" "),a("div",{attrs:{id:"listCreator"}},t._l(t.FireManagersArray,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedManager.indexOf(e.OBJ.UID)>-1},on:{click:function(a){t.MultiCreator(e)}}},[t._v("\n                  "+t._s(e.OBJ.name)+"\n                ")])}))]),t._v(" "),a("div",{staticClass:"col m6 s12"},[a("span",[t._v("Filter by Date →")]),t._v(" "),t.showDateFilter?t._e():a("span",[t._v("\n                      No date filter applied: \n                      "),a("a",{staticClass:"waves-effect waves-light btn-small",on:{click:function(e){t.AddCurentDateFilter()}}},[t._v("Add filter"),a("i",{staticClass:"material-icons left"},[t._v("event")])])]),t._v(" "),t.showDateFilter?a("span",[t._v("\n                     From:  "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Datefilter_start,expression:"Datefilter_start"}],staticClass:"dateField",attrs:{type:"date",placeholder:"start date"},domProps:{value:t.Datefilter_start},on:{change:function(e){t.datefilter_setEnd()},input:function(e){e.target.composing||(t.Datefilter_start=e.target.value)}}}),t._v("\n                      - To: \n                      "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Datefilter_end,expression:"Datefilter_end"}],staticClass:"dateField",attrs:{type:"date",placeholder:"end date"},domProps:{value:t.Datefilter_end},on:{input:function(e){e.target.composing||(t.Datefilter_end=e.target.value)}}}),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small",on:{click:function(e){t.ADDTasksIncat()}}},[t._v("Add date filter")]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small  grey darken-2",on:{click:function(e){t.ClearDateFilter()}}},[t._v("Remove date filter"),a("i",{staticClass:"material-icons left"},[t._v("event_busy")])])]):t._e()])]),t._v(" "),a("div",{staticClass:"row z-depth-1"},[a("div",{staticClass:"col m12 s12"},[a("span",{staticClass:"tooltipped ",attrs:{"data-position":"right","data-tooltip":"Click for multiple selections"}},[t._v("Filter by users →")]),t._v(" "),t._l(t.FireUsersArray,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedUsers.indexOf(e.OBJ.UID)>-1},on:{click:function(a){t.MultiUser(e)}}},[t._v("\n                "+t._s(e.OBJ.name)+"\n              ")])})],2)]),t._v(" "),t._l(t.xFilteredUsersArr,function(e){return a("div",{key:e.id,staticClass:"z-depth-1"},[a("div",{staticClass:"row valign-wrapper",staticStyle:{"border-bottom":"#484545 solid 1px"}},[a("div",{staticClass:"col m2"},[a("span",{staticClass:"chip"},[t._v("\n                "+t._s(e.OBJ.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"row"},[a("b",[t._v(t._s(e.OBJ.tasks.length))]),t._v(" tasks")]),t._v(" "),a("div",{staticClass:"row blue-text"},[a("b",[t._v("Estimated")]),t._v(" FTE "),a("b",[t._v(t._s(t.sumFTA(e.OBJ.tasks)))]),a("br"),t._v(" "),a("span",{staticClass:"green-text"},[a("b",[t._v("Used")]),t._v(" FTE "),a("b",[t._v(t._s(t.sumFTAused(e.OBJ.tasks)))])])])]),t._v(" "),a("div",{staticClass:"col m10"},t._l(e.OBJ.tasks,function(e){return a("div",{key:e.id,staticClass:"col m2 s12"},[a("div",{staticClass:"card blue-grey",class:"In progress"==e.task_status?"darken-2":"lighten-3"},[a("div",{staticClass:"card-content white-text"},[a("span",{staticClass:"truncate"},[t._v(" \n                              "+t._s(e.task_project)+"                                  \n                          ")]),t._v(" "),a("span",{staticClass:"task-title",class:"In progress"==e.task_status?"cyan-text text-lighten-3":"black-text"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[t._v("\n                                "+t._s(e.task_name)+"\n                              ")])]),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-left":"0px"}},[a("div",{staticClass:"chip col"},[t._v(t._s(e.task_status))]),t._v(" "),a("span",{staticClass:"col"},[t._v(t._s(e.task_deadline_short))]),t._v(" "),a("br")]),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-left":"0px"}},[a("div",{staticClass:"blue-text col text-lighten-3",class:{"text-darken-4":-1==["In progress","Not started","Not allocated"].indexOf(e.task_status)}},[t._v(t._s(e.task_FTE)+" FTE")]),t._v(" "),void 0!=e.task_usedFTE&&""!=e.task_usedFTE?a("div",{staticClass:"green-text col ",class:{"text-darken-4":-1==["In progress","Not started","Not allocated"].indexOf(e.task_status)}},[t._v(t._s(e.task_usedFTE)+" FTE")]):t._e()]),t._v(" "),a("hr"),t._v(" "),t.isManager?a("div",{staticClass:"row iconContainer"},[a("div",{staticClass:"col m3"},[a("router-link",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>",to:{name:"edit-task_mng",params:{task_id:e.id},query:{uid:e.task_owner,mnext:"viewusers"}}}},[a("i",{staticClass:"fas fa-edit"})])],1),t._v(" "),"Completed"!=e.task_status&&"Canceled"!=e.task_status?a("div",{staticClass:"col m3"},[a("span",{class:{myBtn:!e.task_completed}},[a("i",{staticClass:"tooltipped fas",class:e.task_completed?"fa-clipboard-check":"fa-check",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Complete</span>"},on:{click:function(a){t.CompleteTask(e)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"col m3"},[a("span",{staticClass:"myBtn"},[a("i",{staticClass:"tooltipped far",class:"In progress"==e.task_status?"fa-stop-circle":"fa-play-circle",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>In progress/on hold</span>"},on:{click:function(a){t.StartStop(e)}}})])]),t._v(" "),a("div",{staticClass:"col m3"},[a("span",{staticClass:"myBtn tooltip"},[a("i",{staticClass:"tooltipped fas fa-ban",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Cancel</span>"},on:{click:function(a){t.CancelTask(e)}}})])])]):t._e()])])])}))])])}),t._v(" "),t.isManager?a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large red",attrs:{to:{name:"new-task",query:{mnext:"viewusers"}}}},[a("i",{staticClass:"fa fa-plus"})])],1):t._e(),t._v(" "),a("modal",{attrs:{FTAarray:t.FTAarray,UsedFTAarray:t.UsedFTAarray,GotTarget:t.GotTarget,targetTask:t.targetTask,infoType:"both"},on:{updateFTE:function(e){t.updateFTEs(e)},AddInfo:function(e){t.AddInfo(e)}}})],2)},staticRenderFns:[]};var D=function(t){a("WyTQ")},E=a("VU/8")(w.a,b,!1,D,"data-v-60abd239",null).exports,F=a("pLsw"),A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px 25px"},attrs:{id:"dashboard"}},[a("div",{staticClass:"row z-depth-2 filterContainer brown lighten-4"},[a("div",{staticClass:"col m6 s12 "},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"right","data-tooltip":"Click for multiple selections"}},[t._v("\n            Filter by status :")]),t._v(" "),a("div",{attrs:{id:"listStat"}},t._l(t.StatusesList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedStatus.indexOf(e)>-1},on:{click:function(a){t.MultiStatus(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])}))]),t._v(" "),a("div",{staticClass:"col m6 s12 right",staticStyle:{"text-align":"right"}},[a("span",[t._v("\n                Filter by creator: \n            ")]),t._v(" "),a("div",{attrs:{id:"listCreator"}},t._l(t.FireManagersArray,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedManager.indexOf(e.OBJ.UID)>-1},on:{click:function(a){t.MultiCreator(e)}}},[t._v("\n                  "+t._s(e.OBJ.name)+"\n                ")])}))]),t._v(" "),a("div",{staticClass:"col m6 s12"},[a("span",[t._v("Filter by Date →")]),t._v(" "),t.showDateFilter?t._e():a("span",[t._v("\n                      No date filter applied: \n                      "),a("a",{staticClass:"waves-effect waves-light btn-small",on:{click:function(e){t.AddCurentDateFilter()}}},[t._v("Add filter"),a("i",{staticClass:"material-icons left"},[t._v("event")])])]),t._v(" "),t.showDateFilter?a("span",[t._v("\n                     From:  "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Datefilter_start,expression:"Datefilter_start"}],staticClass:"dateField",attrs:{type:"date",placeholder:"start date"},domProps:{value:t.Datefilter_start},on:{change:function(e){t.datefilter_setEnd()},input:function(e){e.target.composing||(t.Datefilter_start=e.target.value)}}}),t._v("\n                      - To: \n                      "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Datefilter_end,expression:"Datefilter_end"}],staticClass:"dateField",attrs:{type:"date",placeholder:"end date"},domProps:{value:t.Datefilter_end},on:{input:function(e){e.target.composing||(t.Datefilter_end=e.target.value)}}}),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small",on:{click:function(e){t.ADDTasksIncat()}}},[t._v("Add date filter")]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small  grey darken-2",on:{click:function(e){t.ClearDateFilter()}}},[t._v("Remove date filter"),a("i",{staticClass:"material-icons left"},[t._v("event_busy")])])]):t._e()])]),t._v(" "),a("div",{staticClass:"row z-depth-1"},[a("div",{staticClass:"col m12 s12"},[a("span",{staticClass:"tooltipped ",attrs:{"data-position":"right","data-tooltip":"Click for multiple selections"}},[t._v("Filter by users →")]),t._v(" "),t._l(t.FireUsersArray,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedUsers.indexOf(e.OBJ.UID)>-1},on:{click:function(a){t.MultiUser(e)}}},[t._v("\n                "+t._s(e.OBJ.name)+"\n              ")])})],2)]),t._v(" "),t._l(t.FireProjCatArray,function(e){return a("div",{key:e.id,staticClass:"z-depth-1"},[e.tasks.length>0?a("div",{staticClass:"row  valign-wrapper",staticStyle:{"border-bottom":"#484545 solid 1px"}},[a("div",{staticClass:"col m2"},[a("span",{staticClass:"chip"},[t._v("\n                "+t._s(e.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"row"},[a("b",[t._v(t._s(e.tasks.length))]),t._v(" tasks")]),t._v(" "),a("blockquote",[a("span",{staticClass:"blue-text"},[t._v("Estimated FTE: "),a("b",[t._v(t._s(t.sumFTA(e.tasks)))])]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"green-text"},[a("b",[t._v("Used")]),t._v(" FTE "),a("b",[t._v(t._s(t.sumFTAused(e.tasks)))])])])]),t._v(" "),a("div",{staticClass:"col m10"},t._l(e.tasks,function(e){return a("div",{key:e.id,staticClass:"col m2 s12"},[a("div",{staticClass:"card blue-grey",class:"In progress"==e.task_status?"darken-2":"lighten-3"},[a("div",{staticClass:"card-content white-text"},[a("span",{staticClass:"truncate"},[t._v(" \n                              "+t._s(e.task_project)+"                                  \n                          ")]),t._v(" "),a("span",{staticClass:"task-title",class:"In progress"==e.task_status?"cyan-text text-lighten-3":"black-text"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[t._v("\n                                "+t._s(e.task_name)+"\n                              ")])]),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-left":"0px"}},[a("div",{staticClass:"chip col"},[t._v(t._s(e.task_status))]),t._v(" "),a("span",{staticClass:"col"},[t._v(t._s(e.task_deadline_short))])]),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-left":"0px"}},[a("div",{staticClass:"blue-text col text-lighten-3",class:{"text-darken-4":-1==["In progress","Not started","Not allocated"].indexOf(e.task_status)}},[t._v(t._s(e.task_FTE)+" FTE")]),t._v(" "),void 0!=e.task_usedFTE&&""!=e.task_usedFTE?a("div",{staticClass:"green-text col ",class:{"text-darken-4":-1==["In progress","Not started","Not allocated"].indexOf(e.task_status)}},[t._v(t._s(e.task_usedFTE)+" FTE")]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[t._v("\n                              "+t._s(e.task_owner_label)+"\n                            ")]),t._v(" "),a("hr"),t._v(" "),t.isManager?a("div",{staticClass:"row iconContainer"},[a("div",{staticClass:"col m3"},[a("router-link",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>",to:{name:"edit-task_mng",params:{task_id:e.id},query:{uid:e.task_owner,mnext:"viewprojcat"}}}},[a("i",{staticClass:"fas fa-edit"})])],1),t._v(" "),"Completed"!=e.task_status&&"Canceled"!=e.task_status?a("div",{staticClass:"col m3"},[a("span",{class:{myBtn:!e.task_completed}},[a("i",{staticClass:"tooltipped fas",class:e.task_completed?"fa-clipboard-check":"fa-check",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Complete</span>"},on:{click:function(a){t.CompleteTask(e)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"col m3"},[a("span",{staticClass:"myBtn"},[a("i",{staticClass:"tooltipped far",class:"In progress"==e.task_status?"fa-stop-circle":"fa-play-circle",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>In progress/on hold</span>"},on:{click:function(a){t.StartStop(e)}}})])]),t._v(" "),a("div",{staticClass:"col m3"},[a("span",{staticClass:"myBtn tooltip"},[a("i",{staticClass:"tooltipped fas fa-ban",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Cancel</span>"},on:{click:function(a){t.CancelTask(e)}}})])])]):t._e()])])])}))]):t._e()])}),t._v(" "),t.isManager?a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large red",attrs:{to:{name:"new-task",query:{mnext:"viewprojcat"}}}},[a("i",{staticClass:"fa fa-plus"})])],1):t._e(),t._v(" "),a("modal",{attrs:{FTAarray:t.FTAarray,UsedFTAarray:t.UsedFTAarray,GotTarget:t.GotTarget,targetTask:t.targetTask,infoType:"both"},on:{updateFTE:function(e){t.updateFTEs(e)},AddInfo:function(e){t.AddInfo(e)}}})],2)},staticRenderFns:[]};var j=function(t){a("NIgx")},P=a("VU/8")(F.a,A,!1,j,"data-v-746ad8c4",null).exports,U=a("fZjL"),x=a.n(U),O=a("bOdI"),Y=a.n(O),I=a("PJh5"),L={name:"new-task-mng",data:function(){return{FTAarray:m.a.FTEList,PiorityArr:["Low","Normal","High"],Statuses:m.a.statusesList,ownersList:m.a.OwnersList,UseRecurency:!1,Recurencies:1,showDetails:!1,showProject:!1,showNewProj:!1,showNewProjCat:!1,showOwner:!0,showDates:!0,showStatus:!0,showPriority:!1,detail_link:"",detail_title:"",task_name:null,task_details:"",task_start:I().weekday(1).format("YYYY-MM-DD"),task_deadline:I().weekday(5).format("YYYY-MM-DD"),task_attachement:[],task_fte:null,task_feedback:!1,task_fbkEmail:"",userTaskArr:[],userFTE:null,ProjectsCat:[],AddNewProjCat:null,ProjectsList:[],AddNewProj:null,SelectedProjCat:null,SelectedProj:null,SelectedStatus:"Not started",Selected_Priority:"Normal",SelectedOwners:[]}},methods:{updateDeadline:function(){""!=this.task_start&&(this.task_deadline=I(this.task_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD"))},GetUserFTE:function(){var t=this;1==t.SelectedOwners.length&&n.a.ref("/USERS/"+t.SelectedOwners[0].UID+"/TASKS/").orderByChild("t_isActive").equalTo(!0).once("value",function(e){t.userTaskArr=[];var a=e.val();for(var s in a)if("In progress"==a[s].tStatus){var i={id:s,task_name:a[s].tName,task_FTE:a[s].tFTE};t.userTaskArr.push(i)}var r=0;t.userFTE=null,t.userTaskArr.forEach(function(t){void 0!=t.task_FTE&&"TBD"!=t.task_FTE&&null!=t.task_FTE&&""!=t.task_FTE&&(r+=parseFloat(t.task_FTE))}),t.userFTE=r.toFixed(2)})},saveTask:function(){var t,e,a=this,s=[],i="Please select ";if(this.showDates){if(new Date(this.task_deadline)<new Date(this.task_start))return M.toast({html:"Start date should be sooner than Deadline"}),$("#StartDate,#DeadLine").css("border","solid red 1px"),!1}else this.task_start="",this.task_deadline="",this.task_fte="TBD";if(null==this.SelectedProjCat&&s.push("Project Category"),null==this.SelectedProj&&"Personal"!=this.SelectedProjCat&&"xBacklog"!=this.SelectedProjCat&&s.push("Project"),this.showOwner&&0==this.SelectedOwners.length&&s.push("Owner"),s.length>0)return s.forEach(function(e,a){t=a<s.length-1?", ":"",i=i+e+t}),M.toast({html:i}),!1;if(""!=this.detail_link)return M.toast({html:"Attachment URL should be empty"}),!1;if(this.task_feedback&&-1==this.task_fbkEmail.indexOf("."))return M.toast({html:"Email should contain at least one dot"}),!1;this.UseRecurency?function(){var t=a;for(e=0;e<a.Recurencies;e++)a.SelectedOwners.forEach(function(a){n.a.ref("/USERS/"+a.UID+"/TASKS/").push({tName:t.task_name,tDescription:t.task_details,tStart:I(t.task_start,"YYYY-MM-DD").add(e,"w").format("YYYY-MM-DD"),tDeadline:I(t.task_deadline,"YYYY-MM-DD").add(e,"w").format("YYYY-MM-DD"),tProject:t.SelectedProj,tProjCateg:t.SelectedProjCat,tStatus:t.SelectedStatus,tFTE:t.task_fte?t.task_fte:"TBD",tFbk:t.task_feedback,tPriority:t.Selected_Priority,tFbkEmail:t.task_fbkEmail.replace("@ipsos.com","")+"@ipsos.com",tOwner:a,tAttach:t.task_attachement,t_isActive:!0,isPrivate:"Personal"==t.SelectedProjCat,CreatedBy:r.a.auth().currentUser.uid,CreatedDate:I().format("YYYY-MM-DD")}).catch(function(t){return console.log(err)})});a.$router.push({name:a.$route.query.mnext})}():n.a.ref("/USERS/"+this.SelectedOwners[0].UID+"/TASKS/").push({tName:this.task_name,tDescription:this.task_details,tStart:this.task_start,tDeadline:this.task_deadline,tProject:this.SelectedProj,tProjCateg:this.SelectedProjCat,tStatus:this.SelectedStatus,tFTE:this.task_fte?this.task_fte:"TBD",tFbk:this.task_feedback,tPriority:this.Selected_Priority,tFbkEmail:this.task_fbkEmail.replace("@ipsos.com","")+"@ipsos.com",tOwner:this.SelectedOwners[0],tAttach:this.task_attachement,t_isActive:!0,isPrivate:"Personal"==this.SelectedProjCat,CreatedBy:r.a.auth().currentUser.uid,CreatedDate:I().format("YYYY-MM-DD")}).then(function(t){n.a.ref("/LISTS/").off(),a.$router.push({name:a.$route.query.mnext})}).catch(function(t){return console.log(err)})},AddHyperlink:function(){if(""!=this.detail_link){var t=this.detail_title?this.detail_title:"Click here";-1==this.detail_link.indexOf("http")&&(this.detail_link="https://"+this.detail_link),this.task_attachement.push("<a href='"+this.detail_link+"' target='_blank'>"+t+"</a>"),this.detail_link="",this.detail_title=""}else M.toast({html:"URL field should not be empty"})},RemoveHyperlink:function(t){var e=this.task_attachement.indexOf(t);this.task_attachement.splice(e,1)},addProjCategory:function(){var t=this;n.a.ref("/LISTS/Projects/").update(Y()({},t.AddNewProjCat,{0:""})).then(function(){t.showNewProjCat=!1}).catch(function(t){console.log(t)})},DelProjCategory:function(t){var e=this;null!=e.AddNewProjCat?n.a.ref("/LISTS/Projects/"+e.AddNewProjCat+"/").remove().then(function(){e.AddNewProjCat=null,e.showNewProjCat=!1}):e.showNewProjCat=!1},clickCat:function(t){var e=this;this.SelectedProjCat=t;var a=!0;if(e.showOwner=!0,e.SelectedProj=null,e.showPriority=!1,e.showStatus=!0,e.showDates=!0,"xBacklog"==e.SelectedProjCat&&(a=!1,e.SelectedStatus="Not allocated",e.showOwner=!1,e.showPriority=!0,e.showStatus=!1,e.SelectedProj="Backlog",e.SelectedStatus="Not allocated",e.Selected_Priority="Normal",e.task_fte=null,e.showDates=!1,e.SelectedOwners=[{Label:"xBacklog",UID:"backlog"}]),"Personal"==e.SelectedProjCat){a=!1,e.showOwner=!1,e.task_fte="TBD",e.showStatus=!1;var s=r.a.auth().currentUser.uid;e.ownersList.forEach(function(t){if(t.UID==s)return e.SelectedOwners=[],e.SelectedOwners.push(t),!0})}a?n.a.ref("/LISTS/Projects/"+e.SelectedProjCat+"/").on("value",function(t){e.ProjectsList=[],t.forEach(function(t){""!=t.val()&&e.ProjectsList.push(t.val())}),e.showProject=!0}):e.showProject=!1},clickStatus:function(){this.showOwner=!0,this.showPriority=!1,"Not allocated"==this.SelectedStatus&&(this.showOwner=!1,this.showDates=!1,this.showPriority=!0,this.SelectedOwners=[{Label:"xBacklog",UID:"backlog"}])},clickUser:function(t){if(this.showDates=!0,this.UseRecurency){this.userFTE=null;var e=this.SelectedOwners.indexOf(t);-1==e?this.SelectedOwners.push(t):this.SelectedOwners.splice(e,1)}else this.SelectedOwners=[],this.SelectedOwners.push(t),this.GetUserFTE()},addProj:function(){var t=this;n.a.ref("/LISTS/Projects/"+t.SelectedProjCat+"/").push(t.AddNewProj).then(function(){t.showNewProj=!1}).catch(function(t){console.log(t)})},DelProj:function(){var t,e=this;n.a.ref("/LISTS/Projects/"+e.SelectedProjCat+"/").once("value",function(a){delete(t=a.val())[x()(t).find(function(a){return t[a]===e.AddNewProj})],n.a.ref("/LISTS/Projects/"+e.SelectedProjCat+"/").set(t).then(function(t){e.showNewProj=!1,console.log("done")})})}},mounted:function(){var t=this;n.a.ref("/LISTS/Projects/").on("value",function(e){t.ProjectsCat=[];var a=e.val();for(var s in a)t.ProjectsCat.push(s);t.ProjectsCat.sort()})},watch:{UseRecurency:function(){this.SelectedOwners=[]}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"new-task"}},[a("h3",[t._v("Add new tasks")]),t._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.saveTask(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name,expression:"task_name"}],attrs:{placeholder:"Task name",type:"text",required:""},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Name:")])])]),t._v(" "),t.showDates?a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_start,expression:"task_start"}],attrs:{id:"StartDate",type:"date",placeholder:"start date"},domProps:{value:t.task_start},on:{change:function(e){t.updateDeadline()},input:function(e){e.target.composing||(t.task_start=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Start date:")])]),t._v(" "),a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_deadline,expression:"task_deadline"}],attrs:{id:"DeadLine",type:"date",placeholder:"Task deadline"},domProps:{value:t.task_deadline},on:{input:function(e){e.target.composing||(t.task_deadline=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Deadline:")])]),t._v(" "),a("span",[t._v("Estimated FTE ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_fte,expression:"task_fte"}],staticStyle:{display:"inline",width:"70px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_fte=e.target.multiple?a:a[0]}}},t._l(t.FTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])}))]):t._e(),t._v(" "),a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.UseRecurency,expression:"UseRecurency"}],staticClass:"filled-in",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.UseRecurency)?t._i(t.UseRecurency,null)>-1:t.UseRecurency},on:{change:function(e){var a=t.UseRecurency,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.UseRecurency=a.concat([null])):r>-1&&(t.UseRecurency=a.slice(0,r).concat(a.slice(r+1)))}else t.UseRecurency=i}}}),t._v(" "),a("span",[t._v("Use recurency")])]),t._v(" "),t.UseRecurency?a("div",{staticClass:"input-field"},[a("span",[t._v("Number of recurrencies:")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.Recurencies,expression:"Recurencies"}],staticStyle:{display:"inline",width:"70px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Recurencies=e.target.multiple?a:a[0]}}},t._l(10,function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Category:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},[t._l(t.ProjectsCat,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedProjCat==e},on:{click:function(a){t.clickCat(e)}}},[t._v("\r\n                    "+t._s(e)+"\r\n                  ")])}),t._v(" "),t.showNewProjCat?t._e():a("a",{staticClass:"btn-floating btn-small waves-effect waves-light red",on:{click:function(e){t.showNewProjCat=!0}}},[a("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),t.showNewProjCat?a("input",{directives:[{name:"model",rawName:"v-model",value:t.AddNewProjCat,expression:"AddNewProjCat"}],attrs:{placeholder:"Add a new value and then 'pres Enter' or 'Esc' to remove it",type:"text"},domProps:{value:t.AddNewProjCat},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.addProjCategory(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?(e.preventDefault(),t.DelProjCategory(e)):null}],input:function(e){e.target.composing||(t.AddNewProjCat=e.target.value)}}}):t._e()],2)]),t._v(" "),t.showProject?a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Project:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},[t._l(t.ProjectsList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedProj==e},on:{click:function(a){t.SelectedProj=e}}},[t._v("\r\n                "+t._s(e)+"\r\n              ")])}),t._v(" "),t.showNewProj?t._e():a("a",{staticClass:"btn-floating btn-small waves-effect waves-light red",on:{click:function(e){t.showNewProj=!0}}},[a("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),t.showNewProj?a("input",{directives:[{name:"model",rawName:"v-model",value:t.AddNewProj,expression:"AddNewProj"}],attrs:{placeholder:"Add a new value and then 'pres Enter' or 'Esc' to remove it",type:"text"},domProps:{value:t.AddNewProj},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.addProj(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?(e.preventDefault(),t.DelProj(e)):null}],input:function(e){e.target.composing||(t.AddNewProj=e.target.value)}}}):t._e()],2)]):t._e(),t._v(" "),t.showStatus?a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Status:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},t._l(t.Statuses,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedStatus==e},on:{click:function(a){t.SelectedStatus=e,t.clickStatus()}}},[t._v("\r\n                    "+t._s(e)+"\r\n                  ")])}))]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_feedback,expression:"task_feedback"}],staticClass:"filled-in",attrs:{type:"checkbox",checked:"checked"},domProps:{checked:Array.isArray(t.task_feedback)?t._i(t.task_feedback,null)>-1:t.task_feedback},on:{change:function(e){var a=t.task_feedback,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.task_feedback=a.concat([null])):r>-1&&(t.task_feedback=a.slice(0,r).concat(a.slice(r+1)))}else t.task_feedback=i}}}),t._v(" "),a("span",[t._v("Request feedback")])]),t._v(" "),t.task_feedback?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_fbkEmail,expression:"task_fbkEmail"}],staticClass:"col m2 validate",attrs:{placeholder:"Feedback email",type:"text",required:""},domProps:{value:t.task_fbkEmail},on:{input:function(e){e.target.composing||(t.task_fbkEmail=e.target.value)}}}),t._v(" "),a("span",{attrs:{id:"emailDomain"}},[t._v("@ipsos.com")])]):t._e()]),t._v(" "),t.showOwner?a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Owner:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},t._l(t.ownersList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedOwners.findIndex(function(t){return t.UID===e.UID})>-1},on:{click:function(a){t.clickUser(e)}}},[t._v("\r\n                    "+t._s(e.Label)+"\r\n                  ")])})),t._v(" "),null!=t.userFTE?a("div",{staticClass:"red-text"},[t._v("\r\n                   Active workload: "),a("b",[t._v(t._s(t.userFTE))]),t._v(" FTE\r\n              ")]):t._e()]):t._e(),t._v(" "),t.showPriority?a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Priority:")]),t._v(" "),a("div",{staticClass:"input-field"},t._l(t.PiorityArr,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.Selected_Priority==e},on:{click:function(a){t.Selected_Priority=e}}},[t._v("\r\n                    "+t._s(e)+"\r\n                  ")])}))])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[t.showDetails?t._e():a("span",{staticClass:"waves-effect waves-light btn-small black-text blue-grey lighten-4",on:{click:function(e){t.showDetails=!0}}},[t._v("Add details")]),t._v(" "),t.showDetails?a("span",{staticClass:"waves-effect waves-light btn-small blue-grey lighten-2",on:{click:function(e){t.showDetails=!1}}},[t._v("Hide details")]):t._e(),t._v(" "),t.showDetails?a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Details:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task_details,expression:"task_details"}],attrs:{id:"textarea1",placeholder:"Task details",required:""},domProps:{value:t.task_details},on:{input:function(e){e.target.composing||(t.task_details=e.target.value)}}})]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Attachment:")]),t._v(" "),t._l(t.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}}),t._v(" "),a("i",{staticClass:"fas fa-minus-square red-text",staticStyle:{cursor:"pointer"},on:{click:function(a){t.RemoveHyperlink(e)}}})])}),t._v(" "),a("div",{staticClass:"helperfield row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"input-field col m4"},[a("label",{staticClass:"col",attrs:{for:"linkDetails"}},[t._v("File URL path:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_link,expression:"detail_link"}],attrs:{id:"linkDetails",type:"text"},domProps:{value:t.detail_link},on:{input:function(e){e.target.composing||(t.detail_link=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col m2 input-field"},[a("label",{staticClass:"col",attrs:{for:"linkhyper"}},[t._v("Link caption:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_title,expression:"detail_title"}],attrs:{id:"linkhyper",type:"text"},domProps:{value:t.detail_title},on:{input:function(e){e.target.composing||(t.detail_title=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small col cyan darken-2",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.AddHyperlink()}}},[a("i",{staticClass:"material-icons"},[t._v("public")]),t._v("              \r\n                  Add attachment hyperlink\r\n                ")])])],2)]),t._v(" "),a("button",{staticClass:"btn brown lighten-1",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:{name:t.$route.query.mnext}}},[t._v("Cancel")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[this._v("If you want to set recurrencies select the below option."),e("br"),this._v("If enabled you will be able to select multiple owners, and at Save a task will be created for each selecte owner for the following X weeks.")])}]};var N=a("VU/8")(L,B,!1,function(t){a("XDq6")},"data-v-6f107e30",null).exports,R=a("PJh5"),q={name:"new-task",data:function(){return{showDetails:!1,detail_link:"",detail_title:"",task_attachement:[],task_name:null,task_details:"",task_start:R().weekday(1).format("YYYY-MM-DD"),task_deadline:R().weekday(5).format("YYYY-MM-DD"),task_status:null,Statuses:m.a.statusesList,nStatusesList:m.a.statusesList,nSelectedStatus:"In progress"}},methods:{SetDeadline:function(){this.task_deadline=R(this.task_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD")},saveTask:function(){if(new Date($("#DeadLine").val())<new Date($("#StartDate").val()))return M.toast({html:"Start date should be sooner than Deadline"}),$("#StartDate,#DeadLine").css("border","solid red 1px"),!1;if(""!=this.detail_link)return M.toast({html:"Attachment URL should be empty"}),!1;var t=this;n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/").push({tName:this.task_name,tDescription:this.task_details,tStart:this.task_start,tDeadline:this.task_deadline,tProjCateg:"Personal",tProject:"Personal",tStatus:this.nSelectedStatus,tAttach:this.task_attachement,CreatedBy:r.a.auth().currentUser.uid,CreatedDate:R().format("YYYY-MM-DD"),t_isActive:!0,isPrivate:!0},function(e){e?console.log(e):(t.$router.push("/"),console.log("task added"))})},AddHyperlink:function(){if(""!=this.detail_link){var t=this.detail_title?this.detail_title:"Click here";-1==this.detail_link.indexOf("http")&&(this.detail_link="https://"+this.detail_link),this.task_attachement.push("<a href='"+this.detail_link+"' target='_blank'>"+t+"</a>"),this.detail_link="",this.detail_title=""}else M.toast({html:"URL field should not be empty"})},RemoveHyperlink:function(t){var e=this.task_attachement.indexOf(t);this.task_attachement.splice(e,1)}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"new-task"}},[a("h3",[t._v("Add new task")]),t._v(" "),a("div",{},[a("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.saveTask(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name,expression:"task_name"}],attrs:{placeholder:"Task name",type:"text",required:""},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Name:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_start,expression:"task_start"}],attrs:{id:"StartDate",type:"date",placeholder:"start date"},domProps:{value:t.task_start},on:{input:function(e){e.target.composing||(t.task_start=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Start date:")])]),t._v(" "),a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_deadline,expression:"task_deadline"}],attrs:{id:"DeadLine",type:"date",placeholder:"Task deadline"},domProps:{value:t.task_deadline},on:{input:function(e){e.target.composing||(t.task_deadline=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Deadline:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Status:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},t._l(t.nStatusesList.filter(function(t){return"Not allocated"!=t}),function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.nSelectedStatus==e},on:{click:function(a){t.nSelectedStatus=e}}},[t._v("\r\n                    "+t._s(e)+"\r\n                  ")])}))]),t._v(" "),a("div",{staticClass:"row"},[t.showDetails?t._e():a("span",{staticClass:"waves-effect waves-light btn-small black-text blue-grey lighten-4",on:{click:function(e){t.showDetails=!0}}},[t._v("Add details")]),t._v(" "),t.showDetails?a("span",{staticClass:"waves-effect waves-light btn-small blue-grey lighten-2",on:{click:function(e){t.showDetails=!1}}},[t._v("Hide details")]):t._e(),t._v(" "),t.showDetails?a("div",{staticClass:"input-field col s12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task_details,expression:"task_details"}],attrs:{id:"textarea1",placeholder:"Task details",required:""},domProps:{value:t.task_details},on:{input:function(e){e.target.composing||(t.task_details=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Details:")])]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"Attachment_span"}},[t._v("Attachment:")]),t._v(" "),t._l(t.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}}),t._v(" "),a("i",{staticClass:"fas fa-minus-square red-text",staticStyle:{cursor:"pointer"},on:{click:function(a){t.RemoveHyperlink(e)}}})])}),t._v(" "),a("div",{staticClass:"helperfield row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"input-field col m4"},[a("label",{staticClass:"col",attrs:{for:"linkDetails"}},[t._v("File URL path:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_link,expression:"detail_link"}],attrs:{id:"linkDetails",type:"text"},domProps:{value:t.detail_link},on:{input:function(e){e.target.composing||(t.detail_link=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col m2 input-field"},[a("label",{staticClass:"col",attrs:{for:"linkhyper"}},[t._v("Link caption:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_title,expression:"detail_title"}],attrs:{id:"linkhyper",type:"text"},domProps:{value:t.detail_title},on:{input:function(e){e.target.composing||(t.detail_title=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small col cyan darken-2",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.AddHyperlink()}}},[a("i",{staticClass:"material-icons"},[t._v("public")]),t._v("              \r\n                  Add attachment hyperlink\r\n                ")])])],2)]),t._v(" "),a("button",{staticClass:"btn brown lighten-1",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:"/view/cols"}},[t._v("Cancel")])],1)])])},staticRenderFns:[]};var J=a("VU/8")(q,H,!1,function(t){a("U+Gw")},"data-v-0c7b53ca",null).exports,V=a("PJh5"),K={name:"edit-task",data:function(){return{FTAarray:m.a.FTEList,UsedFTAarray:m.a.usedFTEArrList,task_FTE:null,task_usedFTE:null,ShowFTE:"estimated",hours:4*this.task_FTE,UsedHours:4*this.task_usedFTE,showDetails:!1,showProject:!0,showNewProj:!1,showNewProjCat:!1,detail_link:"",detail_title:"",task_attachement:[],task_name:null,task_details:"",task_start:null,task_deadline:null,task_status:null,task_project:null,task_isActive:null,task_createdBy:null,SelectedProjCat:null,displayFTA:!0,nStatusesList:m.a.statusesList,nSelectedStatus:"In progress"}},methods:{updateUsedFTE:function(t){"fte"==t?this.UsedHours=40*this.task_usedFTE:this.task_usedFTE=(this.UsedHours/40).toFixed(2)},updateFTE:function(t){"fte"==t?this.hours=40*this.task_FTE:this.task_FTE=(this.hours/40).toFixed(2)},StatusUpdateFTE:function(t,e){this.nSelectedStatus=t;var a=this.ShowFTE;this.ShowFTE="Canceled"==t||"Completed"==t||"On hold"==t?"used":"estimated",a!=this.ShowFTE&&e&&setTimeout(function(){$(".FTEcont").effect("pulsate",{times:3},3e3)},500)},updateTask:function(){var t=this;return new Date($("#DeadLine").val())<new Date($("#StartDate").val())?(M.toast({html:"Start date should be sooner than Deadline"}),$("#StartDate,#DeadLine").css("border","solid red 1px"),!1):"used"==this.ShowFTE&&null==this.task_usedFTE?(M.toast({html:"Used FTE should not be null"}),$(".FTEcont select").css("border","solid red 1px"),!1):void n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/"+this.$route.params.task_id+"/").update({tName:this.task_name,tDescription:this.task_details,tStart:this.task_start,tDeadline:this.task_deadline,tFTE:this.task_FTE,tFTEused:this.task_usedFTE?this.task_usedFTE:"",tAttach:this.task_attachement,tStatus:this.nSelectedStatus,ModifiedBy:r.a.auth().currentUser.uid,ModifiedDate:V().format("YYYY-MM-DD HH:MM"),t_isActive:"No"==this.task_isActive}).then(function(e){console.log("task update done"),t.$router.push("/")}).catch(function(t){console.error("Error writing document: ",t)})},getProjects:function(){var t=this;n.a.ref("/LISTS/Projects/"+t.SelectedProjCat+"/").on("value",function(e){t.ProjectsList=[],e.forEach(function(e){""!=e.val()&&t.ProjectsList.push(e.val())}),t.showProject=!0})},AddHyperlink:function(){if(""!=this.detail_link){var t=this.detail_title?this.detail_title:"Click here";-1==this.detail_link.indexOf("http")&&(this.detail_link="https://"+this.detail_link),this.task_attachement.push("<a href='"+this.detail_link+"' target='_blank'>"+t+"</a>"),this.detail_link="",this.detail_title=""}else M.toast({html:"URL field should not be empty"})},RemoveHyperlink:function(t){var e=this.task_attachement.indexOf(t);this.task_attachement.splice(e,1)},getCreatorLabel:function(t){var e=this;n.a.ref("/USERS/").orderByKey().equalTo(t).once("value",function(a){e.task_createdBy=a.val()[t].Label})}},created:function(){var t=this,e=this;n.a.ref("/USERS/"+r.a.auth().currentUser.uid+"/TASKS/"+this.$route.params.task_id+"/").once("value",function(a){var s=a.val();e.task_name=s.tName,e.task_details=s.tDescription,e.task_start=s.tStart,e.task_deadline=s.tDeadline,e.task_FTE=s.tFTE?s.tFTE:"TBD",e.task_usedFTE=s.tFTEused?s.tFTEused:null,e.nSelectedStatus=s.tStatus,e.SelectedProjCat=s.tProjCateg,e.SelectedProj=s.tProject,e.task_attachement=s.tAttach?s.tAttach:[],e.task_isActive=s.t_isActive?"No":"Yes",e.getCreatorLabel(s.CreatedBy),e.getProjects(),"TBD"!=e.task_FTE&&(e.hours=40*e.task_FTE),null!=e.task_usedFTE&&(e.UsedHours=40*e.task_usedFTE),t.StatusUpdateFTE(e.nSelectedStatus,!1)}),$(".material-tooltip").css("opacity",0)},mounted:function(){var t=this;n.a.ref("/LISTS/Projects/").on("value",function(e){t.ProjectsCat=[];var a=e.val();for(var s in a)t.ProjectsCat.push(s);t.ProjectsCat.sort()})}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"edit-task"}},[a("h3",[t._v("Edit task")]),t._v(" "),a("div",{staticClass:"row MyContainer"},[a("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.updateTask(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name,expression:"task_name"}],attrs:{placeholder:"Task name",type:"text",required:""},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Name:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Details:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task_details,expression:"task_details"}],attrs:{id:"textarea1",placeholder:"Task details"},domProps:{value:t.task_details},on:{input:function(e){e.target.composing||(t.task_details=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_start,expression:"task_start"}],attrs:{id:"StartDate",type:"date",placeholder:"start date"},domProps:{value:t.task_start},on:{input:function(e){e.target.composing||(t.task_start=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Start date:")])]),t._v(" "),a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_deadline,expression:"task_deadline"}],attrs:{id:"DeadLine",type:"date",placeholder:"Task deadline"},domProps:{value:t.task_deadline},on:{input:function(e){e.target.composing||(t.task_deadline=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Deadline:")])]),t._v(" "),"estimated"==t.ShowFTE?a("span",[t.displayFTA?a("span",{staticClass:"FTEcont"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_FTE,expression:"task_FTE"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_FTE=e.target.multiple?a:a[0]},function(e){t.updateFTE("fte")}]}},t._l(t.FTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("Estimated FTE")])]):a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hours=e.target.multiple?a:a[0]},function(e){t.updateFTE("hours")}]}},t._l(t.FTAarray.filter(function(t){return"TBD"!=t}),function(e){return a("option",{key:e.id,domProps:{value:40*e}},[t._v(t._s(40*e))])})),t._v(" "),a("span",[t._v("Hours")])])]):t._e(),t._v(" "),"used"==t.ShowFTE?a("span",{staticClass:"FTEcont"},[t.displayFTA?a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_usedFTE,expression:"task_usedFTE"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_usedFTE=e.target.multiple?a:a[0]},function(e){t.updateUsedFTE("fte")}]}},t._l(t.UsedFTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("Used FTE")])]):a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.UsedHours,expression:"UsedHours"}],staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.UsedHours=e.target.multiple?a:a[0]},function(e){t.updateUsedFTE("hours")}]}},t._l(t.FTAarray,function(e){return a("option",{key:e.id,domProps:{value:40*e}},[t._v(t._s(40*e))])})),t._v(" "),a("span",[t._v("Used Hours")])])]):t._e(),t._v(" "),a("div",{staticClass:"switch"},[a("label",[t._v("\n            Hours\n            "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayFTA,expression:"displayFTA"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayFTA)?t._i(t.displayFTA,null)>-1:t.displayFTA},on:{change:function(e){var a=t.displayFTA,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.displayFTA=a.concat([null])):r>-1&&(t.displayFTA=a.slice(0,r).concat(a.slice(r+1)))}else t.displayFTA=i}}}),t._v(" "),a("span",{staticClass:"lever"}),t._v("\n            FTE\n          ")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Status:")]),t._v(" "),a("div",{staticClass:"input-field"},t._l(t.nStatusesList.filter(function(t){return"Not allocated"!=t}),function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.nSelectedStatus==e},on:{click:function(a){t.StatusUpdateFTE(e,!0)}}},[t._v("\n                  "+t._s(e)+"\n                ")])}))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_isActive,expression:"task_isActive"}],staticStyle:{display:"block",width:"70px","margin-top":"10px"},attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_isActive=e.target.multiple?a:a[0]}}},[a("option",[t._v("Yes")]),t._v(" "),a("option",[t._v("No")])]),t._v(" "),a("label",{staticClass:"active"},[t._v("Is archived:")]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Attachment:")]),t._v(" "),t._l(t.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}}),t._v(" "),a("i",{staticClass:"fas fa-minus-square red-text",staticStyle:{cursor:"pointer"},on:{click:function(a){t.RemoveHyperlink(e)}}})])}),t._v(" "),a("div",{staticClass:"helperfield row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"input-field col m4"},[a("label",{staticClass:"col",attrs:{for:"linkDetails"}},[t._v("File URL path:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_link,expression:"detail_link"}],attrs:{id:"linkDetails",type:"text"},domProps:{value:t.detail_link},on:{input:function(e){e.target.composing||(t.detail_link=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col m2 input-field"},[a("label",{staticClass:"col",attrs:{for:"linkhyper"}},[t._v("Link caption:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_title,expression:"detail_title"}],attrs:{id:"linkhyper",type:"text"},domProps:{value:t.detail_title},on:{input:function(e){e.target.composing||(t.detail_title=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small col cyan darken-2",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.AddHyperlink()}}},[a("i",{staticClass:"material-icons"},[t._v("public")]),t._v("              \n                Add attachment hyperlink\n              ")])])],2)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12 info"},[a("span",[t._v("Task category : "),a("b",[t._v(t._s(t.SelectedProjCat))])]),a("br"),t._v(" "),a("span",[t._v("Task created by : "),a("b",[t._v(t._s(t.task_createdBy))])])])]),t._v(" "),a("div",{staticClass:"row MyFixed",staticStyle:{width:"100%"}},[a("div",{staticClass:"col right",staticStyle:{"margin-left":"37px","z-index":"100"}},[a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:"/"}},[t._v("Cancel")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info"},[this._v("\n            By setting this to "),e("b",[this._v("Yes")]),this._v(" the task will only be visible in 'My All' view\n          ")])}]};var G=a("VU/8")(K,z,!1,function(t){a("4Ql2")},"data-v-4c08c026",null).exports,W=a("PJh5"),Q={name:"edit-task",data:function(){return{FTAarray:m.a.FTEList,UsedFTAarray:m.a.usedFTEArrList,PiorityArr:["Low","Normal","High"],task_FTE:null,task_usedFTE:null,ShowFTE:"estimated",hours:4*this.task_FTE,UsedHours:4*this.task_usedFTE,displayFTA:!0,showDetails:!1,showProject:!0,showNewProj:!1,showNewProjCat:!1,showUsers:!1,detail_link:"",detail_title:"",task_attachement:[],task_name:null,task_details:"",task_start:null,task_deadline:null,task_priority:null,task_status:null,task_project:null,task_feedback:!1,task_fbkEmail:"",task_isActive:null,task_createdBy:null,Statuses:m.a.statusesList,ManagersArray:[],SelectedManager:null,ProjectsCat:[],AddNewProjCat:null,SelectedProjCat:null,ProjectsList:[],SelectedProj:null,AddNewProj:null,nStatusesList:m.a.statusesList,nSelectedStatus:"In progress",ownersList:m.a.OwnersList,SelectedOwner:{Label:null,UID:null},initialOwner:{Label:null,UID:null}}},methods:{updateUsedFTE:function(t){"fte"==t?this.UsedHours=40*this.task_usedFTE:this.task_usedFTE=(this.UsedHours/40).toFixed(2)},updateFTE:function(t){"fte"==t?this.hours=40*this.task_FTE:this.task_FTE=(this.hours/40).toFixed(2)},StatusUpdateFTE:function(t,e){this.nSelectedStatus=t,this.ShowFTE="Canceled"==t||"Completed"==t||"On hold"==t?"used":"estimated"},SetDeadline:function(){this.task_deadline=W(this.task_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD")},updateTask:function(t){var e=this,a="Clone"==t,s=this;if(new Date($("#DeadLine").val())<new Date($("#StartDate").val()))return M.toast({html:"Start date should be sooner than Deadline"}),$("#StartDate,#DeadLine").css("border","solid red 1px"),!1;if(this.task_feedback&&-1==this.task_fbkEmail.indexOf("."))return M.toast({html:"Email should contain at least one dot"}),!1;if("used"==this.ShowFTE&&(null==this.task_usedFTE||""==this.task_usedFTE)&&"TBD"==this.task_FTE)return M.toast({html:"Used FTE should not be null"}),$(".FTEcont select").eq(1).css("border","solid red 1px"),!1;null!=this.task_usedFTE&&""!=this.task_usedFTE||"TBD"==this.task_FTE||(this.task_usedFTE=this.task_FTE);var i,l=[],o="Please select ";if(null==this.SelectedProj&&"Personal"!=this.SelectedProjCat&&"xBacklog"!=this.SelectedProjCat&&l.push("Project"),this.showUsers&&null==this.SelectedOwner.UID&&l.push("Owner"),l.length>0)return l.forEach(function(t,e){i=e<l.length-1?", ":"",o=o+t+i}),M.toast({html:o}),!1;a&&(s.nSelectedStatus="Completed"),s.SelectedOwner.UID!=s.initialOwner.UID?(console.log("reasignare"),"backlog"!=s.SelectedOwner.UID&&"Not allocated"==s.nSelectedStatus&&(s.nSelectedStatus="Not started"),n.a.ref("/USERS/"+s.$route.query.uid+"/TASKS/"+s.$route.params.task_id+"/").once("value",function(t){n.a.ref("/USERS/"+s.SelectedOwner.UID+"/TASKS/"+s.$route.params.task_id+"/").set(t.val()).then(function(t){n.a.ref("/USERS/"+s.SelectedOwner.UID+"/TASKS/"+s.$route.params.task_id+"/").update({tName:s.task_name,tDescription:s.task_details,tStart:s.task_start,tDeadline:s.task_deadline,tFTE:s.task_FTE?s.task_FTE:"TBD",tFTEused:s.task_usedFTE?s.task_usedFTE:"",tPriority:s.task_priority,tProject:s.SelectedProj,tProjCateg:s.SelectedProjCat,tStatus:s.nSelectedStatus,tFbk:e.task_feedback,tFbkEmail:e.task_fbkEmail.replace("@ipsos.com","")+"@ipsos.com",tAttach:s.task_attachement,tClosedDate:"Completed"==s.nSelectedStatus?W().format("YYYY-MM-DD"):"",tOwner:s.SelectedOwner,CreatedBy:r.a.auth().currentUser.uid,ModifiedBy:r.a.auth().currentUser.uid,ModifiedDate:W().format("YYYY-MM-DD HH:MM"),t_isActive:"No"==s.task_isActive}).then(function(t){n.a.ref("/USERS/"+s.$route.query.uid+"/TASKS/"+s.$route.params.task_id+"/").remove().then(function(t){a||(s.$router.push({name:s.$route.query.mnext}),console.log("task removed from old user"))})}).catch(function(t){console.error("Error writing document: ",t)})})})):n.a.ref("/USERS/"+this.$route.query.uid+"/TASKS/"+this.$route.params.task_id+"/").update({tName:this.task_name,tDescription:this.task_details,tStart:this.task_start,tDeadline:this.task_deadline,tFTE:this.task_FTE?this.task_FTE:"TBD",tFTEused:this.task_usedFTE?this.task_usedFTE:"",tPriority:this.task_priority,tProject:this.SelectedProj,tProjCateg:this.SelectedProjCat,tStatus:this.nSelectedStatus,tFbk:this.task_feedback,tFbkEmail:this.task_fbkEmail.replace("@ipsos.com","")+"@ipsos.com",tClosedDate:"Completed"==this.nSelectedStatus?W().format("YYYY-MM-DD"):"",tAttach:this.task_attachement,ModifiedBy:r.a.auth().currentUser.uid,ModifiedDate:W().format("YYYY-MM-DD"),t_isActive:"No"==this.task_isActive}).then(function(t){a||s.$router.push({name:s.$route.query.mnext})}).catch(function(t){console.error("Error writing document: ",t)}),a&&s.CloneTask()},addProjCategory:function(){var t=this;n.a.ref("/LISTS/Projects/").update(Y()({},t.AddNewProjCat,{0:""})).then(function(){t.showNewProjCat=!1}).catch(function(t){console.log(t)})},DelProjCategory:function(t){var e=this;null!=e.AddNewProjCat?n.a.ref("/LISTS/Projects/"+e.AddNewProjCat+"/").remove().then(function(){e.AddNewProjCat=null,e.showNewProjCat=!1}):e.showNewProjCat=!1},DeleteTask:function(){var t=this;window.confirm("This task will be permanently deleted, are you sure?")&&n.a.ref("/USERS/"+this.$route.query.uid+"/TASKS/"+this.$route.params.task_id).remove().then(function(){t.$router.push({name:t.$route.query.mnext})})},CloneTask:function(){var t=this;n.a.ref("/USERS/"+t.SelectedOwner.UID+"/TASKS/"+t.$route.params.task_id+"/").once("value",function(e){var a=e.val();a.tStart=W(a.tDeadline,"YYYY-MM-DD HH:MM").weekday(8).format("YYYY-MM-DD"),a.tDeadline=W(a.tDeadline,"YYYY-MM-DD HH:MM").weekday(12).format("YYYY-MM-DD"),a.tStatus="In progress",a.tFTE="TBD",a.tFTEused="",n.a.ref("/USERS/"+t.$route.query.uid+"/TASKS/").push(a).then(function(e){t.nSelectedStatus="Completed",M.toast({html:"Clone succesfully created !"}),t.$router.push({name:t.$route.query.mnext})}).catch(function(t){console.error("Error writing document: ",t)})})},getProjects:function(t){var e=this;"xBacklog"!=e.SelectedProjCat&&t&&(e.SelectedProj=null),n.a.ref("/LISTS/Projects/"+e.SelectedProjCat+"/").on("value",function(t){e.ProjectsList=[],t.forEach(function(t){""!=t.val()&&e.ProjectsList.push(t.val())}),e.showProject=!0})},addProj:function(){var t=this;n.a.ref("/LISTS/Projects/"+t.SelectedProjCat+"/").push(t.AddNewProj).then(function(){t.showNewProj=!1}).catch(function(t){console.log(t)})},DelProj:function(){var t,e=this;n.a.ref("/LISTS/Projects/"+e.SelectedProjCat+"/").once("value",function(a){delete(t=a.val())[x()(t).find(function(a){return t[a]===e.AddNewProj})],n.a.ref("/LISTS/Projects/"+e.SelectedProjCat+"/").set(t).then(function(t){e.showNewProj=!1,console.log("done")})})},AddHyperlink:function(){if(""!=this.detail_link){var t=this.detail_title?this.detail_title:"Click here";-1==this.detail_link.indexOf("http")&&(this.detail_link="https://"+this.detail_link),this.task_attachement.push("<a href='"+this.detail_link+"' target='_blank'>"+t+"</a>"),this.detail_link="",this.detail_title=""}else M.toast({html:"URL field should not be empty"})},RemoveHyperlink:function(t){var e=this.task_attachement.indexOf(t);this.task_attachement.splice(e,1)}},created:function(){var t=this,e=this;n.a.ref("/USERS/"+this.$route.query.uid+"/TASKS/"+this.$route.params.task_id+"/").once("value",function(a){var s=a.val();e.task_name=s.tName,e.task_details=s.tDescription,e.task_start=s.tStart?s.tStart:"",e.task_deadline=s.tDeadline?s.tDeadline:"",e.task_FTE=s.tFTE?s.tFTE:"",e.task_usedFTE=s.tFTEused?s.tFTEused:"",e.nSelectedStatus=s.tStatus,e.task_priority=s.tPriority?s.tPriority:"",e.SelectedProjCat=s.tProjCateg,e.SelectedProj=s.tProject,e.SelectedOwner=s.tOwner?s.tOwner:{Label:null,UID:null},e.initialOwner=e.SelectedOwner,e.task_attachement=s.tAttach?s.tAttach:[],e.task_feedback=!!s.tFbk&&s.tFbk,e.task_fbkEmail=s.tFbkEmail?s.tFbkEmail.replace("@ipsos.com",""):"",e.task_createdBy=s.CreatedBy,e.task_isActive=s.t_isActive?"No":"Yes","xBacklog"==e.SelectedProjCat&&(e.task_start=W().weekday(1).format("YYYY-MM-DD"),e.task_deadline=W().weekday(5).format("YYYY-MM-DD")),e.getProjects(),e.ProjectsCat.sort(),"TBD"!=e.task_FTE&&(e.hours=40*e.task_FTE),null!=e.task_usedFTE&&(e.UsedHours=40*e.task_usedFTE),t.StatusUpdateFTE(e.nSelectedStatus,!1)}),n.a.ref("/USERS/").orderByChild("isManager").equalTo(!0).once("value",function(t){var a=t.val();for(var s in a){var i={OBJ:{name:a[s].Label,UID:s}};e.ManagersArray.push(i)}e.ManagersArray.sort(function(t,e){return"All"==e.OBJ.name?1:t.OBJ.name<e.OBJ.name?-1:t.OBJ.name>e.OBJ.name?1:0})}),$(".material-tooltip").remove()},mounted:function(){var t=this;n.a.ref("/LISTS/Projects/").on("value",function(e){t.ProjectsCat=[];var a=e.val();for(var s in a)t.ProjectsCat.push(s);t.ProjectsCat.sort()})}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"edit-task"}},[a("h3",[t._v("Edit task")]),t._v(" "),a("div",{staticClass:"row MyContainer"},[a("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.updateTask(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name,expression:"task_name"}],attrs:{placeholder:"Task name",type:"text",required:""},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Name:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task_details,expression:"task_details"}],attrs:{id:"textarea1",placeholder:"Task details"},domProps:{value:t.task_details},on:{input:function(e){e.target.composing||(t.task_details=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Details:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_start,expression:"task_start"}],attrs:{id:"StartDate",type:"date",placeholder:"start date"},domProps:{value:t.task_start},on:{input:function(e){e.target.composing||(t.task_start=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Start date:")])]),t._v(" "),a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_deadline,expression:"task_deadline"}],attrs:{id:"DeadLine",type:"date",placeholder:"Task deadline"},domProps:{value:t.task_deadline},on:{input:function(e){e.target.composing||(t.task_deadline=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Deadline:")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col s6 right-align blue-text"},[t.displayFTA?a("span",{staticClass:"FTEcont"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_FTE,expression:"task_FTE"}],staticClass:"blue-text",staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_FTE=e.target.multiple?a:a[0]},function(e){t.updateFTE("fte")}]}},t._l(t.FTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("Estimated FTE")])]):a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],staticClass:"blue-text",staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hours=e.target.multiple?a:a[0]},function(e){t.updateFTE("hours")}]}},t._l(t.FTAarray.filter(function(t){return"TBD"!=t}),function(e){return a("option",{key:e.id,domProps:{value:40*e}},[t._v(t._s(40*e))])})),t._v(" "),a("span",[t._v("Estimated Hours")])])]),t._v(" "),a("div",{staticClass:"col s6 green-text"},[t.displayFTA?a("span",{staticClass:"FTEcont "},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_usedFTE,expression:"task_usedFTE"}],staticClass:"green-text text-darken-2",staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_usedFTE=e.target.multiple?a:a[0]},function(e){t.updateUsedFTE("fte")}]}},t._l(t.UsedFTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("Used FTE")])]):a("span",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.UsedHours,expression:"UsedHours"}],staticClass:"green-text text-darken-2",staticStyle:{display:"inline",width:"70px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.UsedHours=e.target.multiple?a:a[0]},function(e){t.updateUsedFTE("hours")}]}},t._l(t.UsedFTAarray.filter(function(t){return"TBD"!=t}),function(e){return a("option",{key:e.id,domProps:{value:40*e}},[t._v(t._s(40*e))])})),t._v(" "),a("span",[t._v("Used Hours")])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col s6 offset-s4 switch"},[a("label",[t._v("\n              Hours\n              "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayFTA,expression:"displayFTA"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.displayFTA)?t._i(t.displayFTA,null)>-1:t.displayFTA},on:{change:function(e){var a=t.displayFTA,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.displayFTA=a.concat([null])):r>-1&&(t.displayFTA=a.slice(0,r).concat(a.slice(r+1)))}else t.displayFTA=i}}}),t._v(" "),a("span",{staticClass:"lever"}),t._v("\n              FTE\n            ")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Category:")]),t._v(" "),a("div",{staticClass:"input-field"},[t._l(t.ProjectsCat,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedProjCat==e},on:{click:function(a){t.SelectedProjCat=e,t.getProjects(!0)}}},[t._v("\n                  "+t._s(e)+"\n                ")])}),t._v(" "),t.showNewProjCat?t._e():a("a",{staticClass:"btn-floating btn-small waves-effect waves-light red",on:{click:function(e){t.showNewProjCat=!0}}},[a("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),t.showNewProjCat?a("input",{directives:[{name:"model",rawName:"v-model",value:t.AddNewProjCat,expression:"AddNewProjCat"}],attrs:{placeholder:"Add a new value and then 'pres Enter' or 'Esc' to remove it",type:"text"},domProps:{value:t.AddNewProjCat},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.addProjCategory(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?(e.preventDefault(),t.DelProjCategory(e)):null}],input:function(e){e.target.composing||(t.AddNewProjCat=e.target.value)}}}):t._e()],2)])]),t._v(" "),t.showProject?a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Project:")]),t._v(" "),a("div",{staticClass:"input-field"},[t._l(t.ProjectsList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedProj==e},on:{click:function(a){t.SelectedProj=e}}},[t._v("\n              "+t._s(e)+"\n            ")])}),t._v(" "),t.showNewProj?t._e():a("a",{staticClass:"btn-floating btn-small waves-effect waves-light red",on:{click:function(e){t.showNewProj=!0}}},[a("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),t.showNewProj?a("input",{directives:[{name:"model",rawName:"v-model",value:t.AddNewProj,expression:"AddNewProj"}],attrs:{placeholder:"Add a new value and then 'pres Enter' or 'Esc' to remove it",type:"text"},domProps:{value:t.AddNewProj},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.addProj(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?(e.preventDefault(),t.DelProj(e)):null}],input:function(e){e.target.composing||(t.AddNewProj=e.target.value)}}}):t._e()],2)])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Status:")]),t._v(" "),a("div",{staticClass:"input-field"},t._l(t.nStatusesList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.nSelectedStatus==e},on:{click:function(a){t.StatusUpdateFTE(e,!0)}}},[t._v("\n                  "+t._s(e)+"\n                ")])}))])]),t._v(" "),a("div",{staticClass:"row"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_feedback,expression:"task_feedback"}],staticClass:"filled-in",attrs:{type:"checkbox",checked:"checked"},domProps:{checked:Array.isArray(t.task_feedback)?t._i(t.task_feedback,null)>-1:t.task_feedback},on:{change:function(e){var a=t.task_feedback,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.task_feedback=a.concat([null])):r>-1&&(t.task_feedback=a.slice(0,r).concat(a.slice(r+1)))}else t.task_feedback=i}}}),t._v(" "),a("span",[t._v("Request feedback")])]),t._v(" "),t.task_feedback?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_fbkEmail,expression:"task_fbkEmail"}],staticClass:"col m2 validate",attrs:{placeholder:"Feedback email",type:"text",required:""},domProps:{value:t.task_fbkEmail},on:{input:function(e){e.target.composing||(t.task_fbkEmail=e.target.value)}}}),t._v(" "),a("span",{attrs:{id:"emailDomain"}},[t._v("@ipsos.com")])]):t._e()]),t._v(" "),"xBacklog"==t.SelectedOwner.Label?a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Priority:")]),t._v(" "),a("div",{staticClass:"input-field"},t._l(t.PiorityArr,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.task_priority==e},on:{click:function(a){t.task_priority=e}}},[t._v("\n                  "+t._s(e)+"\n                ")])}))])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Owner:")]),t._v(" "),a("div",{staticClass:"input-field"},[t.showUsers?t._e():a("div",[a("b",[t._v(t._s(t.initialOwner.Label))]),a("br"),t._v(" "),a("a",{staticClass:"btn waves-effect waves-light blue darken-3",staticStyle:{"z-index":"0"},on:{click:function(e){t.showUsers=!0}}},[a("i",{staticClass:"material-icons right"},[t._v("assignment_ind")]),t._v("Change owner\n                ")])]),t._v(" "),t.showUsers?a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},t._l(t.ownersList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedOwner.UID==e.UID},on:{click:function(a){t.SelectedOwner=e}}},[t._v("\n                        "+t._s(e.Label)+"\n                      ")])}))]):t._e()])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Is archived:")]),t._v(" "),a("div",{staticClass:"input-field"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_isActive,expression:"task_isActive"}],staticStyle:{display:"block",width:"150px"},attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_isActive=e.target.multiple?a:a[0]}}},[a("option",[t._v("Yes")]),t._v(" "),a("option",[t._v("No")])])]),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active"},[t._v("Created by:")]),t._v(" "),a("div",{staticClass:"input-field"},t._l(t.ManagersArray,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.task_createdBy==e.OBJ.UID}},[t._v("\n                  "+t._s(e.OBJ.name)+"\n                ")])}))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Attachment:")]),t._v(" "),t._l(t.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}}),t._v(" "),a("i",{staticClass:"fas fa-minus-square green-text",staticStyle:{cursor:"pointer"},on:{click:function(a){t.RemoveHyperlink(e)}}})])}),t._v(" "),a("div",{staticClass:"helperfield row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"input-field col m4"},[a("label",{staticClass:"col",attrs:{for:"linkDetails"}},[t._v("File URL path:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_link,expression:"detail_link"}],attrs:{id:"linkDetails",type:"text"},domProps:{value:t.detail_link},on:{input:function(e){e.target.composing||(t.detail_link=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col m2 input-field"},[a("label",{staticClass:"col",attrs:{for:"linkhyper"}},[t._v("Link caption:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_title,expression:"detail_title"}],attrs:{id:"linkhyper",type:"text"},domProps:{value:t.detail_title},on:{input:function(e){e.target.composing||(t.detail_title=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small col cyan darken-2",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.AddHyperlink()}}},[a("i",{staticClass:"material-icons"},[t._v("public")]),t._v("              \n                Add attachment hyperlink\n              ")])])],2)]),t._v(" "),a("div",{staticClass:"row MyFixed",staticStyle:{width:"100%"}},[a("div",{staticClass:"col left",staticStyle:{"margin-left":"37px","z-index":"100"}},[a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:{name:t.$route.query.mnext}}},[t._v("Cancel")])],1),t._v(" "),a("div",{staticClass:"right"},[a("a",{staticClass:"btn waves-effect waves-light blue-grey lighten-2",on:{click:function(e){t.updateTask("Clone")}}},[t._m(2),t._v("\n            Complete & extend |\n          ")]),t._v(" "),a("a",{staticClass:"btn waves-effect waves-light red darken-4",on:{click:t.DeleteTask}},[a("i",{staticClass:"material-icons right"},[t._v("delete_forever")]),t._v("Delete\n          ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[this._v("\n        Task FTE:\n        "),e("blockquote",[this._v("If you close the task (set the status to either Canceled, On hold, Completed) and leave the used FTE blank, will use the value from Estimated if not equal to TBD")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info"},[this._v("\n            By setting this to "),e("b",[this._v("Yes")]),this._v(" the task will only be visible in 'My All' view\n          ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"right"},[e("i",{staticClass:"material-icons"},[this._v("check")]),this._v(" "),e("i",{staticClass:"material-icons"},[this._v("filter_none")])])}]};var Z=a("VU/8")(Q,X,!1,function(t){a("64js")},"data-v-7728a0e9",null).exports,tt={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(){var t=this;r.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){M.toast({html:"You are logged in as "+e.email}),t.$router.go({path:"/view/cols"})},function(t){alert(t.message)})},dummyLogin:function(){this.email="test@ipsos.com",this.password="asdQWE123",this.login()}}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12 m8 offset-m2"},[a("div",{staticClass:"login card-panel green white-text center"},[t._m(0),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("div",{staticClass:"input-field"},[a("i",{staticClass:"material-icons prefix"},[t._v("email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"input-field"},[a("i",{staticClass:"material-icons prefix"},[t._v("lock")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-large btn-extended grey lighten-4 black-text"},[t._v("Login")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("i",[this._v("Login")])])}]};var at=a("VU/8")(tt,et,!1,function(t){a("dgMc")},"data-v-e33abfdc",null).exports,st=(a("3VHS"),r.a.firestore()),it=a("PJh5"),rt={name:"AdminDashboard",data:function(){return{tasks:[],UsersAndArrays:[],GotUsers:!1,forCip:!1,testArr:[]}},created:function(){this.forCip="ciprian.ciresaru@ipsos.com"==r.a.auth().currentUser.email},methods:{DoArchive:function(){var t=this;n.a.ref("USERS").once("value",function(e){var a=e.val(),s=it("12/1/2018","MM/DD/YYYY");for(var i in a){var r=a[i].TASKS;for(var n in r)it(r[n].tDeadline,"YYYY-MM-DD").isBefore(s)&&r[n].t_isActive&&("Completed"==r[n].tStatus||"Canceled"==r[n].tStatus)&&(console.log(i,n),t.SetArchiveFlag(i,n))}}).then(function(t){console.log("arhivation complete")})},SetArchiveFlag:function(t,e){n.a.ref("/USERS/"+t+"/TASKS/"+e+"/").update({t_isActive:!1})},runF1:function(){this.GetRTDB_users()},GetFire_users:function(){},getTasksForUsers:function(t){},GetRTDB_users:function(){var t=this;n.a.ref("USERS").once("value",function(e){t.testArr=e.val()}).then(function(e){t.exportDB(t.testArr)})},exportDB:function(t){var e,a,s;e=p()(t),a="dbBKP_"+it().format("YYYY_MM_DD_HH-SS")+".json",(s=document.createElement("a")).href=URL.createObjectURL(new Blob([e],{type:"text/"+a.split(".").pop()})),s.download=a,s.click(),this.GotUsers=!0},GetFire_ForTasks:function(t){},GetFire_userTasks:function(t){},runCipF1:function(){this.GetRTDB_users()},Cip_MoveFire_lists:function(){st.collection("DropDowns/InnoPipeline/Projects/").get().then(function(t){t.forEach(function(t){var e=t.id,a=[],s={};st.collection("DropDowns/InnoPipeline/Projects/"+e+"/Proj").get().then(function(t){t.forEach(function(t){a.push(t.id)}),s["/LISTS/Projects/"+e+"/"]=a,n.a.ref().update(s).then(function(t){console.log("listsDone")})})})})},Cip_MoveFire_usersTasks:function(){st.collection("Users").get().then(function(t){t.forEach(function(t){var e=t.id,a={};a["/USERS/"+e+"/"]=t.data(),n.a.ref().update(a),st.collection(e).get().then(function(t){t.forEach(function(t){var a=t.id,s={};s["/USERS/"+e+"/TASKS/"+a+"/"]=t.data(),n.a.ref().update(s)})})}),console.log("cip move user tasks Done")})},GetFire_Cip_users:function(){var t=this;st.collection("Users").get().then(function(e){e.forEach(function(e){var a=e.id,s=Y()({},a,{name:e.data().Label,isOwner:e.data().isOwner,isManager:e.data().isManager});t.UsersAndArrays.push(s)}),t.GotUsers=t.UsersAndArrays.length})},runCipF2:function(){this.exportDB(this.testArr)}}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"edit-task"}},[a("H3",[t._v("Export DB as JSON")]),t._v(" "),a("div",{staticClass:"row"},[a("b",[t._v("Step1:")]),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.runF1}},[t._v("Get data")])]),t._v(" "),t.GotUsers?a("div",{staticClass:"row"},[a("b",[t._v("Step2:")]),t._v(" Go to a\n    "),a("a",{attrs:{href:"https://json-csv.com/",target:"_blank"}},[t._v("online converter")]),t._v(" and paste the json file content to obtain a CSV\n  ")]):t._e(),t._v(" "),t.forCip?a("div",{staticClass:"row"},[a("hr"),t._v(" "),a("H3",[t._v("Mark older tasks as archived")]),t._v(" "),a("button",{staticClass:"btn red",attrs:{type:"button"},on:{click:function(e){t.DoArchive()}}},[t._v("Archive tasks")])],1):t._e(),t._v(" "),t.forCip?a("div",{staticClass:"row"},[a("hr"),t._v(" "),a("H3",[t._v("Cip custom export")]),t._v(" "),a("div",{staticClass:"row"},[a("b",[t._v("Step1:")]),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.runCipF1}},[t._v("Cip run function 1")])]),t._v(" "),a("div",{staticClass:"row"},[a("b",[t._v("Step2:")]),t._v(" "),a("button",{staticClass:"btn blue",attrs:{type:"button"},on:{click:t.runCipF2}},[t._v("Get file")]),t._v(" "),t._l(t.testArr,function(e){return a("div",{key:e.id},[t._v("\n        "+t._s(e.name)+"\n        "),t._l(e.tasks,function(e){return a("div",{key:e.id},[t._v(t._s(e.CreatedBy))])})],2)})],2)],1):t._e()],1)},staticRenderFns:[]};var lt=a("VU/8")(rt,nt,!1,function(t){a("itJp")},null,null).exports;s.a.use(_.a);var ot=new _.a({routes:[{path:"/",name:"dashboard",component:S,meta:{requiresAuth:!0}},{path:"/backlog",name:"backlog",component:T,meta:{requiresAuth:!0}},{path:"/view/users",name:"viewusers",component:E,meta:{requiresAuth:!0,requiresMng:!1}},{path:"/view/projcat",name:"viewprojcat",component:P,meta:{requiresAuth:!0}},{path:"/new",name:"new-task",component:N,meta:{requiresAuth:!0,requiresMng:!0}},{path:"/AddNew",name:"new-privateTask",component:J,meta:{requiresAuth:!0}},{path:"/edit/:task_id",name:"edit-task",component:G,meta:{requiresAuth:!0}},{path:"/edit_mng/:task_id",name:"edit-task_mng",component:Z,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:at,meta:{requiresGuest:!0}},{path:"/admn",name:"admin",component:lt,meta:{requiresAuth:!0}}]});ot.beforeEach(function(t,e,a){if($(".material-tooltip").remove(),t.matched.some(function(t){return t.meta.requiresAuth}))if(r.a.auth().currentUser)if(t.matched.some(function(t){return t.meta.requiresMng})){var s=r.a.auth().currentUser.uid;n.a.ref("/USERS/").orderByKey().equalTo(s).once("value",function(t){t.val()[s].isManager||"ciprian.ciresaru@ipsos.com"==r.a.auth().currentUser.email?a():a({path:"/"})})}else a();else a({path:"/login"});else t.matched.some(function(t){return t.meta.requiresGuest})&&r.a.auth().currentUser?"login"==t.name?a({path:"/view/cols",query:{redirect:t.fullPath}}):a({path:"/"}):a()});var ct=ot;s.a.config.productionTip=!1;var dt=void 0;r.a.auth().onAuthStateChanged(function(t){dt||(dt=new s.a({el:"#app",router:ct,template:"<App/>",components:{App:u}}))})},NIgx:function(t,e){},O2iK:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_firebase__=__webpack_require__("Sazm"),__WEBPACK_IMPORTED_MODULE_1_firebase___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_firebase__),__WEBPACK_IMPORTED_MODULE_2__fireLists__=__webpack_require__("2ZyV"),__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__=__webpack_require__("GkZ1"),__WEBPACK_IMPORTED_MODULE_4__Modal__=__webpack_require__("/o5o"),moment=__webpack_require__("PJh5");__webpack_exports__.a={name:"userview",props:{isManager:Boolean},components:{modal:__WEBPACK_IMPORTED_MODULE_4__Modal__.a},data:function(){return{showDateFilter:!localStorage.getItem("viewUser_ShowDate")||JSON.parse(localStorage.getItem("viewUser_ShowDate")),Datefilter_start:localStorage.getItem("viewUser_FilterStart")?JSON.parse(localStorage.getItem("viewUser_FilterStart")):moment().weekday(1).format("YYYY-MM-DD"),Datefilter_end:localStorage.getItem("viewUser_FilterEnd")?JSON.parse(localStorage.getItem("viewUser_FilterEnd")):moment().weekday(5).format("YYYY-MM-DD"),StatusesList:__WEBPACK_IMPORTED_MODULE_2__fireLists__.a.statusesList,SelectedStatus:localStorage.getItem("viewUser_StatusesFilterObj")?JSON.parse(localStorage.getItem("viewUser_StatusesFilterObj")):["In progress","On hold","Not allocated"],FireUsersArray:[],NFireUsersArray:[],xFilteredUsersArr:[],SelectedUsers:localStorage.getItem("viewUser_SelectedUsersFilterObj")?JSON.parse(localStorage.getItem("viewUser_SelectedUsersFilterObj")):[],FireManagersArray:[],GotUsers:0,FireProjCatArray:[],SelectedManager:localStorage.getItem("viewUser_CreatorsFilterObj")?JSON.parse(localStorage.getItem("viewUser_CreatorsFilterObj")):[],FTAarray:__WEBPACK_IMPORTED_MODULE_2__fireLists__.a.FTEList,UsedFTAarray:__WEBPACK_IMPORTED_MODULE_2__fireLists__.a.usedFTEArrList,GotTarget:!1,displayFTA:!0,hours:null,targetTask:null,QActStat:""}},updated:function(){$(".tooltipped").tooltip()},mounted:function(){this.GetFire_users(),$(".modal").modal()},methods:{AddCurentDateFilter:function(){this.Datefilter_start=moment().weekday(1).format("YYYY-MM-DD"),this.Datefilter_end=moment().weekday(5).format("YYYY-MM-DD"),this.showDateFilter=!0},ClearDateFilter:function(){this.showDateFilter=!1,this.Datefilter_start=null,this.Datefilter_end=null,this.ADDTasksIncat()},AddInfo:function(t){var e={};e.tStatus=this.targetTask.newStatus,e.tFTEused=this.targetTask.task_usedFTE,"Completed"!=this.targetTask.newStatus&&"Canceled"!=this.targetTask.newStatus||(e.tClosedDate=moment().format("YYYY-MM-DD")),__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__.a.ref("/USERS/"+this.targetTask.task_owner+"/TASKS/"+this.targetTask.id+"/").update(e)},updateFTEs:function(t){this.targetTask.task_usedFTE=t},MultiStatus:function(t){var e=this,a=e.SelectedStatus.indexOf(t);e.SelectedStatus.length==e.StatusesList.length?e.SelectedStatus=[t]:(-1==a?e.SelectedStatus.push(t):e.SelectedStatus.splice(a,1),0==e.SelectedStatus.length&&e.StatusesList.forEach(function(t){e.SelectedStatus.push(t)})),e.ADDTasksIncat()},MultiUser:function(t){var e=this,a=e.SelectedUsers.indexOf(t.OBJ.UID);e.SelectedUsers.length==e.FireUsersArray.length?e.SelectedUsers=[t.OBJ.UID]:(-1==a?e.SelectedUsers.push(t.OBJ.UID):e.SelectedUsers.splice(a,1),0==e.SelectedUsers.length&&e.FireUsersArray.forEach(function(t){e.SelectedUsers.push(t.OBJ.UID)})),e.ADDTasksIncat()},MultiCreator:function(t){var e=this,a=e.SelectedManager.indexOf(t.OBJ.UID);e.SelectedManager.length==e.FireManagersArray.length?e.SelectedManager=[t.OBJ.UID]:(-1==a?e.SelectedManager.push(t.OBJ.UID):e.SelectedManager.splice(a,1),0==e.SelectedManager.length&&e.FireManagersArray.forEach(function(t){e.SelectedManager.push(t.OBJ.UID)})),e.ADDTasksIncat()},datefilter_setEnd:function(){this.Datefilter_end=moment(this.Datefilter_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD")},GetFire_users:function(){var t=this;__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__.a.ref("/USERS/").orderByChild("isOwner").equalTo(!0).on("value",function(e){t.FireUsersArray=[];var a=e.val();for(var s in a){var i={OBJ:{name:a[s].Label,tasks:[],UID:s}},r=a[s].TASKS;for(var s in r)if(r[s].t_isActive&&!r[s].isPrivate){r[s].tOwner.UID;var n={id:s,task_name:r[s].tName,task_description:r[s].tDescription.replace(/\n/g,"<br/>"),task_start:moment(r[s].tStart,"YYYY-MM-DD"),task_deadline:moment(r[s].tDeadline,"YYYY-MM-DD"),task_start_short:moment(r[s].tStart,"YYYY-MM-DD").format("DD-MMM"),task_deadline_short:moment(r[s].tDeadline,"YYYY-MM-DD").format("DD-MMM"),task_FTE:r[s].tFTE,task_usedFTE:r[s].tFTEused,task_wkNo:moment(r[s].tDeadline,"YYYY-MM-DD").week(),task_project:r[s].tProject,task_ProjCat:r[s].tProjCateg,task_status:r[s].tStatus,task_owner:r[s].tOwner.UID,task_owner_label:r[s].tOwner.Label,task_isPrivate:r[s].isPrivate,task_Createdby:r[s].CreatedBy};i.OBJ.tasks.push(n)}t.FireUsersArray.push(i)}t.FireUsersArray.sort(function(t,e){return t.OBJ.name<e.OBJ.name?-1:t.OBJ.name>e.OBJ.name?1:0}),t.ADDTasksIncat()}),__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__.a.ref("/USERS/").orderByChild("isManager").equalTo(!0).once("value",function(e){var a=e.val();for(var s in a){var i={OBJ:{name:a[s].Label,UID:s}};t.FireManagersArray.push(i)}t.FireManagersArray.sort(function(t,e){return"All"==e.OBJ.name?1:t.OBJ.name<e.OBJ.name?-1:t.OBJ.name>e.OBJ.name?1:0})})},ADDTasksIncat:function ADDTasksIncat(){var objVue=this;objVue.FireProjCatArray.forEach(function(t){t.tasks=[]}),localStorage.setItem("viewUser_StatusesFilterObj",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.SelectedStatus)),localStorage.setItem("viewUser_CreatorsFilterObj",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.SelectedManager)),localStorage.setItem("viewUser_SelectedUsersFilterObj",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.SelectedUsers)),localStorage.setItem("viewUser_FilterStart",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.Datefilter_start)),localStorage.setItem("viewUser_FilterEnd",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.Datefilter_end)),localStorage.setItem("viewUser_ShowDate",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.showDateFilter));var queryString="";objVue.SelectedStatus.length>0&&(queryString="(",objVue.SelectedStatus.forEach(function(t){queryString=queryString+"task.task_status == '"+t+"' || "}),queryString=queryString.substring(0,queryString.length-4),queryString+=") &&"),queryString+="(task.task_isPrivate == undefined || task.task_isPrivate == false)",objVue.SelectedManager.length>0&&(queryString+=" && (",objVue.SelectedManager.forEach(function(t){queryString=queryString+"task.task_Createdby == '"+t+"' || "}),queryString=queryString.substring(0,queryString.length-4),queryString+=")"),objVue.showDateFilter&&(queryString+="&& ",queryString+="(( moment(objVue.Datefilter_start,'YYYY-MM-DD').isSameOrBefore(moment(task.task_start,'YYYY-MM-DD')) && moment(task.task_start,'YYYY-MM-DD').isSameOrBefore(moment(objVue.Datefilter_start,'YYYY-MM-DD')) )",queryString+="|| ",queryString+="( moment(task.task_deadline,'YYYY-MM-DD').isSameOrBefore(moment(objVue.Datefilter_end,'YYYY-MM-DD')) && moment(objVue.Datefilter_start,'YYYY-MM-DD').isSameOrBefore(moment(task.task_deadline,'YYYY-MM-DD')) ))");var indx=0;function sortMYTasks(t,e){return t.task_project<e.task_project?-1:t.task_project>e.task_project?1:0}objVue.xFilteredUsersArr=[],objVue.FireUsersArray.forEach(function(itm){objVue.SelectedUsers.indexOf(itm.OBJ.UID)>-1&&(objVue.xFilteredUsersArr.push({OBJ:{UID:itm.OBJ.UID,name:itm.OBJ.name,tasks:[]}}),itm.OBJ.tasks.forEach(function(task){eval(queryString)&&objVue.xFilteredUsersArr[indx].OBJ.tasks.push(task)}),indx++)}),objVue.FireProjCatArray.forEach(function(t){t.tasks.sort(sortMYTasks)})},CompleteTask:function(t){this.targetTask=t,this.hours=40*this.targetTask.task_usedFTE,this.GotTarget=!0,this.targetTask.newStatus="Completed",M.Modal.getInstance($("#modal1")).open()},CancelTask:function(t){this.targetTask=t,this.hours=40*this.targetTask.task_usedFTE,this.GotTarget=!0,this.targetTask.newStatus="Canceled",M.Modal.getInstance($("#modal1")).open()},StartStop:function(t){this.targetTask=t,this.hours=40*this.targetTask.task_usedFTE,this.GotTarget=!0,this.targetTask.newStatus="In progress"==t.task_status?"On hold":"In progress","In progress"!=this.targetTask.newStatus?M.Modal.getInstance($("#modal1")).open():__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__.a.ref("/USERS/"+t.task_owner+"/TASKS/"+t.id+"/").update({tStatus:this.targetTask.newStatus}).then(function(t){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})},sumFTA:function(t){var e=0;return t.forEach(function(t){void 0!=t.task_FTE&&"TBD"!=t.task_FTE&&null!=t.task_FTE&&""!=t.task_FTE&&(e+=parseFloat(t.task_FTE))}),e.toFixed(2)},sumFTAused:function(t){var e=0;return t.forEach(function(t){void 0!=t.task_usedFTE&&null!=t.task_usedFTE&&""!=t.task_usedFTE&&(e+=parseFloat(t.task_usedFTE))}),e.toFixed(2)}}}},"U+Gw":function(t,e){},VBJJ:function(t,e){},WyTQ:function(t,e){},XDq6:function(t,e){},dgMc:function(t,e){},itJp:function(t,e){},pLsw:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_firebase__=__webpack_require__("Sazm"),__WEBPACK_IMPORTED_MODULE_1_firebase___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_firebase__),__WEBPACK_IMPORTED_MODULE_2__fireLists__=__webpack_require__("2ZyV"),__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__=__webpack_require__("GkZ1"),__WEBPACK_IMPORTED_MODULE_4__Modal__=__webpack_require__("/o5o"),moment=__webpack_require__("PJh5");__webpack_exports__.a={name:"viewProjcat",props:{isManager:Boolean},components:{modal:__WEBPACK_IMPORTED_MODULE_4__Modal__.a},data:function(){return{showDateFilter:!localStorage.getItem("viewUser_ShowDate")||JSON.parse(localStorage.getItem("viewUser_ShowDate")),Datefilter_start:localStorage.getItem("viewUser_FilterStart")?JSON.parse(localStorage.getItem("viewUser_FilterStart")):moment().weekday(1).format("YYYY-MM-DD"),Datefilter_end:localStorage.getItem("viewUser_FilterEnd")?JSON.parse(localStorage.getItem("viewUser_FilterEnd")):moment().weekday(5).format("YYYY-MM-DD"),StatusesList:__WEBPACK_IMPORTED_MODULE_2__fireLists__.a.statusesList,SelectedStatus:localStorage.getItem("viewProj_StatusFilterObj")?JSON.parse(localStorage.getItem("viewProj_StatusFilterObj")):["In progress","On hold","Not allocated"],FireUsersArray:[],xFilteredUsersArr:[],SelectedUsers:localStorage.getItem("viewProj_SelectedUsersFilterObj")?JSON.parse(localStorage.getItem("viewProj_SelectedUsersFilterObj")):[],FireManagersArray:[],GotUsers:0,FireProjCatArray:[],SelectedManager:localStorage.getItem("viewProj_CreatorsFilterObj")?JSON.parse(localStorage.getItem("viewProj_CreatorsFilterObj")):[],FTAarray:__WEBPACK_IMPORTED_MODULE_2__fireLists__.a.FTEList,UsedFTAarray:__WEBPACK_IMPORTED_MODULE_2__fireLists__.a.usedFTEArrList,GotTarget:!1,displayFTA:!0,hours:null,targetTask:null,QActStat:""}},updated:function(){$(".tooltipped").tooltip()},mounted:function(){var t=this;__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__.a.ref("/LISTS/Projects/").once("value",function(e){t.FireProjCatArray=[];var a=e.val();for(var s in a){var i={name:s,tasks:[]};t.FireProjCatArray.push(i)}t.FireProjCatArray.push({name:"Old",tasks:[]}),t.FireProjCatArray.sort()}),this.GetFire_users(),$(".modal").modal()},methods:{AddCurentDateFilter:function(){this.Datefilter_start=moment().weekday(1).format("YYYY-MM-DD"),this.Datefilter_end=moment().weekday(5).format("YYYY-MM-DD"),this.showDateFilter=!0},ClearDateFilter:function(){this.showDateFilter=!1,this.Datefilter_start=null,this.Datefilter_end=null,this.ADDTasksIncat()},AddInfo:function(t){var e={};e.tStatus=this.targetTask.newStatus,e.tFTEused=this.targetTask.task_usedFTE,"Completed"!=this.targetTask.newStatus&&"Canceled"!=this.targetTask.newStatus||(e.tClosedDate=moment().format("YYYY-MM-DD")),__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__.a.ref("/USERS/"+this.targetTask.task_owner+"/TASKS/"+this.targetTask.id+"/").update(e)},updateFTEs:function(t){this.targetTask.task_usedFTE=t},MultiStatus:function(t){var e=this,a=e.SelectedStatus.indexOf(t);e.SelectedStatus.length==e.StatusesList.length?e.SelectedStatus=[t]:(-1==a?e.SelectedStatus.push(t):e.SelectedStatus.splice(a,1),0==e.SelectedStatus.length&&e.StatusesList.forEach(function(t){e.SelectedStatus.push(t)})),e.ADDTasksIncat()},MultiUser:function(t){var e=this,a=e.SelectedUsers.indexOf(t.OBJ.UID);e.SelectedUsers.length==e.FireUsersArray.length?e.SelectedUsers=[t.OBJ.UID]:(-1==a?e.SelectedUsers.push(t.OBJ.UID):e.SelectedUsers.splice(a,1),0==e.SelectedUsers.length&&e.FireUsersArray.forEach(function(t){e.SelectedUsers.push(t.OBJ.UID)})),e.ADDTasksIncat()},MultiCreator:function(t){var e=this,a=e.SelectedManager.indexOf(t.OBJ.UID);e.SelectedManager.length==e.FireManagersArray.length?e.SelectedManager=[t.OBJ.UID]:(-1==a?e.SelectedManager.push(t.OBJ.UID):e.SelectedManager.splice(a,1),0==e.SelectedManager.length&&e.FireManagersArray.forEach(function(t){e.SelectedManager.push(t.OBJ.UID)})),e.ADDTasksIncat()},datefilter_setEnd:function(){this.Datefilter_end=moment(this.Datefilter_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD")},GetFire_users:function(){var t=this;__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__.a.ref("/USERS/").orderByChild("isOwner").equalTo(!0).on("value",function(e){t.FireUsersArray=[];var a=e.val();for(var s in a){var i={OBJ:{name:a[s].Label,tasks:[],UID:s}},r=a[s].TASKS;for(var n in r)if(r[n].t_isActive&&!r[n].isPrivate){var l={id:n,task_name:r[n].tName,task_description:r[n].tDescription.replace(/\n/g,"<br/>"),task_start:moment(r[n].tStart,"YYYY-MM-DD"),task_deadline:moment(r[n].tDeadline,"YYYY-MM-DD"),task_start_short:moment(r[n].tStart,"YYYY-MM-DD").format("DD-MMM"),task_deadline_short:moment(r[n].tDeadline,"YYYY-MM-DD").format("DD-MMM"),task_FTE:r[n].tFTE,task_usedFTE:r[n].tFTEused,task_wkNo:moment(r[n].tDeadline,"YYYY-MM-DD").week(),task_project:r[n].tProject,task_ProjCat:r[n].tProjCateg,task_status:r[n].tStatus,task_owner:r[n].tOwner.UID,task_owner_label:r[n].tOwner.Label,task_isPrivate:r[n].isPrivate,task_Createdby:r[n].CreatedBy};i.OBJ.tasks.push(l)}t.FireUsersArray.push(i)}t.FireUsersArray.sort(function(t,e){return t.OBJ.name<e.OBJ.name?-1:t.OBJ.name>e.OBJ.name?1:0}),t.ADDTasksIncat()}),__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__.a.ref("/USERS/").orderByChild("isManager").equalTo(!0).once("value",function(e){var a=e.val();for(var s in a){var i={OBJ:{name:a[s].Label,UID:s}};t.FireManagersArray.push(i)}t.FireManagersArray.sort(function(t,e){return"All"==e.OBJ.name?1:t.OBJ.name<e.OBJ.name?-1:t.OBJ.name>e.OBJ.name?1:0})})},ADDTasksIncat:function ADDTasksIncat(){var objVue=this;objVue.FireProjCatArray.forEach(function(t){t.tasks=[]}),localStorage.setItem("viewProj_StatusFilterObj",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.SelectedStatus)),localStorage.setItem("viewProj_CreatorsFilterObj",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.SelectedManager)),localStorage.setItem("viewProj_SelectedUsersFilterObj",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.SelectedUsers)),localStorage.setItem("viewUser_FilterStart",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.Datefilter_start)),localStorage.setItem("viewUser_FilterEnd",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.Datefilter_end)),localStorage.setItem("viewUser_ShowDate",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(objVue.showDateFilter));var userFilter=0!=objVue.SelectedUsers.length;objVue.xFilteredUsersArr=[],userFilter?objVue.FireUsersArray.forEach(function(t){objVue.SelectedUsers.indexOf(t.OBJ.UID)>-1&&objVue.xFilteredUsersArr.push(t)}):objVue.xFilteredUsersArr=objVue.FireUsersArray;var queryString="";function sortMYTasks(t,e){return t.task_project<e.task_project?-1:t.task_project>e.task_project?1:0}objVue.SelectedStatus.length>0&&(queryString="(",objVue.SelectedStatus.forEach(function(t){queryString=queryString+"task.task_status == '"+t+"' || "}),queryString=queryString.substring(0,queryString.length-4),queryString+=") &&"),queryString+="(task.task_isPrivate == undefined || task.task_isPrivate == false)",objVue.SelectedManager.length>0&&(queryString+=" && (",objVue.SelectedManager.forEach(function(t){queryString=queryString+"task.task_Createdby == '"+t+"' || "}),queryString=queryString.substring(0,queryString.length-4),queryString+=")"),objVue.showDateFilter&&(queryString+="&& ",queryString+="(( moment(objVue.Datefilter_start,'YYYY-MM-DD').isSameOrBefore(moment(task.task_start,'YYYY-MM-DD')) && moment(task.task_start,'YYYY-MM-DD').isSameOrBefore(moment(objVue.Datefilter_start,'YYYY-MM-DD')) )",queryString+="|| ",queryString+="( moment(task.task_deadline,'YYYY-MM-DD').isSameOrBefore(moment(objVue.Datefilter_end,'YYYY-MM-DD')) && moment(objVue.Datefilter_start,'YYYY-MM-DD').isSameOrBefore(moment(task.task_deadline,'YYYY-MM-DD')) ))"),objVue.xFilteredUsersArr.forEach(function(itm){itm.OBJ.tasks.forEach(function(task){if(eval(queryString)){var taskFound=!1;objVue.FireProjCatArray.forEach(function(t){t.name==task.task_ProjCat&&(t.tasks.push(task),taskFound=!0)}),taskFound||objVue.FireProjCatArray.forEach(function(t){"Old"==t.name&&t.tasks.push(task)})}})}),objVue.FireProjCatArray.forEach(function(t){t.tasks.sort(sortMYTasks)})},CompleteTask:function(t){this.targetTask=t,this.hours=40*this.targetTask.task_usedFTE,this.GotTarget=!0,this.targetTask.newStatus="Completed",M.Modal.getInstance($("#modal1")).open()},CancelTask:function(t){this.targetTask=t,this.hours=40*this.targetTask.task_usedFTE,this.GotTarget=!0,this.targetTask.newStatus="Canceled",M.Modal.getInstance($("#modal1")).open()},StartStop:function(t){this.targetTask=t,this.hours=40*this.targetTask.task_usedFTE,this.GotTarget=!0,this.targetTask.newStatus="In progress"==t.task_status?"On hold":"In progress","In progress"!=this.targetTask.newStatus?M.Modal.getInstance($("#modal1")).open():__WEBPACK_IMPORTED_MODULE_3__firebaseInitRTDB__.a.ref("/USERS/"+t.task_owner+"/TASKS/"+t.id+"/").update({tStatus:this.targetTask.newStatus}).then(function(t){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})},sumFTA:function(t){var e=0;return t.forEach(function(t){void 0!=t.task_FTE&&"TBD"!=t.task_FTE&&null!=t.task_FTE&&""!=t.task_FTE&&["In progress","Not started","Not allocated"].indexOf(t.task_status)>=0&&(e+=parseFloat(t.task_FTE))}),e.toFixed(2)},DiFsumFTA:function(t,e){switch(e){case"Inno – ASI: Connect":return parseFloat(5.3-t).toFixed(2);case"Inno – MKT":return parseFloat(2.2-t).toFixed(2);default:return!1}},sumFTAused:function(t){var e=0;return t.forEach(function(t){void 0!=t.task_usedFTE&&null!=t.task_usedFTE&&""!=t.task_usedFTE&&-1==["In progress","Not started","Not allocated"].indexOf(t.task_status)&&(e+=parseFloat(t.task_usedFTE))}),e.toFixed(2)}}}},qnlp:function(t,e){},uslO:function(t,e,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return a(r(t))}function r(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.98ee6e3a053fe377f7e9.js.map