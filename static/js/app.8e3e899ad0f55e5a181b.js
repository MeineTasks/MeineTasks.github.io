webpackJsonp([1],{"/H9o":function(t,e){},"0StR":function(t,e){},"1dTy":function(t,e){},DA1c:function(t,e){},FUgD:function(t,e){},LsTg:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("Sazm"),n=a.n(i),o=a("qVsQ"),r={name:"navbar",data:function(){return{isLoggedIn:!1,currentUser:!1,isMng:!1}},created:function(){var t=this;n.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=n.a.auth().currentUser.email,o.a.collection("Users").doc(n.a.auth().currentUser.uid).get().then(function(e){e.data().isManager&&(t.isMng=!0)}))},mounted:function(){$(".tooltipped").tooltip(),$(".dropdown-trigger").dropdown(),/trident/.test(navigator.userAgent.toLowerCase())&&($("body").html("<center>The application was designed for Google Chrome</center>"),alert("== Please use Chrome to open this page =="))},methods:{logout:function(){var t=this;n.a.auth().signOut().then(function(){t.$router.go({path:t.$router.path})})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",[a("div",{staticClass:"nav-wrapper brown lighten-1 row"},[t.isLoggedIn?a("span",{staticClass:"brand-logo left hide-on-small-only",staticStyle:{"margin-left":"20px"}},[a("i",{staticClass:"large material-icons tooltipped",staticStyle:{color:"#8bbf8b",cursor:"help"},attrs:{"data-position":"bottom","data-tooltip":t.currentUser}},[t._v("account_circle")]),t._v(" "),t.isLoggedIn?a("a",[a("button",{staticClass:"btn black",on:{click:t.logout}},[t._v("Logout")])]):t._e()]):t._e(),t._v(" "),t._m(0),t._v(" "),a("ul",{staticClass:"hide-on-small-only right"},[t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/"}},[t._v("My Dashboard")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/all"}},[t._v("My All")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/cols"}},[t._v("My Active")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/gantt"}},[t._v("My Gantt")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/users"}},[t._v("View Users ")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/projcat"}},[t._v("View Projects ")])],1):t._e(),t._v(" "),t.isLoggedIn?t._e():a("li",[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])])]),t._v(" "),a("ul",{staticClass:"dropdown-content",attrs:{id:"dropdown1"}},[t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/"}},[t._v("My Dashboard")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/all"}},[t._v("My All")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/cols"}},[t._v("My Active")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/gantt"}},[t._v("My Gantt")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/users"}},[t._v("View Users ")])],1):t._e(),t._v(" "),t.isLoggedIn?a("li",[a("router-link",{attrs:{to:"/view/projcat"}},[t._v("View Projects ")])],1):t._e(),t._v(" "),t.isLoggedIn?t._e():a("li",[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"dropdown-trigger right col s12 hide-on-med-and-up\t",attrs:{href:"#!","data-target":"dropdown1"}},[this._v("Select View"),e("i",{staticClass:"material-icons right"},[this._v("arrow_drop_down")])])}]};var c={name:"App",components:{Navbar:a("VU/8")(r,l,!1,function(t){a("ggCE")},null,null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Navbar"),this._v(" "),e("div",{staticClass:"row"},[e("router-view")],1)],1)},staticRenderFns:[]},_=a("VU/8")(c,d,!1,null,null,null).exports,u=a("/ocq"),v={name:"dashboard",data:function(){return{isLoggedIn:!1,hasDone:!1,viewDone:null,tasks:[],logData:[]}},created:function(){var t=this;n.a.auth().currentUser&&(this.isLoggedIn=!0,o.a.collection(n.a.auth().currentUser.uid).where("t_isActive","==",!0).onSnapshot(function(e){t.tasks=[],e.forEach(function(e){var a={id:e.id,task_name:e.data().tName,task_description:e.data().tDescription.replace(/\n/g,"<br/>"),task_projectCategory:e.data().tProjCateg,task_project:e.data().tProject,task_attachement:e.data().tAttach,task_deadline:e.data().tDeadline,task_status:e.data().tStatus,task_completed:"Completed"==e.data().tStatus,task_canceled:"Canceled"==e.data().tStatus,task_inProgress:"In progress"==e.data().tStatus,task_onHold:"On hold"==e.data().tStatus,t_isPrivate:"Personal"==e.data().tProjCateg};t.tasks.push(a)})}))},computed:{ViewOnHold:function(){return this.tasks.filter(function(t){return 1==t.task_onHold})},ViewInProgress:function(){return this.tasks.filter(function(t){return 1==t.task_inProgress})},ViewCompleted:function(){return this.tasks.filter(function(t){return 1==t.task_completed})},ViewCanceled:function(){return this.tasks.filter(function(t){return 1==t.task_canceled})}},updated:function(){$(".tooltipped").tooltip()},methods:{CloseTask:function(t){o.a.collection(n.a.auth().currentUser.uid).doc(t.id).set({t_isActive:!1},{merge:!0}).then(function(t){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.log("Error getting documents: ",t)})},DeleteTask:function(t){window.confirm("The task will be permanently deleted, are you sure?")&&o.a.collection(n.a.auth().currentUser.uid).doc(t.id).delete().then(function(){$(".material-tooltip").removeAttr("style")})}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px 50px"},attrs:{id:"dashboard"}},[t._m(0),t._v(" "),t._l(t.ViewInProgress,function(e){return a("div",{key:e.id,staticClass:"row z-depth-2",class:[{Completed:e.ViewInProgress},{Canceled:e.task_canceled},{inProgress:e.task_inProgress}]},[a("div",{staticClass:"col m2 s12"},[a("span",[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_projectCategory))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_deadline))]),t._v(" "),t.isLoggedIn?a("div",{staticClass:"col iconContainer"},[e.t_isPrivate?a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Delete</span>"}},[a("i",{staticClass:"material-icons right DelIcn",on:{click:function(a){t.DeleteTask(e)}}},[t._v("delete_forever")])]):t._e(),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>"}},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1)]):t._e()])}),t._v(" "),t._l(t.ViewOnHold,function(e){return a("div",{key:e.id,staticClass:"row z-depth-2",class:[{Completed:e.ViewInProgress},{Canceled:e.task_canceled},{inProgress:e.task_inProgress}]},[a("div",{staticClass:"col m2 s12"},[a("span",[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_projectCategory))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_deadline))]),t._v(" "),t.isLoggedIn?a("div",{staticClass:"col iconContainer"},[e.t_isPrivate?a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Delete</span>"}},[a("i",{staticClass:"material-icons right DelIcn",on:{click:function(a){t.DeleteTask(e)}}},[t._v("delete_forever")])]):t._e(),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Archive</span>"}},[a("i",{staticClass:"fas fa-trash-alt",on:{click:function(a){t.CloseTask(e)}}})]),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>"}},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1)]):t._e()])}),t._v(" "),a("hr"),t._v(" "),t._l(t.ViewCompleted,function(e){return a("div",{key:e.id,staticClass:"row z-depth-2",class:[{Completed:e.ViewInProgress},{Canceled:e.task_canceled},{inProgress:e.task_inProgress}]},[a("div",{staticClass:"col m2 s12"},[a("span",[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_projectCategory))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_deadline))]),t._v(" "),t.isLoggedIn?a("div",{staticClass:"col iconContainer"},[e.t_isPrivate?a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Delete</span>"}},[a("i",{staticClass:"material-icons right DelIcn",on:{click:function(a){t.DeleteTask(e)}}},[t._v("delete_forever")])]):t._e(),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Archive</span>"}},[a("i",{staticClass:"fas fa-trash-alt",on:{click:function(a){t.CloseTask(e)}}})]),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>"}},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1)]):t._e()])}),t._v(" "),t._l(t.ViewCanceled,function(e){return a("div",{key:e.id,staticClass:"row z-depth-2",class:[{Completed:e.ViewInProgress},{Canceled:e.task_canceled},{inProgress:e.task_inProgress}]},[a("div",{staticClass:"col m2 s12 truncate"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_project))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_deadline))]),t._v(" "),t.isLoggedIn?a("div",{staticClass:"col iconContainer"},[a("div",{staticClass:"col "},[a("i",{staticClass:"fas fa-trash-alt",on:{click:function(a){t.CloseTask(e)}}})]),t._v(" "),a("div",{staticClass:"col "},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1)]):t._e()])}),t._v(" "),a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large blue",attrs:{to:"/AddNew"}},[a("i",{staticClass:"fa fa-plus-square"})])],1)],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row z-depth-3 brown darken-1 white-text hide-on-small-only"},[a("h6",{staticClass:"col m2 s12"},[t._v("Task name")]),t._v(" "),a("h6",{staticClass:"col m3 s12"},[t._v("Description")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Category")]),t._v(" "),a("h6",{staticClass:"col m2 s12"},[t._v("Attachments")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Status")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Deadline")]),t._v(" "),a("h6",{staticClass:"col m iconContainer"},[a("span",{staticClass:"red-text"},[t._v("Archive")]),t._v(" "),a("span",{staticClass:"white-text"},[t._v("Edit")])])])}]};var m=a("VU/8")(v,p,!1,function(t){a("/H9o")},"data-v-ed9abc6c",null).exports,h={name:"dashboard",data:function(){return{isLoggedIn:!1,hasDone:!1,viewDone:null,tasks:[],logData:[]}},updated:function(){$(".tooltipped").tooltip()},created:function(){var t=this;n.a.auth().currentUser&&(this.isLoggedIn=!0,o.a.collection(n.a.auth().currentUser.uid).orderBy("t_isActive","desc").onSnapshot(function(e){t.tasks=[],e.forEach(function(e){var a={id:e.id,task_name:e.data().tName,task_description:e.data().tDescription.replace(/\n/g,"<br/>"),task_deadline:e.data().tDeadline,task_status:e.data().tStatus,task_projectCategory:e.data().tProjCateg,task_project:e.data().tProject,task_attachement:e.data().tAttach,task_isActive:!e.data().t_isActive};t.tasks.push(a)})}))},methods:{CloseTask:function(t){o.a.collection(n.a.auth().currentUser.uid).doc(t.id).set({t_isActive:!1},{merge:!0}).then(function(t){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.log("Error getting documents: ",t)})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px 50px"},attrs:{id:"dashboard"}},[t._m(0),t._v(" "),t._l(t.tasks,function(e){return a("div",{key:e.id,staticClass:"row z-depth-2",class:{notActive:e.task_isActive}},[a("div",{staticClass:"col m2 s12 truncate"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_projectCategory))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_deadline))]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.task_isActive))]),t._v(" "),t.isLoggedIn?a("div",{staticClass:"col iconContainer"},[a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>"}},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1)]):t._e()])}),t._v(" "),a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large blue",attrs:{to:"/AddNew"}},[a("i",{staticClass:"fa fa-plus-square"})])],1)],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row z-depth-3 brown darken-1 white-text hide-on-small-only"},[a("h6",{staticClass:"col m2 s12"},[t._v("Task name")]),t._v(" "),a("h6",{staticClass:"col m3 s12"},[t._v("Description")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Category")]),t._v(" "),a("h6",{staticClass:"col m2 s12"},[t._v("Attachments")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Status")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Deadline")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Is archived")]),t._v(" "),a("h6",{staticClass:"col iconContainer"},[a("span",{staticClass:"white-text"},[t._v("Edit")])])])}]};var f=a("VU/8")(h,k,!1,function(t){a("O637")},"data-v-8cb445d6",null).exports,C=a("PJh5"),g={name:"view-cols",data:function(){return{tasks:[]}},updated:function(){$(".tooltipped").tooltip()},created:function(){var t=this;o.a.collection(n.a.auth().currentUser.uid).where("t_isActive","==",!0).onSnapshot(function(e){t.tasks=[],e.forEach(function(e){if("In progress"==e.data().tStatus||"On hold"==e.data().tStatus){var a=(i=e.data().tDeadline,n=(new Date).setHours(24),o=(new Date).setHours(0),r={tCategory:null,tDelayed:null},null==i||""==i?(r.tCategory="1",r.tDelayed=!1):new Date(i)<new Date(o)?(r.tCategory="2",r.tDelayed=!0):new Date(i)<new Date(n)?(r.tCategory="2",r.tDelayed=!1):(r.tCategory="3",r.tDelayed=!1),r),s={id:e.id,task_name:e.data().tName,task_description:e.data().tDescription.replace(/\n/g,"<br/>"),task_deadline:e.data().tDeadline,task_status:e.data().tStatus,task_attachement:e.data().tAttach?e.data().tAttach:[],task_completed:"Completed"==e.data().tStatus,task_canceled:"Canceled"==e.data().tStatus,task_Category:a.tCategory,task_Delayed:a.tDelayed};t.tasks.push(s)}var i,n,o,r})})},computed:{ViewCat1:function(){return this.tasks.filter(function(t){return"1"==t.task_Category})},ViewCat2:function(){return this.tasks.filter(function(t){return"2"==t.task_Category})},ViewCat3:function(){return this.tasks.filter(function(t){return"3"==t.task_Category})}},methods:{CompleteTask:function(t){t.task_completed||o.a.collection(n.a.auth().currentUser.uid).doc(t.id).update({tStatus:"Completed",tClosedDate:C().format("YYYY-MM-DD")}).then(function(){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})},StartStop:function(t){var e="In progress"==t.task_status?"On hold":"In progress";o.a.collection(n.a.auth().currentUser.uid).doc(t.id).update({tStatus:e}).then(function(a){o.a.collection("Log").add({date:(new Date).toString().slice(0,9)+" "+new Date(new Date).toString().split(" ")[4],tName:t.task_name,updated:"Status:"+t.task_status+"##"+e,user:n.a.auth().currentUser.email}).catch(function(t){console.error("Error adding document ChangedInfo: ",t)})}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dashboard"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col m4 s12",staticStyle:{background:"#f2f2f2"}},[a("center",[a("h3",[t._v("No date")])]),t._v(" "),t._l(t.ViewCat1,function(e){return a("div",{key:e.id,staticClass:"col s6"},[a("div",{staticClass:"card blue-grey",class:"On hold"==e.task_status?"lighten-1":"darken-2"},[a("div",{staticClass:"card-content white-text"},[a("span",{staticClass:"card-title truncate cyan-text"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[t._v("\n                "+t._s(e.task_name)+"\n              ")])]),t._v(" "),a("span",{staticClass:"tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),0!=e.task_attachement.length?a("div",[a("hr"),t._v(" "),a("span",{staticClass:"cyan-text"},[t._v("Attachments:")]),t._v(" "),t._l(e.task_attachement,function(e){return a("div",{key:e.id,staticClass:"Attachment_spans"},[a("span",{staticClass:"attSpan",domProps:{innerHTML:t._s(e)}})])})],2):t._e(),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-left":"0px"}},[a("div",{staticClass:"chip col"},[t._v(t._s(e.task_status))]),t._v(" "),a("span",{staticClass:"col"},[t._v(t._s(e.task_deadline))])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row iconContainer"},[a("div",{staticClass:"col m4"},[a("router-link",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":"Edit",to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1),t._v(" "),a("div",{staticClass:"col m4"},[a("span",{staticClass:"myBtn tooltipped",attrs:{"data-position":"top","data-tooltip":"Complete"}},[a("i",{staticClass:"fas",class:e.task_completed?"fa-clipboard-check":"fa-check",on:{click:function(a){t.CompleteTask(e)}}})])]),t._v(" "),a("div",{staticClass:"col m4"},[a("span",{staticClass:"myBtn tooltipped",attrs:{"data-position":"top","data-tooltip":"Start/Stop"}},[a("i",{staticClass:"far",class:"In progress"==e.task_status?"fa-stop-circle":"fa-play-circle",on:{click:function(a){t.StartStop(e)}}})])])])])])])})],2),t._v(" "),a("div",{staticClass:"col m4 s12",staticStyle:{background:"#d9cfc7"}},[a("center",[a("h3",[t._v("Today")])]),t._v(" "),t._l(t.ViewCat2,function(e){return a("div",{key:e.id,staticClass:"col s6"},[a("div",{staticClass:"card blue-grey",class:"On hold"==e.task_status?"lighten-1":"darken-2"},[a("div",{staticClass:"card-content white-text"},[a("span",{staticClass:"card-title truncate cyan-text"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[t._v("\n                "+t._s(e.task_name)+"\n              ")])]),t._v(" "),a("span",{staticClass:"tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),0!=e.task_attachement.length?a("div",[a("hr"),t._v(" "),a("span",{staticClass:"cyan-text"},[t._v("Attachments:")]),t._v(" "),t._l(e.task_attachement,function(e){return a("div",{key:e.id,staticClass:"Attachment_spans"},[a("span",{staticClass:"attSpan",domProps:{innerHTML:t._s(e)}})])})],2):t._e(),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-left":"0px"}},[a("div",{staticClass:"chip col"},[t._v(t._s(e.task_status))]),t._v(" "),a("span",{staticClass:"col",class:{Delayed:e.task_Delayed}},[t._v(t._s(e.task_deadline))])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row iconContainer"},[a("div",{staticClass:"col m4"},[a("router-link",{staticClass:"tooltipped",attrs:{draggable:"false","data-position":"top","data-tooltip":"Edit",to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1),t._v(" "),a("div",{staticClass:"col m4"},[a("span",{staticClass:"myBtn tooltipped",attrs:{"data-position":"top","data-tooltip":"Complete"}},[a("i",{staticClass:"fas",class:e.task_completed?"fa-clipboard-check":"fa-check",on:{click:function(a){t.CompleteTask(e)}}})])]),t._v(" "),a("div",{staticClass:"col m4"},[a("span",{staticClass:"myBtn tooltipped",attrs:{"data-position":"top","data-tooltip":"Start/Stop"}},[a("i",{staticClass:"far",class:"In progress"==e.task_status?"fa-stop-circle":"fa-play-circle",on:{click:function(a){t.StartStop(e)}}})])])])])])])})],2),t._v(" "),a("div",{staticClass:"col m4 s12",staticStyle:{background:"#a69992"}},[a("center",[a("h3",[t._v("Future")])]),t._v(" "),t._l(t.ViewCat3,function(e){return a("div",{key:e.id,staticClass:"col s6"},[a("div",{staticClass:"card blue-grey",class:"On hold"==e.task_status?"lighten-1":"darken-2"},[a("div",{staticClass:"card-content white-text"},[a("span",{staticClass:"card-title truncate cyan-text"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[t._v("\n                "+t._s(e.task_name)+"\n              ")])]),t._v(" "),a("span",{staticClass:"tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),0!=e.task_attachement.length?a("div",[a("hr"),t._v(" "),a("span",{staticClass:"cyan-text"},[t._v("Attachments:")]),t._v(" "),t._l(e.task_attachement,function(e){return a("div",{key:e.id,staticClass:"Attachment_spans"},[a("span",{staticClass:"attSpan",domProps:{innerHTML:t._s(e)}})])})],2):t._e(),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-left":"0px"}},[a("div",{staticClass:"chip col"},[t._v(t._s(e.task_status))]),t._v(" "),a("span",{staticClass:"col"},[t._v(t._s(e.task_deadline))])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row iconContainer"},[a("div",{staticClass:"col m4"},[a("router-link",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":"Edit",to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1),t._v(" "),a("div",{staticClass:"col m4"},[a("span",{staticClass:"myBtn tooltipped",attrs:{"data-position":"top","data-tooltip":"Complete"}},[a("i",{staticClass:"fas",class:e.task_completed?"fa-clipboard-check":"fa-check",on:{click:function(a){t.CompleteTask(e)}}})])]),t._v(" "),a("div",{staticClass:"col m4"},[a("span",{staticClass:"myBtn tooltipped",attrs:{"data-position":"top","data-tooltip":"Start/Stop"}},[a("i",{staticClass:"far",class:"In progress"==e.task_status?"fa-stop-circle":"fa-play-circle",on:{click:function(a){t.StartStop(e)}}})])])])])])])})],2)])])},staticRenderFns:[]};var D=a("VU/8")(g,w,!1,function(t){a("FUgD"),a("fL6s")},"data-v-27b3a1fb",null).exports,y=a("PJh5"),S={data:function(){return{headerDates:[],NextHeaderDates:[],moment:y,tasks:[]}},updated:function(){$(".tooltipped").tooltip()},created:function(){var t=this;o.a.collection(n.a.auth().currentUser.uid).where("t_isActive","==",!0).onSnapshot(function(e){t.tasks=[],e.forEach(function(e){if("In progress"==e.data().tStatus||"On hold"==e.data().tStatus){var a={id:e.id,task_name:e.data().tName,task_description:e.data().tDescription.replace(/\n/g,"<br/>"),task_project:e.data().tProject,task_attachement:e.data().tAttach,tsk_start_date:e.data().tStart,tsk_end_date:e.data().tDeadline,task_status:e.data().tStatus};t.tasks.push(a)}}),t.GrantTasks()})},methods:{GrantTasks:function(){var t;for(this.headerDates=[],this.NextHeaderDates=[],t=1;t<6;t++)this.headerDates.push(y().weekday(t).format("dd<br/>MMMM<br/>Do"));for(t=8;t<13;t++)this.NextHeaderDates.push(y().weekday(t).format("dd<br/>MMMM<br/>Do"));var e=y().weekday(1),a=y().weekday(5),s=y().weekday(8),i=y().weekday(12),n=y().weekday(0),o=y().weekday(7),r=y(y().weekday(8).format("YYYY-MM-DD"),"YYYY-MM-DD"),l=y(y().weekday(14),"YYYY-MM-DD");for(t=0;t<this.tasks.length;t++){var c=y(this.tasks[t].tsk_start_date,"YYYY-MM-DD"),d=y(this.tasks[t].tsk_end_date,"YYYY-MM-DD");(n.isBefore(c)&&c.isBefore(o)||n.isBefore(d)&&d.isBefore(o)||c.isBefore(o)&&o.isBefore(d))&&(c.isBefore(e.format("YYYY-MM-DD"))?(this.tasks[t].InWeek_Start=e.format("YYYY-MM-DD"),this.tasks[t].StartsBefore=!0):this.tasks[t].InWeek_Start=c.format("YYYY-MM-DD"),d.isBefore(a)?this.tasks[t].InWeek_End=d.format("YYYY-MM-DD"):(this.tasks[t].InWeek_End=a.format("YYYY-MM-DD"),this.tasks[t].EndsAfter=!0),this.tasks[t].duration=y(this.tasks[t].InWeek_End,"YYYY-MM-DD").diff(y(this.tasks[t].InWeek_Start,"YYYY-MM-DD"),"days")+1,this.tasks[t].offset=y(this.tasks[t].InWeek_Start,"YYYY-MM-DD").diff(e.format("YYYY-MM-DD"),"days"),this.tasks[t].isInWeek_1=!0,this.tasks[t].isInGantt=!0),(r.isSameOrBefore(c)&&c.isBefore(l)||r.isSameOrBefore(d)&&d.isBefore(l)||c.isBefore(l)&&l.isBefore(d))&&(c.isBefore(s.format("YYYY-MM-DD"))?(this.tasks[t].NEXT_InWeek_Start=s.format("YYYY-MM-DD"),this.tasks[t].NEXT_StartsBefore=!0):this.tasks[t].NEXT_InWeek_Start=c.format("YYYY-MM-DD"),d.isBefore(i)?this.tasks[t].NEXT_InWeek_End=d.format("YYYY-MM-DD"):(this.tasks[t].NEXT_InWeek_End=i.format("YYYY-MM-DD"),this.tasks[t].NEXT_EndsAfter=!0),this.tasks[t].NEXTduration=y(this.tasks[t].NEXT_InWeek_End,"YYYY-MM-DD").diff(y(this.tasks[t].NEXT_InWeek_Start,"YYYY-MM-DD"),"days")+1,this.tasks[t].NEXToffset=y(this.tasks[t].NEXT_InWeek_Start,"YYYY-MM-DD").diff(s.format("YYYY-MM-DD"),"days"),this.tasks[t].isInWeek_2=!0,this.tasks[t].isInGantt=!0),this.tasks[t].StartsBefore&&this.tasks[t].EndsAfter?this.tasks[t].BarClass="BothStartEnd":this.tasks[t].StartsBefore?this.tasks[t].BarClass="StartsBefore":this.tasks[t].EndsAfter?this.tasks[t].BarClass="EndsAfter":this.tasks[t].BarClass="Normal",this.tasks[t].NEXT_StartsBefore&&this.tasks[t].NEXT_EndsAfter?this.tasks[t].NEXT_BarClass="BothStartEnd":this.tasks[t].NEXT_StartsBefore?this.tasks[t].NEXT_BarClass="StartsBefore":this.tasks[t].NEXT_EndsAfter?this.tasks[t].NEXT_BarClass="EndsAfter":this.tasks[t].NEXT_BarClass="Normal"}},CloseTask:function(t){o.a.collection(n.a.auth().currentUser.uid).doc(t.id).set({t_isActive:!1},{merge:!0}).then(function(t){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.log("Error getting documents: ",t)})}},computed:{CurrentWeek:function(){return this.tasks.filter(function(t){return t.isInWeek_1})},NextWeek:function(){return this.tasks.filter(function(t){return t.isInWeek_2})},inGantt:function(){return this.tasks.filter(function(t){return t.isInGantt})},backLog:function(){return this.tasks.filter(function(t){return!t.isInGantt})}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("span",{staticClass:"title"},[t._v("Upcoming:")]),t._v(" "),a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"HeaderRow col m9"},[t._l(t.headerDates,function(e){return a("div",{key:e.id,staticClass:"col m1 HeaderDays",domProps:{innerHTML:t._s(e)}})}),t._v(" "),a("div",{staticClass:"col m1 HeaderWkend"},[t._v("Sun")]),t._v(" "),a("div",{staticClass:"col m1 "},[t._v("Sat")]),t._v(" "),t._l(t.NextHeaderDates,function(e){return a("div",{key:e.id,staticClass:"col m1 NextHeaderDays",domProps:{innerHTML:t._s(e)}})})],2)]),t._v(" "),t._l(t.inGantt,function(e){return a("div",{key:e.id,staticClass:"row taskRow"},[a("div",{staticClass:"leftPanel col m3"},[a("span",{staticClass:"col truncate col m5 tooltipped",attrs:{"data-position":"right","data-tooltip":"Title: "+e.task_name+"<hr/> Details: "+e.task_description}},[t._v("\n          "+t._s(e.task_name)+"\n          ")]),t._v(" "),a("span",{staticClass:"chip"},[t._v(t._s(e.task_status))]),t._v(" "),a("div",{staticClass:"col iconContainer"},[a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"Edit"}},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1)])]),t._v(" "),a("div",{staticClass:"col m9"},[e.isInWeek_1?a("span",[a("div",{staticClass:"drawBar col",class:["m"+e.duration,"offset-m"+e.offset,e.BarClass,"On hold"==e.task_status?"onHold":""]},[t._v("\n            "+t._s(e.task_name)+"\n          ")]),t._v(" "),a("div",{staticClass:"arrow-right"}),t._v(" "),a("div",{staticClass:"col m1 WkndBar",class:"offset-m"+(5-e.duration-e.offset)},[t._v("--")]),t._v(" "),a("div",{staticClass:"col m1 WkndBar"},[t._v("--")])]):t._e(),t._v(" "),!e.isInWeek_1&&e.isInWeek_2?a("span",[a("div",{staticClass:"col m5"}),t._v(" "),a("div",{staticClass:"col m1 WkndBar"},[t._v("--")]),t._v(" "),a("div",{staticClass:"col m1 WkndBar"},[t._v("--")])]):t._e(),t._v(" "),e.isInWeek_2?a("span",[a("div",{staticClass:"drawBar col",class:["m"+e.NEXTduration,"offset-m"+e.NEXToffset,e.NEXT_BarClass]},[t._v("\n            "+t._s(e.task_name)+"\n          ")])]):t._e()])])}),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),t.backLog.length>0?a("div",{staticClass:"section"},[a("span",{staticClass:"title"},[t._v("BackLog/Remaining:")]),t._v(" "),t._m(1),t._v(" "),t._l(t.backLog,function(e){return a("div",{key:e.id,staticClass:"row z-depth-2"},[a("div",{staticClass:"col m2 s12 truncate"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[a("b",[t._v(t._s(e.task_name))])])]),t._v(" "),a("div",{staticClass:"col m3 s12 tskDetails",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m1 s12 truncate"},[a("i",[t._v(t._s(e.task_project))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},t._l(e.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}})])})),t._v(" "),a("div",{staticClass:"col m1 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m1 s12"},[t._v(t._s(e.tsk_end_date))]),t._v(" "),a("div",{staticClass:"col iconContainer"},[a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"Archive"}},[a("i",{staticClass:"fas fa-trash-alt",on:{click:function(a){t.CloseTask(e)}}})]),t._v(" "),a("div",{staticClass:"col tooltipped",attrs:{"data-position":"top","data-tooltip":"Edit"}},[a("router-link",{attrs:{to:{name:"edit-task",params:{task_id:e.id}}}},[a("i",{staticClass:"fas fa-edit"})])],1)])])})],2):t._e(),t._v(" "),a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large blue",attrs:{to:"/AddNew"}},[a("i",{staticClass:"fa fa-plus-square"})])],1)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"leftPanel HeaderRow col m3"},[e("span",{staticClass:"col"},[this._v("Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dashboard"}},[a("div",{staticClass:"row z-depth-3 brown darken-1 white-text hide-on-small-only"},[a("h6",{staticClass:"col m2 s12"},[t._v("Task name")]),t._v(" "),a("h6",{staticClass:"col m3 s12"},[t._v("Description")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Project")]),t._v(" "),a("h6",{staticClass:"col m2 s12"},[t._v("Attachment")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Status")]),t._v(" "),a("h6",{staticClass:"col m1 s12"},[t._v("Deadline")]),t._v(" "),a("h6",{staticClass:"col  iconContainer"},[a("span",{staticClass:"red-text"},[t._v("Archive")]),t._v(" "),a("span",{staticClass:"white-text"},[t._v("Edit")])])])])}]};var j=a("VU/8")(S,P,!1,function(t){a("1dTy")},"data-v-b78189b8",null).exports,b=a("O2iK"),A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px 25px"},attrs:{id:"dashboard"}},[a("div",{staticClass:"row z-depth-2 filterContainer brown lighten-4"},[a("div",{staticClass:"col m6 s12"},[t._v("\n        Filter by status →\n            "),t._l(t.StatusesList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedStatus==e},on:{click:function(a){t.SelectedStatus=e,t.GetFire_ForTasks()}}},[t._v("\n                "+t._s(e)+"\n              ")])})],2),t._v(" "),a("div",{staticClass:"col m6 s12 right",staticStyle:{"text-align":"right"}},[t._l(t.ManagersArray,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedManager.OBJ.UID==e.OBJ.UID},on:{click:function(a){t.SelectedManager=e,t.GetFire_ForTasks()}}},[t._v("\n                "+t._s(e.OBJ.name)+"\n              ")])}),t._v("\n         ← filter by creator \n        ")],2),t._v(" "),a("div",{staticClass:"col m6 s12"},[t._v("\n            Filter by Date →\n            "),t.showDateFilter?t._e():a("span",[t._v("\n                      No date filter applied: \n                      "),a("a",{staticClass:"waves-effect waves-light btn-small",on:{click:function(e){t.showDateFilter=!0}}},[t._v("Add filter"),a("i",{staticClass:"material-icons left"},[t._v("event")])])]),t._v(" "),t.showDateFilter?a("span",[t._v("\n                     From:  "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Datefilter_start,expression:"Datefilter_start"}],staticClass:"dateField",attrs:{type:"date",placeholder:"start date"},domProps:{value:t.Datefilter_start},on:{change:function(e){t.datefilter_setEnd()},input:function(e){e.target.composing||(t.Datefilter_start=e.target.value)}}}),t._v("\n                      - To: \n                      "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Datefilter_end,expression:"Datefilter_end"}],staticClass:"dateField",attrs:{type:"date",placeholder:"end date"},domProps:{value:t.Datefilter_end},on:{input:function(e){e.target.composing||(t.Datefilter_end=e.target.value)}}}),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small",on:{click:function(e){t.GetFire_ForTasks()}}},[t._v("Add date filter")]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small  grey darken-1",on:{click:function(e){t.showDateFilter=!1,t.GetFire_ForTasks()}}},[t._v("Remove date filter"),a("i",{staticClass:"material-icons left"},[t._v("event_busy")])])]):t._e()])]),t._v(" "),t._l(t.UsersAndArrays,function(e){return a("div",{key:e.id,staticClass:"z-depth-1"},[e.OBJ.tasks.length>0?a("div",{staticClass:"row valign-wrapper",staticStyle:{"border-bottom":"#484545 solid 1px"}},[a("div",{staticClass:"col m2"},[a("span",{staticClass:"chip"},[t._v("\n                "+t._s(e.OBJ.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"row"},[a("b",[t._v(t._s(e.OBJ.tasks.length))]),t._v(" tasks")]),t._v(" "),a("div",{staticClass:"row red-text"},[a("b",[t._v(t._s(t.sumFTA(e.OBJ.tasks)))]),t._v(" FTE")])]),t._v(" "),a("div",{staticClass:"col m10"},t._l(e.OBJ.tasks,function(e){return a("div",{key:e.id,staticClass:"col m2 s12"},[a("div",{staticClass:"card blue-grey",class:"In progress"==e.task_status?"darken-2":"lighten-3"},[a("div",{staticClass:"card-content white-text"},[a("span",{staticClass:"truncate"},[t._v(" \n                              "+t._s(e.task_project)+"                                  \n                          ")]),t._v(" "),a("span",{staticClass:"task-title",class:"In progress"==e.task_status?"cyan-text text-lighten-3":"black-text"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[t._v("\n                                "+t._s(e.task_name)+"\n                              ")])]),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-left":"0px"}},[a("div",{staticClass:"chip col"},[t._v(t._s(e.task_status))]),t._v(" "),a("span",{staticClass:"col"},[t._v(t._s(e.task_deadline))]),t._v(" "),a("br"),t._v(" "),void 0!=e.task_FTE&&""!=e.task_FTE?a("div",{staticClass:"red-text col"},[t._v(t._s(e.task_FTE)+" FTE")]):t._e()]),t._v(" "),a("hr"),t._v(" "),t.isManager?a("div",{staticClass:"row iconContainer"},[a("div",{staticClass:"col m3"},[a("router-link",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>",to:{name:"edit-task_mng",params:{task_id:e.id},query:{uid:e.task_owner,mnext:"viewusers"}}}},[a("i",{staticClass:"fas fa-edit"})])],1),t._v(" "),"Completed"!=e.task_status&&"Canceled"!=e.task_status?a("div",{staticClass:"col m3"},[a("span",{class:{myBtn:!e.task_completed}},[a("i",{staticClass:"tooltipped fas",class:e.task_completed?"fa-clipboard-check":"fa-check",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Complete</span>"},on:{click:function(a){t.CompleteTask(e)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"col m3"},[a("span",{staticClass:"myBtn"},[a("i",{staticClass:"tooltipped far",class:"In progress"==e.task_status?"fa-stop-circle":"fa-play-circle",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>In progress/on hold</span>"},on:{click:function(a){t.StartStop(e)}}})])]),t._v(" "),a("div",{staticClass:"col m3"},[a("span",{staticClass:"myBtn tooltip"},[a("i",{staticClass:"tooltipped fas fa-ban",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Cancel</span>"},on:{click:function(a){t.CancelTask(e)}}})])])]):t._e()])])])}))]):t._e()])}),t._v(" "),t.isManager?a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large red",attrs:{to:{name:"new-task",query:{mnext:"viewusers"}}}},[a("i",{staticClass:"fa fa-plus"})])],1):t._e()],2)},staticRenderFns:[]};var E=function(t){a("ieeY")},Y=a("VU/8")(b.a,A,!1,E,"data-v-34bd5a24",null).exports,T=a("pLsw"),x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px 25px"},attrs:{id:"dashboard"}},[a("div",{staticClass:"row z-depth-2 filterContainer brown lighten-4"},[a("div",{staticClass:"col m6 s12 "},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"right","data-tooltip":"Click for single selection, or Ctrl+Click for multiple selections"}},[t._v("Filter by status →")]),t._v(" "),t._l(t.StatusesList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedStatus.indexOf(e)>-1},on:{click:[function(a){if(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)return null;t.SelectedStatus=[e],t.GetFire_ForTasks()},function(a){if(!a.ctrlKey)return null;t.MultiStatus(e)}]}},[t._v("\n                "+t._s(e)+"\n              ")])})],2),t._v(" "),a("div",{staticClass:"col m6 s12 right",staticStyle:{"text-align":"right"}},[t._l(t.ManagersArray,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedManager.OBJ.UID==e.OBJ.UID},on:{click:function(a){if(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)return null;t.SelectedManager=e,t.GetFire_ForTasks()}}},[t._v("\n                "+t._s(e.OBJ.name)+"\n              ")])}),t._v("\n         ← filter by creator \n        ")],2),t._v(" "),a("div",{staticClass:"col m6 s12"},[t._v("\n            Filter by Date →\n            "),t.showDateFilter?t._e():a("span",[t._v("\n                      No date filter applied: \n                      "),a("a",{staticClass:"waves-effect waves-light btn-small",on:{click:function(e){t.showDateFilter=!0}}},[t._v("Add filter"),a("i",{staticClass:"material-icons left"},[t._v("event")])])]),t._v(" "),t.showDateFilter?a("span",[t._v("\n                     From:  "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Datefilter_start,expression:"Datefilter_start"}],staticClass:"dateField",attrs:{type:"date",placeholder:"start date"},domProps:{value:t.Datefilter_start},on:{change:function(e){t.datefilter_setEnd()},input:function(e){e.target.composing||(t.Datefilter_start=e.target.value)}}}),t._v("\n                      - To: \n                      "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Datefilter_end,expression:"Datefilter_end"}],staticClass:"dateField",attrs:{type:"date",placeholder:"end date"},domProps:{value:t.Datefilter_end},on:{input:function(e){e.target.composing||(t.Datefilter_end=e.target.value)}}}),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small",on:{click:function(e){t.GetFire_ForTasks()}}},[t._v("Add date filter")]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small  grey darken-2",on:{click:function(e){t.showDateFilter=!1,t.GetFire_ForTasks()}}},[t._v("Remove date filter"),a("i",{staticClass:"material-icons left"},[t._v("event_busy")])])]):t._e()])]),t._v(" "),t._l(t.ProjCatArray,function(e){return a("div",{key:e.id,staticClass:"z-depth-1"},[e.tasks.length>0?a("div",{staticClass:"row  valign-wrapper",staticStyle:{"border-bottom":"#484545 solid 1px"}},[a("div",{staticClass:"col m2"},[a("span",{staticClass:"chip"},[t._v("\n                "+t._s(e.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"row"},[a("b",[t._v(t._s(e.tasks.length))]),t._v(" tasks")]),t._v(" "),a("blockquote",[a("span",{staticClass:"blue-text"},[t._v("Allocated FTE: "),a("b",[t._v(t._s(t.sumFTA(e.tasks)))])]),t._v(" "),a("br"),t._v(" "),t.DiFsumFTA(t.sumFTA(e.tasks),e.name)?a("span",{staticClass:"brown-text"},[t._v("Unallocated FTE: "),a("b",[t._v(t._s(t.DiFsumFTA(t.sumFTA(e.tasks),e.name)))])]):t._e()])]),t._v(" "),a("div",{staticClass:"col m10"},t._l(e.tasks,function(e){return a("div",{key:e.id,staticClass:"col m2 s12"},[a("div",{staticClass:"card blue-grey",class:"In progress"==e.task_status?"darken-2":"lighten-3"},[a("div",{staticClass:"card-content white-text"},[a("span",{staticClass:"truncate"},[t._v(" \n                              "+t._s(e.task_project)+"                                  \n                          ")]),t._v(" "),a("span",{staticClass:"task-title",class:"In progress"==e.task_status?"cyan-text text-lighten-3":"black-text"},[a("span",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":e.task_name}},[t._v("\n                                "+t._s(e.task_name)+"\n                              ")])]),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-left":"0px"}},[a("div",{staticClass:"chip col"},[t._v(t._s(e.task_status))]),t._v(" "),a("span",{staticClass:"col"},[t._v(t._s(e.task_deadline))]),t._v(" "),a("br"),t._v(" "),void 0!=e.task_FTE&&""!=e.task_FTE?a("div",{staticClass:"red-text col"},[t._v(t._s(e.task_FTE)+" FTE")]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[t._v("\n                              "+t._s(e.task_owner_label)+"\n                            ")]),t._v(" "),a("hr"),t._v(" "),t.isManager?a("div",{staticClass:"row iconContainer"},[a("div",{staticClass:"col m3"},[a("router-link",{staticClass:"tooltipped",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Edit</span>",to:{name:"edit-task_mng",params:{task_id:e.id},query:{uid:e.task_owner,mnext:"viewprojcat"}}}},[a("i",{staticClass:"fas fa-edit"})])],1),t._v(" "),"Completed"!=e.task_status&&"Canceled"!=e.task_status?a("div",{staticClass:"col m3"},[a("span",{class:{myBtn:!e.task_completed}},[a("i",{staticClass:"tooltipped fas",class:e.task_completed?"fa-clipboard-check":"fa-check",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Complete</span>"},on:{click:function(a){t.CompleteTask(e)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"col m3"},[a("span",{staticClass:"myBtn"},[a("i",{staticClass:"tooltipped far",class:"In progress"==e.task_status?"fa-stop-circle":"fa-play-circle",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>In progress/on hold</span>"},on:{click:function(a){t.StartStop(e)}}})])]),t._v(" "),a("div",{staticClass:"col m3"},[a("span",{staticClass:"myBtn tooltip"},[a("i",{staticClass:"tooltipped fas fa-ban",attrs:{"data-position":"top","data-tooltip":"<span style='font-size:small'>Cancel</span>"},on:{click:function(a){t.CancelTask(e)}}})])])]):t._e()])])])}))]):t._e()])}),t._v(" "),t.isManager?a("div",{staticClass:"fixed-action-btn"},[a("router-link",{staticClass:"btn-floating btn-large red",attrs:{to:{name:"new-task",query:{mnext:"viewprojcat"}}}},[a("i",{staticClass:"fa fa-plus"})])],1):t._e()],2)},staticRenderFns:[]};var O=function(t){a("i1he")},I=a("VU/8")(T.a,x,!1,O,"data-v-da8c2b6c",null).exports,F=[],N=[],L=[],B=[],U=o.a.collection("DropDowns");function q(t,e){return t.Label<e.Label?-1:t.Label>e.Label?1:0}U.doc("Statuses").get().then(function(t){t.data().List.split("#").forEach(function(t){F.push(t)}),F=F.sort()}),U.doc("FTE").get().then(function(t){t.data().List.split("#").forEach(function(t){N.push(t)})}),U.doc("Environments").get().then(function(t){t.data().List.split("#").forEach(function(t){L.push(t)})}),o.a.collection("Users").where("isOwner","==",!0).get().then(function(t){t.forEach(function(t){"backlog"!=t.id&&B.push({Label:t.data().Label,UID:t.id})}),B=B.sort(q)});var H={statusesList:F,FTEList:N,envList:L,innoProjCat:[],OwnersList:B},R={name:"viewProject",data:function(){return{tasksAna:[],hasAna:!1,tasksCip:[],hasCip:!1,tasksPipo:[],hasPipo:!1,SelectedProject:null,Projects:H.projectsList}},methods:{GetData:function(){var t=this;o.a.collection("fzAuzR6aW0Q4qBvzYMBgP4Iepxw1").where("t_isActive","==",!0).where("tProject","==",this.SelectedProject).orderBy("tDeadline").onSnapshot(function(e){t.tasksAna=[],t.hasAna=!1,e.forEach(function(e){t.hasAna=!0;var a={id:e.id,task_name:e.data().tName,task_description:e.data().tDescription.replace(/\n/g,"<br/>"),task_env:e.data().tEnvironment,task_deadline:e.data().tDeadline,task_status:e.data().tStatus,task_project:e.data().tProject,task_isActive:e.data().t_isActive};t.tasksAna.push(a)})}),o.a.collection("YqRVNtuUu3aAHt6g2YW05OxIsj42").where("t_isActive","==",!0).where("tProject","==",this.SelectedProject).orderBy("tDeadline").onSnapshot(function(e){t.tasksCip=[],t.hasCip=!1,e.forEach(function(e){t.hasCip=!0;var a={id:e.id,task_name:e.data().tName,task_description:e.data().tDescription.replace(/\n/g,"<br/>"),task_env:e.data().tEnvironment,task_deadline:e.data().tDeadline,task_status:e.data().tStatus,task_project:e.data().tProject,task_isActive:e.data().t_isActive};t.tasksCip.push(a)})}),o.a.collection("5k9ubjsQNibn3MXXez1N5Y52IMC3").where("t_isActive","==",!0).where("tProject","==",this.SelectedProject).orderBy("tDeadline").onSnapshot(function(e){t.tasksPipo=[],t.hasPipo=!1,e.forEach(function(e){t.hasPipo=!0;var a={id:e.id,task_name:e.data().tName,task_description:e.data().tDescription.replace(/\n/g,"<br/>"),task_env:e.data().tEnvironment,task_deadline:e.data().tDeadline,task_status:e.data().tStatus,task_project:e.data().tProject,task_isActive:e.data().t_isActive};t.tasksPipo.push(a)})})}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0px 50px"},attrs:{id:"dashboard"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.SelectedProject,expression:"SelectedProject"}],staticStyle:{display:"block",width:"150px",background:"#e4e3e2",height:"35px","margin-top":"5px"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.SelectedProject=e.target.multiple?a:a[0]},function(e){t.GetData()}]}},t._l(t.Projects,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("label",{staticClass:"active"},[t._v("View Project:")])])]),t._v(" "),t._m(0),t._v(" "),t.hasAna?a("div",{staticClass:"row"},[a("span",{staticClass:"chip"},[t._v("Ana")]),t._v(" "),t._l(t.tasksAna,function(e){return a("div",{key:e.id,staticClass:"row z-depth-2",class:{notActive:!e.task_isActive}},[a("div",{staticClass:"col m2 s12 truncate"},[a("b",[t._v(t._s(e.task_name))])]),t._v(" "),a("div",{staticClass:"col m4 s12",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m2 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},[t._v(t._s(e.task_env))]),t._v(" "),a("div",{staticClass:"col m2 s12"},[t._v(t._s(e.task_deadline))])])})],2):t._e(),t._v(" "),t.hasCip?a("div",{staticClass:"row"},[a("span",{staticClass:"chip"},[t._v("Cip")]),t._v(" "),t._l(t.tasksCip,function(e){return a("div",{key:e.id,staticClass:"row z-depth-2",class:{notActive:!e.task_isActive}},[a("div",{staticClass:"col m2 s12 truncate"},[a("b",[t._v(t._s(e.task_name))])]),t._v(" "),a("div",{staticClass:"col m4 s12",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m2 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},[t._v(t._s(e.task_env))]),t._v(" "),a("div",{staticClass:"col m2 s12"},[t._v(t._s(e.task_deadline))])])})],2):t._e(),t._v(" "),t.hasPipo?a("div",{staticClass:"row"},[a("span",{staticClass:"chip"},[t._v("Pipo")]),t._v(" "),t._l(t.tasksPipo,function(e){return a("div",{key:e.id,staticClass:"row z-depth-2",class:{notActive:!e.task_isActive}},[a("div",{staticClass:"col m2 s12 truncate"},[a("b",[t._v(t._s(e.task_name))])]),t._v(" "),a("div",{staticClass:"col m4 s12",domProps:{innerHTML:t._s(e.task_description)}}),t._v(" "),a("div",{staticClass:"col m2 s12"},[a("i",[t._v(t._s(e.task_status))])]),t._v(" "),a("div",{staticClass:"col m2 s12"},[t._v(t._s(e.task_env))]),t._v(" "),a("div",{staticClass:"col m2 s12"},[t._v(t._s(e.task_deadline))])])})],2):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row z-depth-3 brown darken-1 white-text hide-on-small-only"},[a("h6",{staticClass:"col m2 s12"},[t._v("Task name")]),t._v(" "),a("h6",{staticClass:"col m4 s12"},[t._v("Description")]),t._v(" "),a("h6",{staticClass:"col m2 s12"},[t._v("Status")]),t._v(" "),a("h6",{staticClass:"col m2 s12"},[t._v("Env")]),t._v(" "),a("h6",{staticClass:"col m2 s12"},[t._v("Deadline")])])}]};a("VU/8")(R,z,!1,function(t){a("LsTg")},"data-v-410db588",null).exports;var V=a("PJh5"),J={name:"new-task",data:function(){return{FTAarray:H.FTEList,task_fte:null,showDetails:!1,showProject:!1,showNewProj:!1,showNewProjCat:!1,showOwner:!0,showDates:!0,showStatus:!0,detail_link:"",detail_title:"",task_attachement:[],task_name:null,task_details:"",task_start:V().weekday(1).format("YYYY-MM-DD"),task_deadline:V().weekday(5).format("YYYY-MM-DD"),task_status:null,task_project:null,userTaskArr:[],userFTE:null,ProjectsCat:[],AddNewProjCat:null,SelectedProjCat:null,ProjectsList:[],SelectedProj:null,AddNewProj:null,Statuses:H.statusesList,SelectedStatus:"In progress",ownersList:H.OwnersList,SelectedOwner:{Label:null,UID:null}}},methods:{updateDeadline:function(){console.log("update"),this.task_deadline=V(this.task_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD")},GetUserFTE:function(){var t=this;null!=t.SelectedOwner.Label&&o.a.collection(t.SelectedOwner.UID).where("t_isActive","==",!0).where("tStatus","==","In progress").onSnapshot(function(e){t.userTaskArr=[],e.forEach(function(e){var a={id:e.id,task_name:e.data().tName,task_FTE:e.data().tFTE};t.userTaskArr.push(a)});var a=0;t.userFTE=null,t.userTaskArr.forEach(function(t){void 0!=t.task_FTE&&"TBD"!=t.task_FTE&&null!=t.task_FTE&&""!=t.task_FTE&&(a+=parseFloat(t.task_FTE))}),t.userFTE=a.toFixed(2)})},saveTask:function(){var t,e=this,a=[],s="Please select ";if(this.showDates){if(new Date(this.task_deadline)<new Date(this.task_start))return M.toast({html:"Start date should be sooner than Deadline"}),$("#StartDate,#DeadLine").css("border","solid red 1px"),!1}else this.task_start=null,this.task_deadline=null,this.task_fte="TBD";return null==this.SelectedProjCat&&a.push("Project Category"),null==this.SelectedProj&&"Personal"!=this.SelectedProjCat&&"xBacklog"!=this.SelectedProjCat&&a.push("Project"),this.showOwner&&null==this.SelectedOwner.UID&&a.push("Owner"),a.length>0?(a.forEach(function(e,i){t=i<a.length-1?", ":"",s=s+e+t}),M.toast({html:s}),!1):""!=this.detail_link?(M.toast({html:"Attachment URL should be empty"}),!1):void o.a.collection(this.SelectedOwner.UID).add({tName:this.task_name,tDescription:this.task_details,tStart:this.task_start,tDeadline:this.task_deadline,tProject:this.SelectedProj,tProjCateg:this.SelectedProjCat,tStatus:this.SelectedStatus,tFTE:this.task_fte,tOwner:this.SelectedOwner,tAttach:this.task_attachement,t_isActive:!0,isPrivate:"Personal"==this.SelectedProjCat,CreatedBy:n.a.auth().currentUser.uid,CreatedDate:V().format("YYYY-MM-DD")}).then(function(t){return e.$router.push({name:e.$route.query.mnext})}).catch(function(t){return console.log(err)})},AddHyperlink:function(){if(""!=this.detail_link){var t=this.detail_title?this.detail_title:"Click here";-1==this.detail_link.indexOf("http")&&(this.detail_link="https://"+this.detail_link),this.task_attachement.push("<a href='"+this.detail_link+"' target='_blank'>"+t+"</a>"),this.detail_link="",this.detail_title=""}else M.toast({html:"URL field should not be empty"})},RemoveHyperlink:function(t){var e=this.task_attachement.indexOf(t);this.task_attachement.splice(e,1)},addProjCategory:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects").doc(t.AddNewProjCat).set({Projects:[]}).then(function(){t.showNewProjCat=!1})},DelProjCategory:function(t){var e=this;null!=e.AddNewProjCat?o.a.collection("DropDowns/InnoPipeline/Projects").doc(e.AddNewProjCat).delete().then(function(){e.AddNewProjCat=null,e.showNewProjCat=!1}):e.showNewProjCat=!1},clickCat:function(){var t=this,e=!0;if(t.showOwner=!0,"backlog"==t.SelectedOwner.UID&&(t.userFTE=null,t.SelectedOwner={Label:null,UID:null}),t.SelectedProj=null,t.SelectedStatus="In progress",t.showStatus=!0,t.showDates=!0,"xBacklog"==t.SelectedProjCat&&(e=!1,t.SelectedStatus="Not allocated",t.showOwner=!1,t.showStatus=!1,t.SelectedProj="Backlog",t.SelectedStatus="Not allocated",t.task_fte=null,t.showDates=!1,t.SelectedOwner={Label:"xBacklog",UID:"backlog"},t.ownersList.forEach(function(e){if("backlog"==e.UID)return t.SelectedOwner=e,!0})),"Personal"==t.SelectedProjCat){e=!1,t.showOwner=!1,t.task_fte="TBD",t.showStatus=!1;var a=n.a.auth().currentUser.uid;t.ownersList.forEach(function(e){if(e.UID==a)return t.SelectedOwner=e,!0})}e?o.a.collection("DropDowns/InnoPipeline/Projects/"+t.SelectedProjCat+"/Proj").onSnapshot(function(e){t.ProjectsList=[],e.forEach(function(e){t.ProjectsList.push(e.id)}),t.showProject=!0}):t.showProject=!1},clickStatus:function(){this.showOwner=!0,"Not allocated"==this.SelectedStatus?(this.showOwner=!1,this.showDates=!1,this.SelectedOwner={Label:"xBacklog",UID:"backlog"}):"backlog"==this.SelectedOwner.UID&&(this.SelectedOwner={Label:null,UID:null},this.userFTE=null)},clickUser:function(){this.showDates=!0,this.GetUserFTE()},addProj:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects/"+t.SelectedProjCat+"/Proj").doc(t.AddNewProj).set({Projects:null}).then(function(){t.showNewProj=!1})},DelProj:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects/"+t.SelectedProjCat+"/Proj").doc(t.AddNewProj).delete().then(function(){t.showNewProj=!1})}},mounted:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects").onSnapshot(function(e){t.ProjectsCat=[],e.forEach(function(e){t.ProjectsCat.push(e.id)}),t.ProjectsCat.sort()})}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"new-task"}},[a("h3",[t._v("Add new tasks")]),t._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.saveTask(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name,expression:"task_name"}],attrs:{placeholder:"Task name",type:"text",required:""},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Name:")])])]),t._v(" "),t.showDates?a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_start,expression:"task_start"}],attrs:{id:"StartDate",type:"date",placeholder:"start date"},domProps:{value:t.task_start},on:{change:function(e){t.updateDeadline()},input:function(e){e.target.composing||(t.task_start=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Start date:")])]),t._v(" "),a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_deadline,expression:"task_deadline"}],attrs:{id:"DeadLine",type:"date",placeholder:"Task deadline"},domProps:{value:t.task_deadline},on:{input:function(e){e.target.composing||(t.task_deadline=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Deadline:")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_fte,expression:"task_fte"}],staticStyle:{display:"inline",width:"70px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_fte=e.target.multiple?a:a[0]}}},t._l(t.FTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("FTE")])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Category:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},[t._l(t.ProjectsCat,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedProjCat==e},on:{click:function(a){t.SelectedProjCat=e,t.clickCat()}}},[t._v("\r\n                    "+t._s(e)+"\r\n                  ")])}),t._v(" "),t.showNewProjCat?t._e():a("a",{staticClass:"btn-floating btn-small waves-effect waves-light red",on:{click:function(e){t.showNewProjCat=!0}}},[a("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),t.showNewProjCat?a("input",{directives:[{name:"model",rawName:"v-model",value:t.AddNewProjCat,expression:"AddNewProjCat"}],attrs:{placeholder:"Add a new value and then 'pres Enter' or 'Esc' to remove it",type:"text"},domProps:{value:t.AddNewProjCat},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.addProjCategory(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?(e.preventDefault(),t.DelProjCategory(e)):null}],input:function(e){e.target.composing||(t.AddNewProjCat=e.target.value)}}}):t._e()],2)]),t._v(" "),t.showProject?a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Project:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},[t._l(t.ProjectsList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedProj==e},on:{click:function(a){t.SelectedProj=e}}},[t._v("\r\n                "+t._s(e)+"\r\n              ")])}),t._v(" "),t.showNewProj?t._e():a("a",{staticClass:"btn-floating btn-small waves-effect waves-light red",on:{click:function(e){t.showNewProj=!0}}},[a("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),t.showNewProj?a("input",{directives:[{name:"model",rawName:"v-model",value:t.AddNewProj,expression:"AddNewProj"}],attrs:{placeholder:"Add a new value and then 'pres Enter' or 'Esc' to remove it",type:"text"},domProps:{value:t.AddNewProj},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.addProj(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?(e.preventDefault(),t.DelProj(e)):null}],input:function(e){e.target.composing||(t.AddNewProj=e.target.value)}}}):t._e()],2)]):t._e(),t._v(" "),t.showStatus?a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Status:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},t._l(t.Statuses,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedStatus==e},on:{click:function(a){t.SelectedStatus=e,t.clickStatus()}}},[t._v("\r\n                    "+t._s(e)+"\r\n                  ")])}))]):t._e(),t._v(" "),t.showOwner?a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Owner:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},t._l(t.ownersList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedOwner.Label==e.Label},on:{click:function(a){t.SelectedOwner=e,t.clickUser()}}},[t._v("\r\n                    "+t._s(e.Label)+"\r\n                  ")])})),t._v(" "),null!=t.userFTE?a("div",{staticClass:"red-text"},[t._v("\r\n                   Active workload: "),a("b",[t._v(t._s(t.userFTE))]),t._v(" FTE\r\n              ")]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"row"},[t.showDetails?t._e():a("span",{staticClass:"waves-effect waves-light btn-small black-text blue-grey lighten-4",on:{click:function(e){t.showDetails=!0}}},[t._v("Add details")]),t._v(" "),t.showDetails?a("span",{staticClass:"waves-effect waves-light btn-small blue-grey lighten-2",on:{click:function(e){t.showDetails=!1}}},[t._v("Hide details")]):t._e(),t._v(" "),t.showDetails?a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Details:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task_details,expression:"task_details"}],attrs:{id:"textarea1",placeholder:"Task details",required:""},domProps:{value:t.task_details},on:{input:function(e){e.target.composing||(t.task_details=e.target.value)}}})]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Attachment:")]),t._v(" "),t._l(t.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}}),t._v(" "),a("i",{staticClass:"fas fa-minus-square red-text",staticStyle:{cursor:"pointer"},on:{click:function(a){t.RemoveHyperlink(e)}}})])}),t._v(" "),a("div",{staticClass:"helperfield row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"input-field col m4"},[a("label",{staticClass:"col",attrs:{for:"linkDetails"}},[t._v("File URL path:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_link,expression:"detail_link"}],attrs:{id:"linkDetails",type:"text"},domProps:{value:t.detail_link},on:{input:function(e){e.target.composing||(t.detail_link=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col m2 input-field"},[a("label",{staticClass:"col",attrs:{for:"linkhyper"}},[t._v("Link caption:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_title,expression:"detail_title"}],attrs:{id:"linkhyper",type:"text"},domProps:{value:t.detail_title},on:{input:function(e){e.target.composing||(t.detail_title=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small col cyan darken-2",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.AddHyperlink()}}},[a("i",{staticClass:"material-icons"},[t._v("public")]),t._v("              \r\n                  Add attachment hyperlink\r\n                ")])])],2)]),t._v(" "),a("button",{staticClass:"btn brown lighten-1",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:{name:t.$route.query.mnext}}},[t._v("Cancel")])],1)])])},staticRenderFns:[]};var G=a("VU/8")(J,W,!1,function(t){a("kdt+")},"data-v-f1cbe2fe",null).exports,K=a("PJh5"),X={name:"new-task",data:function(){return{showDetails:!1,detail_link:"",detail_title:"",task_attachement:[],task_name:null,task_details:"",task_start:K().weekday(1).format("YYYY-MM-DD"),task_deadline:K().weekday(5).format("YYYY-MM-DD"),task_status:null,Statuses:H.statusesList,nStatusesList:H.statusesList,nSelectedStatus:"In progress"}},methods:{SetDeadline:function(){this.task_deadline=K(this.task_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD")},saveTask:function(){var t=this;return new Date($("#DeadLine").val())<new Date($("#StartDate").val())?(M.toast({html:"Start date should be sooner than Deadline"}),$("#StartDate,#DeadLine").css("border","solid red 1px"),!1):""!=this.detail_link?(M.toast({html:"Attachment URL should be empty"}),!1):void o.a.collection(n.a.auth().currentUser.uid).add({tName:this.task_name,tDescription:this.task_details,tStart:this.task_start,tDeadline:this.task_deadline,tProjCateg:"Personal",tStatus:this.nSelectedStatus,CreatedDate:K().format("YYYY-MM-DD"),t_isActive:!0,isPrivate:!0}).then(function(e){return t.$router.push("/")}).catch(function(t){return console.log(err)})},AddHyperlink:function(){if(""!=this.detail_link){var t=this.detail_title?this.detail_title:"Click here";-1==this.detail_link.indexOf("http")&&(this.detail_link="https://"+this.detail_link),this.task_attachement.push("<a href='"+this.detail_link+"' target='_blank'>"+t+"</a>"),this.detail_link="",this.detail_title=""}else M.toast({html:"URL field should not be empty"})},RemoveHyperlink:function(t){var e=this.task_attachement.indexOf(t);this.task_attachement.splice(e,1)}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"new-task"}},[a("h3",[t._v("Add new task")]),t._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.saveTask(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name,expression:"task_name"}],attrs:{placeholder:"Task name",type:"text",required:""},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Name:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_start,expression:"task_start"}],attrs:{id:"StartDate",type:"date",placeholder:"start date"},domProps:{value:t.task_start},on:{input:function(e){e.target.composing||(t.task_start=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Start date:")])]),t._v(" "),a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_deadline,expression:"task_deadline"}],attrs:{id:"DeadLine",type:"date",placeholder:"Task deadline"},domProps:{value:t.task_deadline},on:{input:function(e){e.target.composing||(t.task_deadline=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Deadline:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Status:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},t._l(t.nStatusesList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.nSelectedStatus==e},on:{click:function(a){t.nSelectedStatus=e}}},[t._v("\r\n                    "+t._s(e)+"\r\n                  ")])}))]),t._v(" "),a("div",{staticClass:"row"},[t.showDetails?t._e():a("span",{staticClass:"waves-effect waves-light btn-small black-text blue-grey lighten-4",on:{click:function(e){t.showDetails=!0}}},[t._v("Add details")]),t._v(" "),t.showDetails?a("span",{staticClass:"waves-effect waves-light btn-small blue-grey lighten-2",on:{click:function(e){t.showDetails=!1}}},[t._v("Hide details")]):t._e(),t._v(" "),t.showDetails?a("div",{staticClass:"input-field col s12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task_details,expression:"task_details"}],attrs:{id:"textarea1",placeholder:"Task details",required:""},domProps:{value:t.task_details},on:{input:function(e){e.target.composing||(t.task_details=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Details:")])]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"Attachment_span"}},[t._v("Attachment:")]),t._v(" "),t._l(t.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}}),t._v(" "),a("i",{staticClass:"fas fa-minus-square red-text",staticStyle:{cursor:"pointer"},on:{click:function(a){t.RemoveHyperlink(e)}}})])}),t._v(" "),a("div",{staticClass:"helperfield row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"input-field col m4"},[a("label",{staticClass:"col",attrs:{for:"linkDetails"}},[t._v("File URL path:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_link,expression:"detail_link"}],attrs:{id:"linkDetails",type:"text"},domProps:{value:t.detail_link},on:{input:function(e){e.target.composing||(t.detail_link=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col m2 input-field"},[a("label",{staticClass:"col",attrs:{for:"linkhyper"}},[t._v("Link caption:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_title,expression:"detail_title"}],attrs:{id:"linkhyper",type:"text"},domProps:{value:t.detail_title},on:{input:function(e){e.target.composing||(t.detail_title=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small col cyan darken-2",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.AddHyperlink()}}},[a("i",{staticClass:"material-icons"},[t._v("public")]),t._v("              \r\n                  Add attachment hyperlink\r\n                ")])])],2)]),t._v(" "),a("button",{staticClass:"btn brown lighten-1",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:"/view/cols"}},[t._v("Cancel")])],1)])])},staticRenderFns:[]};var Z=a("VU/8")(X,Q,!1,function(t){a("0StR")},"data-v-26cdeb74",null).exports,tt=a("PJh5"),et={name:"edit-task",data:function(){return{FTAarray:H.FTEList,task_FTE:null,showDetails:!1,showProject:!0,showNewProj:!1,showNewProjCat:!1,detail_link:"",detail_title:"",task_attachement:[],task_name:null,task_details:"",task_start:null,task_deadline:null,task_status:null,task_project:null,task_env:null,task_isActive:null,nStatusesList:H.statusesList,nSelectedStatus:"In progress"}},methods:{updateTask:function(){var t=this;if(new Date($("#DeadLine").val())<new Date($("#StartDate").val()))return M.toast({html:"Start date should be sooner than Deadline"}),$("#StartDate,#DeadLine").css("border","solid red 1px"),!1;o.a.collection(n.a.auth().currentUser.uid).doc(this.$route.params.task_id).update({tName:this.task_name,tDescription:this.task_details,tStart:this.task_start,tDeadline:this.task_deadline,tFTE:this.task_FTE,tAttach:this.task_attachement,tStatus:this.nSelectedStatus,ModifiedBy:n.a.auth().currentUser.uid,ModifiedDate:tt().format("YYYY-MM-DD HH:MM"),t_isActive:"No"==this.task_isActive}).then(function(e){console.log("task update done"),t.$router.push("/view/cols")}).catch(function(t){console.error("Error writing document: ",t)})},addProjCategory:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects").doc(t.AddNewProjCat).set({Projects:[]}).then(function(){t.showNewProjCat=!1})},DelProjCategory:function(t){var e=this;null!=e.AddNewProjCat?o.a.collection("DropDowns/InnoPipeline/Projects").doc(e.AddNewProjCat).delete().then(function(){e.AddNewProjCat=null,e.showNewProjCat=!1}):e.showNewProjCat=!1},getProjects:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects/"+t.SelectedProjCat+"/Proj").onSnapshot(function(e){t.ProjectsList=[],e.forEach(function(e){t.ProjectsList.push(e.id)}),t.showProject=!0})},addProj:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects/"+t.SelectedProjCat+"/Proj").doc(t.AddNewProj).set({Projects:null}).then(function(){t.showNewProj=!1})},DelProj:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects/"+t.SelectedProjCat+"/Proj").doc(t.AddNewProj).delete().then(function(){t.showNewProj=!1})},AddHyperlink:function(){if(""!=this.detail_link){var t=this.detail_title?this.detail_title:"Click here";-1==this.detail_link.indexOf("http")&&(this.detail_link="https://"+this.detail_link),this.task_attachement.push("<a href='"+this.detail_link+"' target='_blank'>"+t+"</a>"),this.detail_link="",this.detail_title=""}else M.toast({html:"URL field should not be empty"})},RemoveHyperlink:function(t){var e=this.task_attachement.indexOf(t);this.task_attachement.splice(e,1)}},created:function(){var t=this;o.a.collection(n.a.auth().currentUser.uid).doc(this.$route.params.task_id).get().then(function(e){t.task_name=e.data().tName,t.task_details=e.data().tDescription,t.task_start=e.data().tStart,t.task_deadline=e.data().tDeadline,t.task_FTE=e.data().tFTE?e.data().tFTE:"TBD",t.nSelectedStatus=e.data().tStatus,t.SelectedProjCat=e.data().tProjCateg,t.SelectedProj=e.data().tProject,t.task_attachement=e.data().tAttach?e.data().tAttach:[],t.task_env=e.data().tEnvironment,t.task_isActive=e.data().t_isActive?"No":"Yes",t.getProjects()}),$(".material-tooltip").css("opacity",0)},mounted:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects").onSnapshot(function(e){t.ProjectsCat=[],e.forEach(function(e){t.ProjectsCat.push(e.id)}),t.ProjectsCat.sort()})}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"edit-task"}},[a("h3",[t._v("Edit task")]),t._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.updateTask(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name,expression:"task_name"}],attrs:{placeholder:"Task name",type:"text",required:""},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Name:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Details:")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task_details,expression:"task_details"}],attrs:{id:"textarea1",placeholder:"Task details"},domProps:{value:t.task_details},on:{input:function(e){e.target.composing||(t.task_details=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_start,expression:"task_start"}],attrs:{id:"StartDate",type:"date",placeholder:"start date"},domProps:{value:t.task_start},on:{input:function(e){e.target.composing||(t.task_start=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Start date:")])]),t._v(" "),a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_deadline,expression:"task_deadline"}],attrs:{id:"DeadLine",type:"date",placeholder:"Task deadline"},domProps:{value:t.task_deadline},on:{input:function(e){e.target.composing||(t.task_deadline=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Deadline:")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_FTE,expression:"task_FTE"}],staticStyle:{display:"inline",width:"70px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_FTE=e.target.multiple?a:a[0]}}},t._l(t.FTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("FTE")])]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Status:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},t._l(t.nStatusesList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.nSelectedStatus==e},on:{click:function(a){t.nSelectedStatus=e}}},[t._v("\n                  "+t._s(e)+"\n                ")])}))]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_isActive,expression:"task_isActive"}],staticStyle:{display:"block",width:"70px","margin-top":"10px"},attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_isActive=e.target.multiple?a:a[0]}}},[a("option",[t._v("Yes")]),t._v(" "),a("option",[t._v("No")])]),t._v(" "),a("label",{staticClass:"active"},[t._v("Is archived:")]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Attachment:")]),t._v(" "),t._l(t.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}}),t._v(" "),a("i",{staticClass:"fas fa-minus-square red-text",staticStyle:{cursor:"pointer"},on:{click:function(a){t.RemoveHyperlink(e)}}})])}),t._v(" "),a("div",{staticClass:"helperfield row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"input-field col m4"},[a("label",{staticClass:"col",attrs:{for:"linkDetails"}},[t._v("File URL path:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_link,expression:"detail_link"}],attrs:{id:"linkDetails",type:"text"},domProps:{value:t.detail_link},on:{input:function(e){e.target.composing||(t.detail_link=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col m2 input-field"},[a("label",{staticClass:"col",attrs:{for:"linkhyper"}},[t._v("Link caption:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_title,expression:"detail_title"}],attrs:{id:"linkhyper",type:"text"},domProps:{value:t.detail_title},on:{input:function(e){e.target.composing||(t.detail_title=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small col cyan darken-2",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.AddHyperlink()}}},[a("i",{staticClass:"material-icons"},[t._v("public")]),t._v("              \n                Add attachment hyperlink\n              ")])])],2)]),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:"/view/cols"}},[t._v("Cancel")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info"},[this._v("\n            By setting this to "),e("b",[this._v("Yes")]),this._v(" the task will only be visible in 'My All' view\n          ")])}]};var st=a("VU/8")(et,at,!1,function(t){a("uiCr")},"data-v-05942ca6",null).exports,it=a("PJh5"),nt={name:"edit-task",data:function(){return{FTAarray:H.FTEList,task_FTE:"",showDetails:!1,showProject:!0,showNewProj:!1,showNewProjCat:!1,showUsers:!1,detail_link:"",detail_title:"",task_attachement:[],task_name:null,task_details:"",task_start:null,task_deadline:null,task_status:null,task_project:null,task_env:null,task_isActive:null,task_createdBy:null,Statuses:H.statusesList,ManagersArray:[],SelectedManager:null,ProjectsCat:[],AddNewProjCat:null,SelectedProjCat:null,ProjectsList:[],SelectedProj:null,AddNewProj:null,nStatusesList:H.statusesList,nSelectedStatus:"In progress",ownersList:H.OwnersList,SelectedOwner:{Label:null,UID:null},initialOwner:{Label:null,UID:null}}},methods:{SetDeadline:function(){this.task_deadline=it(this.task_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD")},moveTask:function(){o.a.collection(this.$route.query.uid).doc(this.$route.params.task_id)},updateTask:function(){var t=this;if(new Date($("#DeadLine").val())<new Date($("#StartDate").val()))return M.toast({html:"Start date should be sooner than Deadline"}),$("#StartDate,#DeadLine").css("border","solid red 1px"),!1;var e,a=[],s="Please select ";if(null==this.SelectedProj&&"Personal"!=this.SelectedProjCat&&"xBacklog"!=this.SelectedProjCat&&a.push("Project"),this.showUsers&&null==this.SelectedOwner.UID&&a.push("Owner"),a.length>0)return a.forEach(function(t,i){e=i<a.length-1?", ":"",s=s+t+e}),M.toast({html:s}),!1;t.SelectedOwner.UID!=t.initialOwner.UID?(console.log("reasignare"),o.a.collection(t.$route.query.uid).doc(t.$route.params.task_id).get().then(function(e){o.a.collection(t.SelectedOwner.UID).doc(t.$route.params.task_id).set(e.data()).then(function(e){o.a.collection(t.SelectedOwner.UID).doc(t.$route.params.task_id).update({tName:t.task_name,tDescription:t.task_details,tStart:t.task_start,tDeadline:t.task_deadline,tFTE:t.task_FTE,tProject:t.SelectedProj,tProjCateg:t.SelectedProjCat,tStatus:t.nSelectedStatus,tAttach:t.task_attachement,tClosedDate:"Completed"==t.nSelectedStatus?it().format("YYYY-MM-DD"):"",tOwner:t.SelectedOwner,ModifiedBy:n.a.auth().currentUser.uid,ModifiedDate:it().format("YYYY-MM-DD HH:MM"),t_isActive:"No"==t.task_isActive}).then(function(e){o.a.collection(t.$route.query.uid).doc(t.$route.params.task_id).delete().then(function(e){t.$router.push({name:t.$route.query.mnext}),console.log("task removed from old user")})}).catch(function(t){console.error("Error writing document: ",t)})})})):o.a.collection(this.$route.query.uid).doc(this.$route.params.task_id).update({tName:this.task_name,tDescription:this.task_details,tStart:this.task_start,tDeadline:this.task_deadline,tFTE:this.task_FTE,tProject:this.SelectedProj,tProjCateg:this.SelectedProjCat,tStatus:this.nSelectedStatus,tClosedDate:"Completed"==this.nSelectedStatus?it().format("YYYY-MM-DD"):"",tAttach:this.task_attachement,CreatedBy:this.SelectedManager.OBJ.UID,ModifiedBy:n.a.auth().currentUser.uid,ModifiedDate:it().format("YYYY-MM-DD"),t_isActive:"No"==this.task_isActive}).then(function(e){t.$router.push({name:t.$route.query.mnext})}).catch(function(t){console.error("Error writing document: ",t)})},addProjCategory:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects").doc(t.AddNewProjCat).set({Projects:[]}).then(function(){t.showNewProjCat=!1})},DelProjCategory:function(t){var e=this;null!=e.AddNewProjCat?o.a.collection("DropDowns/InnoPipeline/Projects").doc(e.AddNewProjCat).delete().then(function(){e.AddNewProjCat=null,e.showNewProjCat=!1}):e.showNewProjCat=!1},DeleteTask:function(){var t=this;window.confirm("The task will be permanently deleted, are you sure?")&&o.a.collection(this.$route.query.uid).doc(this.$route.params.task_id).delete().then(function(){t.$router.push({name:t.$route.query.mnext})})},getProjects:function(t){var e=this;"xBacklog"!=e.SelectedProjCat&&t&&(e.SelectedProj=null),o.a.collection("DropDowns/InnoPipeline/Projects/"+e.SelectedProjCat+"/Proj").onSnapshot(function(t){e.ProjectsList=[],t.forEach(function(t){e.ProjectsList.push(t.id)}),e.showProject=!0})},addProj:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects/"+t.SelectedProjCat+"/Proj").doc(t.AddNewProj).set({Projects:null}).then(function(){t.showNewProj=!1})},DelProj:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects/"+t.SelectedProjCat+"/Proj").doc(t.AddNewProj).delete().then(function(){t.showNewProj=!1})},AddHyperlink:function(){if(""!=this.detail_link){var t=this.detail_title?this.detail_title:"Click here";-1==this.detail_link.indexOf("http")&&(this.detail_link="https://"+this.detail_link),this.task_attachement.push("<a href='"+this.detail_link+"' target='_blank'>"+t+"</a>"),this.detail_link="",this.detail_title=""}else M.toast({html:"URL field should not be empty"})},RemoveHyperlink:function(t){var e=this.task_attachement.indexOf(t);this.task_attachement.splice(e,1)}},created:function(){var t=this,e=this;o.a.collection(this.$route.query.uid).doc(this.$route.params.task_id).get().then(function(e){t.task_name=e.data().tName,t.task_details=e.data().tDescription,t.task_start=e.data().tStart,t.task_deadline=e.data().tDeadline,t.task_FTE=e.data().tFTE?e.data().tFTE:"",t.nSelectedStatus=e.data().tStatus,t.SelectedProjCat=e.data().tProjCateg,t.SelectedProj=e.data().tProject,t.SelectedOwner=e.data().tOwner?e.data().tOwner:{Label:null,UID:null},t.initialOwner=t.SelectedOwner,t.task_attachement=e.data().tAttach?e.data().tAttach:[],t.task_createdBy=e.data().CreatedBy,t.task_isActive=e.data().t_isActive?"No":"Yes","xBacklog"==t.SelectedProjCat&&(t.task_start=it().weekday(1).format("YYYY-MM-DD"),t.task_deadline=it().weekday(5).format("YYYY-MM-DD")),t.getProjects()}),o.a.collection("Users").where("isManager","==",!0).get().then(function(t){t.forEach(function(t){var a={OBJ:{name:t.data().Label,UID:t.id}};e.ManagersArray.push(a)}),e.ManagersArray.sort(function(t,e){return"All"==e.OBJ.name?1:t.OBJ.name<e.OBJ.name?-1:t.OBJ.name>e.OBJ.name?1:0}),e.ManagersArray.forEach(function(t){if(t.OBJ.UID==e.task_createdBy)return e.SelectedManager=t,!0})}),$(".material-tooltip").remove()},mounted:function(){var t=this;o.a.collection("DropDowns/InnoPipeline/Projects").onSnapshot(function(e){t.ProjectsCat=[],e.forEach(function(e){t.ProjectsCat.push(e.id)}),t.ProjectsCat.sort()})}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"edit-task"}},[a("h3",[t._v("Edit task")]),t._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.updateTask(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_name,expression:"task_name"}],attrs:{placeholder:"Task name",type:"text",required:""},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Name:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task_details,expression:"task_details"}],attrs:{id:"textarea1",placeholder:"Task details"},domProps:{value:t.task_details},on:{input:function(e){e.target.composing||(t.task_details=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Details:")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_start,expression:"task_start"}],attrs:{id:"StartDate",type:"date",placeholder:"start date"},domProps:{value:t.task_start},on:{input:function(e){e.target.composing||(t.task_start=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Start date:")])]),t._v(" "),a("div",{staticClass:"input-field col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task_deadline,expression:"task_deadline"}],attrs:{id:"DeadLine",type:"date",placeholder:"Task deadline"},domProps:{value:t.task_deadline},on:{input:function(e){e.target.composing||(t.task_deadline=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active"},[t._v("Deadline:")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_FTE,expression:"task_FTE"}],staticStyle:{display:"inline",width:"70px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_FTE=e.target.multiple?a:a[0]}}},t._l(t.FTAarray,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),a("span",[t._v("FTE")])]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Category:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},[t._l(t.ProjectsCat,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedProjCat==e},on:{click:function(a){t.SelectedProjCat=e,t.getProjects(!0)}}},[t._v("\n                  "+t._s(e)+"\n                ")])}),t._v(" "),t.showNewProjCat?t._e():a("a",{staticClass:"btn-floating btn-small waves-effect waves-light red",on:{click:function(e){t.showNewProjCat=!0}}},[a("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),t.showNewProjCat?a("input",{directives:[{name:"model",rawName:"v-model",value:t.AddNewProjCat,expression:"AddNewProjCat"}],attrs:{placeholder:"Add a new value and then 'pres Enter' or 'Esc' to remove it",type:"text"},domProps:{value:t.AddNewProjCat},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.addProjCategory(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?(e.preventDefault(),t.DelProjCategory(e)):null}],input:function(e){e.target.composing||(t.AddNewProjCat=e.target.value)}}}):t._e()],2)]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Project:")]),t._v(" "),t.showProject?a("div",{staticClass:"input-field col s12"},[t._l(t.ProjectsList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedProj==e},on:{click:function(a){t.SelectedProj=e}}},[t._v("\n              "+t._s(e)+"\n            ")])}),t._v(" "),t.showNewProj?t._e():a("a",{staticClass:"btn-floating btn-small waves-effect waves-light red",on:{click:function(e){t.showNewProj=!0}}},[a("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),t.showNewProj?a("input",{directives:[{name:"model",rawName:"v-model",value:t.AddNewProj,expression:"AddNewProj"}],attrs:{placeholder:"Add a new value and then 'pres Enter' or 'Esc' to remove it",type:"text"},domProps:{value:t.AddNewProj},on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.addProj(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?(e.preventDefault(),t.DelProj(e)):null}],input:function(e){e.target.composing||(t.AddNewProj=e.target.value)}}}):t._e()],2):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Status:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},t._l(t.nStatusesList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.nSelectedStatus==e},on:{click:function(a){t.nSelectedStatus=e}}},[t._v("\n                  "+t._s(e)+"\n                ")])}))]),t._v(" "),a("label",{staticClass:"active"},[t._v("Owner:")]),t._v(" "),t.showUsers?t._e():a("div",[a("b",[t._v(t._s(t.initialOwner.Label))]),a("br"),t._v(" "),a("a",{staticClass:"btn waves-effect waves-light blue darken-3",staticStyle:{"z-index":"0"},on:{click:function(e){t.showUsers=!0}}},[a("i",{staticClass:"material-icons right"},[t._v("assignment_ind")]),t._v("Change owner\n          ")])]),t._v(" "),t.showUsers?a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},t._l(t.ownersList,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedOwner.UID==e.UID},on:{click:function(a){t.SelectedOwner=e}}},[t._v("\n                  "+t._s(e.Label)+"\n                ")])}))]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.task_isActive,expression:"task_isActive"}],staticStyle:{display:"block",width:"150px"},attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.task_isActive=e.target.multiple?a:a[0]}}},[a("option",[t._v("Yes")]),t._v(" "),a("option",[t._v("No")])]),t._v(" "),a("label",{staticClass:"active"},[t._v("Is archived:")]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"row"},[a("label",{staticClass:"active"},[t._v("Created by:")]),t._v(" "),a("div",{staticClass:"input-field col s12"},t._l(t.ManagersArray,function(e){return a("span",{key:e.id,staticClass:"mySingle chip",class:{mySingleSelected:t.SelectedManager==e},on:{click:function(a){t.SelectedManager=e}}},[t._v("\n                  "+t._s(e.OBJ.name)+"\n                ")])}))]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("label",{staticClass:"active",attrs:{for:"textarea1"}},[t._v("Attachment:")]),t._v(" "),t._l(t.task_attachement,function(e){return a("div",{key:e.id},[a("span",{attrs:{id:"Attachment_span"},domProps:{innerHTML:t._s(e)}}),t._v(" "),a("i",{staticClass:"fas fa-minus-square red-text",staticStyle:{cursor:"pointer"},on:{click:function(a){t.RemoveHyperlink(e)}}})])}),t._v(" "),a("div",{staticClass:"helperfield row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"input-field col m4"},[a("label",{staticClass:"col",attrs:{for:"linkDetails"}},[t._v("File URL path:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_link,expression:"detail_link"}],attrs:{id:"linkDetails",type:"text"},domProps:{value:t.detail_link},on:{input:function(e){e.target.composing||(t.detail_link=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col m2 input-field"},[a("label",{staticClass:"col",attrs:{for:"linkhyper"}},[t._v("Link caption:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail_title,expression:"detail_title"}],attrs:{id:"linkhyper",type:"text"},domProps:{value:t.detail_title},on:{input:function(e){e.target.composing||(t.detail_title=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"waves-effect waves-light btn-small col cyan darken-2",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.AddHyperlink()}}},[a("i",{staticClass:"material-icons"},[t._v("public")]),t._v("              \n                Add attachment hyperlink\n              ")])])],2)]),t._v(" "),a("div",{staticClass:"row MyFixed",staticStyle:{width:"100%"}},[a("div",{staticClass:"col left",staticStyle:{"margin-left":"37px","z-index":"100"}},[a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),a("router-link",{staticClass:"btn grey",attrs:{to:{name:t.$route.query.mnext}}},[t._v("Cancel")])],1),t._v(" "),a("a",{staticClass:"btn waves-effect waves-light red darken-4 right",on:{click:t.DeleteTask}},[a("i",{staticClass:"material-icons right"},[t._v("delete_forever")]),t._v("Delete")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info"},[this._v("\n            By setting this to "),e("b",[this._v("Yes")]),this._v(" the task will only be visible in 'My All' view\n          ")])}]};var rt=a("VU/8")(nt,ot,!1,function(t){a("DA1c")},"data-v-9f7fd712",null).exports,lt={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(){var t=this;n.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){M.toast({html:"You are logged in as "+e.email}),t.$router.go({path:"/view/cols"})},function(t){alert(t.message)})},dummyLogin:function(){this.email="test@ipsos.com",this.password="asdQWE123",this.login()}}},ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12 m8 offset-m2"},[a("div",{staticClass:"login card-panel green white-text center"},[t._m(0),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("div",{staticClass:"input-field"},[a("i",{staticClass:"material-icons prefix"},[t._v("email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"input-field"},[a("i",{staticClass:"material-icons prefix"},[t._v("lock")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-large btn-extended grey lighten-4 black-text"},[t._v("Login")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("i",[this._v("Login")])])}]};var dt=a("VU/8")(lt,ct,!1,function(t){a("dgMc")},"data-v-e33abfdc",null).exports,_t=a("mvHQ"),ut=a.n(_t),vt=a("PJh5"),pt={name:"AdminDashboard",data:function(){return{tasks:[],UsersAndArrays:[],GotUsers:0}},methods:{runF1:function(){this.GetFire_users()},GetFire_users:function(){var t=this,e=this;o.a.collection("Users").get().then(function(a){a.forEach(function(t){var a={OBJ:{name:t.data().Label,isOwner:t.data().isOwner,isManager:t.data().isManager,UID:t.id}};e.UsersAndArrays.push(a)}),e.GotUsers=0,t.UsersAndArrays.forEach(function(t){e.getTasksForUsers(t.OBJ.UID)})})},getTasksForUsers:function(t){var e=this;o.a.collection(t).get().then(function(a){var s={UID:t,tasks:[]};a.forEach(function(t){s.tasks.push(t.data())}),e.tasks.push(s),e.GotUsers++})},exportDB:function(t){var e,a,s;e=ut()(t),a="dbBKP_"+vt().format("YYYY_MM_DD_HH-SS")+".json",(s=document.createElement("a")).href=URL.createObjectURL(new Blob([e],{type:"text/"+a.split(".").pop()})),s.download=a,s.click()},GetFire_ForTasks:function(t){var e=this;e.UsersAndArrays.forEach(function(t){e.GetFire_userTasks(t.OBJ)})},GetFire_userTasks:function(t){o.a.collection(t.UID).get().then(function(e){t.tasks=[],e.forEach(function(e){o.a.collection(t.UID).doc(e.id).update({isPrivate:!1})})})},runF1s:function(){var t=this.tasks;o.a.collection("YqRVNtuUu3aAHt6g2YW05OxIsj42").get().then(function(e){e.forEach(function(e){t.push(e.data())})}).then(function(){console.log("runF1 done")}).catch(function(t){console.log("Error getting documents: ",t)})},runF2:function(){this.exportDB(this.tasks)}}},mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"edit-task"}},[a("H1",[t._v("Admin area")]),t._v(" "),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.runF1}},[t._v("Run f1")]),t._v(" "),t.GotUsers>=t.tasks.length&&t.tasks.length>0?a("button",{staticClass:"btn blue",attrs:{type:"button"},on:{click:t.runF2}},[t._v("Run f2")]):t._e()],1)},staticRenderFns:[]};var ht=a("VU/8")(pt,mt,!1,function(t){a("Wthr")},null,null).exports;s.a.use(u.a);var kt=new u.a({routes:[{path:"/",name:"dashboard",component:m,meta:{requiresAuth:!0}},{path:"/view/all",name:"viewall",component:f,meta:{requiresAuth:!0}},{path:"/view/cols",name:"view-cols",component:D,meta:{requiresAuth:!0}},{path:"/view/gantt",name:"viewgantt",component:j,meta:{requiresAuth:!0}},{path:"/view/users",name:"viewusers",component:Y,meta:{requiresAuth:!0,requiresMng:!1}},{path:"/view/projcat",name:"viewprojcat",component:I,meta:{requiresAuth:!0}},{path:"/new",name:"new-task",component:G,meta:{requiresAuth:!0,requiresMng:!0}},{path:"/AddNew",name:"new-privateTask",component:Z,meta:{requiresAuth:!0}},{path:"/edit/:task_id",name:"edit-task",component:st,meta:{requiresAuth:!0}},{path:"/edit_mng/:task_id",name:"edit-task_mng",component:rt,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:dt,meta:{requiresGuest:!0}},{path:"/admn",name:"admin",component:ht,meta:{requiresAuth:!0}}]});kt.beforeEach(function(t,e,a){$(".material-tooltip").remove(),t.matched.some(function(t){return t.meta.requiresAuth})?n.a.auth().currentUser?t.matched.some(function(t){return t.meta.requiresMng})?o.a.collection("Users").doc(n.a.auth().currentUser.uid).get().then(function(t){t.data().isManager?a():a({path:"/"})}):a():a({path:"/login"}):t.matched.some(function(t){return t.meta.requiresGuest})&&n.a.auth().currentUser?"login"==t.name?a({path:"/view/cols",query:{redirect:t.fullPath}}):a({path:"/"}):a()});var ft=kt;s.a.config.productionTip=!1;var Ct=void 0;n.a.auth().onAuthStateChanged(function(t){Ct||(Ct=new s.a({el:"#app",router:ft,template:"<App/>",components:{App:_}}))})},O2iK:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__firebaseInit__=__webpack_require__("qVsQ"),__WEBPACK_IMPORTED_MODULE_1_firebase__=__webpack_require__("Sazm"),__WEBPACK_IMPORTED_MODULE_1_firebase___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_firebase__),moment=__webpack_require__("PJh5");__webpack_exports__.a={name:"userview",data:function(){return{showDateFilter:!1,Datefilter_start:moment().weekday(1).format("YYYY-MM-DD"),Datefilter_end:moment().weekday(5).format("YYYY-MM-DD"),StatusesList:["All active","In progress","On hold","Completed","Canceled","Not allocated"],UsersAndArrays:[],ManagersArray:[],isManager:!1,SelectedManager:{OBJ:{UID:"All",name:"All"}},SelectedStatus:"All active"}},updated:function(){$(".tooltipped").tooltip()},mounted:function(){var t=this;this.GetFire_users(),__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection("Users").doc(__WEBPACK_IMPORTED_MODULE_1_firebase___default.a.auth().currentUser.uid).get().then(function(e){t.isManager=e.data().isManager})},methods:{datefilter_setEnd:function(){this.Datefilter_end=moment(this.Datefilter_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD")},GetFire_users:function(){var t=this;__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection("Users").where("isOwner","==",!0).get().then(function(e){e.forEach(function(e){var a={OBJ:{name:e.data().Label,tasks:[],UID:e.id}};t.UsersAndArrays.push(a)}),t.UsersAndArrays.sort(function(t,e){return t.OBJ.name<e.OBJ.name?-1:t.OBJ.name>e.OBJ.name?1:0}),t.GetFire_ForTasks()}),__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection("Users").where("isManager","==",!0).get().then(function(e){e.forEach(function(e){var a={OBJ:{name:e.data().Label,UID:e.id}};t.ManagersArray.push(a)}),t.ManagersArray.push({OBJ:{UID:"All",name:"All"}}),t.ManagersArray.sort(function(t,e){return"All"==e.OBJ.name?1:t.OBJ.name<e.OBJ.name?-1:t.OBJ.name>e.OBJ.name?1:0})})},GetFire_ForTasks:function(){var t=this;t.UsersAndArrays.forEach(function(e){t.GetFire_userTasks(e.OBJ)})},GetFire_userTasks:function GetFire_userTasks(OBJ){var objVue=this;__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection(OBJ.UID).where("t_isActive","==",!0).onSnapshot(function(querySnapshot){var queryString;OBJ.tasks=[],queryString=void 0==objVue.SelectedStatus||"All active"==objVue.SelectedStatus?"(doc.data().tStatus == 'In progress' || doc.data().tStatus == 'On hold'|| doc.data().tStatus == 'Not allocated')":"(doc.data().tStatus == '"+objVue.SelectedStatus+"')",queryString+=" && (doc.data().isPrivate == undefined || doc.data().isPrivate == false)","All"!=objVue.SelectedManager.OBJ.name&&(queryString=queryString+" && doc.data().CreatedBy=='"+objVue.SelectedManager.OBJ.UID+"'"),objVue.showDateFilter&&(queryString+="&& ",queryString+="(( moment(objVue.Datefilter_start,'YYYY-MM-DD').isSameOrBefore(moment(doc.data().tStart,'YYYY-MM-DD')) && moment(doc.data().tStart,'YYYY-MM-DD').isSameOrBefore(moment(objVue.Datefilter_start,'YYYY-MM-DD')) )",queryString+="|| ",queryString+="( moment(doc.data().tDeadline,'YYYY-MM-DD').isSameOrBefore(moment(objVue.Datefilter_end,'YYYY-MM-DD')) && moment(objVue.Datefilter_start,'YYYY-MM-DD').isSameOrBefore(moment(doc.data().tDeadline,'YYYY-MM-DD')) ))"),querySnapshot.forEach(function(doc){if(eval(queryString)){var data={id:doc.id,task_name:doc.data().tName,task_description:doc.data().tDescription.replace(/\n/g,"<br/>"),task_start:moment(doc.data().tStart,"YYYY-MM-DD").format("DD-MMM"),task_deadline:moment(doc.data().tDeadline,"YYYY-MM-DD").format("DD-MMM"),task_FTE:doc.data().tFTE,task_wkNo:moment(doc.data().tDeadline,"YYYY-MM-DD").week(),task_project:doc.data().tProject,task_ProjCat:doc.data().tProjCateg,task_status:doc.data().tStatus,task_owner:OBJ.UID};OBJ.tasks.push(data)}})})},CompleteTask:function(t){t.task_completed||__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection(t.task_owner).doc(t.id).update({tStatus:"Completed",tClosedDate:moment().format("YYYY-MM-DD")}).then(function(){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})},CancelTask:function(t){t.task_completed||__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection(t.task_owner).doc(t.id).update({tStatus:"Canceled"}).then(function(){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})},StartStop:function(t){var e="In progress"==t.task_status?"On hold":"In progress";__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection(t.task_owner).doc(t.id).update({tStatus:e}).then(function(t){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})},sumFTA:function(t){var e=0;return t.forEach(function(t){void 0!=t.task_FTE&&"TBD"!=t.task_FTE&&null!=t.task_FTE&&""!=t.task_FTE&&(e+=parseFloat(t.task_FTE))}),e.toFixed(2)}}}},O637:function(t,e){},Wthr:function(t,e){},dgMc:function(t,e){},fL6s:function(t,e){},ggCE:function(t,e){},i1he:function(t,e){},ieeY:function(t,e){},"kdt+":function(t,e){},pLsw:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__firebaseInit__=__webpack_require__("qVsQ"),__WEBPACK_IMPORTED_MODULE_1_firebase__=__webpack_require__("Sazm"),__WEBPACK_IMPORTED_MODULE_1_firebase___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_firebase__),moment=__webpack_require__("PJh5");__webpack_exports__.a={name:"viewProjcat",data:function(){return{showDateFilter:!1,Datefilter_start:moment().weekday(1).format("YYYY-MM-DD"),Datefilter_end:moment().weekday(5).format("YYYY-MM-DD"),StatusesList:["In progress","On hold","Completed","Canceled","Not allocated"],UsersAndArrays:[],ManagersArray:[],isManager:!1,GotUsers:0,ProjCatArray:[],SelectedManager:{OBJ:{UID:"All",name:"All"}},SelectedStatus:["In progress","On hold","Not allocated"]}},updated:function(){$(".tooltipped").tooltip()},created:function(){var t=this;__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection("Users").doc(__WEBPACK_IMPORTED_MODULE_1_firebase___default.a.auth().currentUser.uid).get().then(function(e){t.isManager=e.data().isManager})},mounted:function(){var t=this;__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection("DropDowns/InnoPipeline/Projects").get().then(function(e){t.ProjCatArray=[],e.forEach(function(e){var a={name:e.id,tasks:[]};t.ProjCatArray.push(a)}),t.ProjCatArray.push({name:"Old",tasks:[]}),t.ProjCatArray.sort()}),this.GetFire_users()},methods:{MultiStatus:function(t){if(-1!=this.SelectedStatus.indexOf(t))return!1;this.SelectedStatus.push(t),this.GetFire_ForTasks()},datefilter_setEnd:function(){this.Datefilter_end=moment(this.Datefilter_start,"YYYY-MM-DD").weekday(5).format("YYYY-MM-DD")},GetFire_users:function(){var t=this;__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection("Users").where("isOwner","==",!0).get().then(function(e){e.forEach(function(e){var a={OBJ:{name:e.data().Label,tasks:[],UID:e.id}};t.UsersAndArrays.push(a)}),t.GetFire_ForTasks()}),__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection("Users").where("isManager","==",!0).get().then(function(e){e.forEach(function(e){var a={OBJ:{name:e.data().Label,UID:e.id}};t.ManagersArray.push(a)}),t.ManagersArray.push({OBJ:{UID:"All",name:"All"}}),t.ManagersArray.sort(function(t,e){return"All"==e.OBJ.name?1:t.OBJ.name<e.OBJ.name?-1:t.OBJ.name>e.OBJ.name?1:0})})},GetFire_ForTasks:function(){var t=this;t.GotUsers=0,t.UsersAndArrays.forEach(function(e){t.GetFire_userTasks(e.OBJ)})},GetFire_userTasks:function GetFire_userTasks(OBJ){var objVue=this;__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection(OBJ.UID).where("t_isActive","==",!0).onSnapshot(function(querySnapshot){var queryString;OBJ.tasks=[],queryString="(",objVue.SelectedStatus.forEach(function(t){queryString=queryString+"doc.data().tStatus == '"+t+"' || "}),queryString=queryString.substring(0,queryString.length-4),queryString+=")",queryString+=" && (doc.data().isPrivate == undefined || doc.data().isPrivate == false)","All"!=objVue.SelectedManager.OBJ.name&&(queryString=queryString+" && doc.data().CreatedBy=='"+objVue.SelectedManager.OBJ.UID+"'"),objVue.showDateFilter&&(queryString+="&& ",queryString+="(( moment(objVue.Datefilter_start,'YYYY-MM-DD').isSameOrBefore(moment(doc.data().tStart,'YYYY-MM-DD')) && moment(doc.data().tStart,'YYYY-MM-DD').isSameOrBefore(moment(objVue.Datefilter_start,'YYYY-MM-DD')) )",queryString+="|| ",queryString+="( moment(doc.data().tDeadline,'YYYY-MM-DD').isSameOrBefore(moment(objVue.Datefilter_end,'YYYY-MM-DD')) && moment(objVue.Datefilter_start,'YYYY-MM-DD').isSameOrBefore(moment(doc.data().tDeadline,'YYYY-MM-DD')) ))"),querySnapshot.forEach(function(doc){if(eval(queryString)){var data={id:doc.id,task_name:doc.data().tName,task_description:doc.data().tDescription.replace(/\n/g,"<br/>"),task_start:moment(doc.data().tStart,"YYYY-MM-DD").format("DD-MMM"),task_deadline:moment(doc.data().tDeadline,"YYYY-MM-DD").format("DD-MMM"),task_FTE:doc.data().tFTE,task_wkNo:moment(doc.data().tDeadline,"YYYY-MM-DD").week(),task_project:doc.data().tProject,task_ProjCat:doc.data().tProjCateg,task_status:doc.data().tStatus,task_owner:OBJ.UID,task_owner_label:OBJ.name};OBJ.tasks.push(data)}}),objVue.GotUsers++,objVue.GotUsers>=objVue.UsersAndArrays.length&&objVue.GotUsers>0&&objVue.ADDTasksIncat()})},ADDTasksIncat:function(){var t=this;function e(t,e){return t.task_project<e.task_project?-1:t.task_project>e.task_project?1:0}t.ProjCatArray.forEach(function(t){t.tasks=[]}),t.UsersAndArrays.forEach(function(e){e.OBJ.tasks.forEach(function(e){var a=!1;t.ProjCatArray.forEach(function(t){t.name==e.task_ProjCat&&(t.tasks.push(e),a=!0)}),a||t.ProjCatArray.forEach(function(t){"Old"==t.name&&t.tasks.push(e)})})}),t.ProjCatArray.forEach(function(t){t.tasks.sort(e)})},CompleteTask:function(t){t.task_completed||__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection(t.task_owner).doc(t.id).update({tStatus:"Completed",tClosedDate:moment().format("YYYY-MM-DD")}).then(function(){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})},CancelTask:function(t){t.task_completed||__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection(t.task_owner).doc(t.id).update({tStatus:"Canceled"}).then(function(){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})},StartStop:function(t){var e="In progress"==t.task_status?"On hold":"In progress";__WEBPACK_IMPORTED_MODULE_0__firebaseInit__.a.collection(t.task_owner).doc(t.id).update({tStatus:e}).then(function(t){$(".material-tooltip").removeAttr("style")}).catch(function(t){console.error("Error writing document CompleteTask: ",t)})},sumFTA:function(t){var e=0;return t.forEach(function(t){void 0!=t.task_FTE&&"TBD"!=t.task_FTE&&null!=t.task_FTE&&""!=t.task_FTE&&(e+=parseFloat(t.task_FTE))}),e.toFixed(2)},DiFsumFTA:function(t,e){switch(e){case"Inno – ASI: Connect":return parseFloat(5.3-t).toFixed(2);case"Inno – MKT":return parseFloat(2.2-t).toFixed(2);default:return!1}}}}},qVsQ:function(t,e,a){"use strict";var s=a("Sazm"),i=a.n(s),n=(a("3VHS"),i.a.initializeApp({apiKey:"AIzaSyCsDSReKfWhvJzGO1Jh5z3B3rDUkX76vIY",authDomain:"mytasks-bb203.firebaseapp.com",databaseURL:"https://mytasks-bb203.firebaseio.com",projectId:"mytasks-bb203",storageBucket:"mytasks-bb203.appspot.com",messagingSenderId:"225424257486",timestampsInSnapshots:!0}));n.firestore().settings({timestampsInSnapshots:!0});e.a=n.firestore()},uiCr:function(t,e){},uslO:function(t,e,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return a(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.8e3e899ad0f55e5a181b.js.map